<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Agam's Mashed-Up Pome]]></title>
  <link href="http://agam.github.io/atom.xml" rel="self"/>
  <link href="http://agam.github.io/"/>
  <updated>2014-01-08T08:49:02+00:00</updated>
  <id>http://agam.github.io/</id>
  <author>
    <name><![CDATA[Agam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Urbit: Back Again]]></title>
    <link href="http://agam.github.io/blog/2014/01/08/urbit-back-again/"/>
    <updated>2014-01-08T08:47:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/08/urbit-back-again</id>
    <content type="html"><![CDATA[<p>Turns out I was affected by the last &ldquo;continuity breach&rdquo;.</p>

<p>So I had to delete everything and start over. In my case this meant</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>urbit
</span><span class='line'><span class="nv">$ </span>git pull origin master
</span><span class='line'><span class="nv">$ </span>make clean
</span><span class='line'><span class="nv">$ </span>make
</span><span class='line'><span class="nv">$ </span>rm -rf urb/*-*
</span><span class='line'><span class="nv">$ </span>rm -rf frogstar
</span><span class='line'><span class="nv">$ </span>vere -c frogstar
</span></code></pre></td></tr></table></div></figure>


<p>This time when I ran <code>:begin</code> it succeeded</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>generating 2048-bit RSA key...
</span><span class='line'>; ~doznec _Urban Republic_ is your neighbor
</span><span class='line'>; ~doznec _Urban Republic_ is your neighbor
</span><span class='line'>request approved
</span><span class='line'>; ~zod |Tianming| is your neighbor
</span><span class='line'>; ~zod |Tianming| is your neighbor
</span><span class='line'>; ~doznec _Urban Republic_ is your neighbor
</span><span class='line'>; ~doznec _Urban Republic_ is your neighbor
</span></code></pre></td></tr></table></div></figure>


<p>&hellip; and then more hoon files were downloaded, after which I got my new prompt:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~todbyt-nathes/try<span class="o">=</span>&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Next time I&rsquo;ll start exploring <em>Nock</em> and <em>Hoon</em> &hellip;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Programming Fun: Braille]]></title>
    <link href="http://agam.github.io/blog/2014/01/07/programming-fun-braille/"/>
    <updated>2014-01-07T23:31:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/07/programming-fun-braille</id>
    <content type="html"><![CDATA[<p>Here&rsquo;s a simple <a href="http://www.reddit.com/r/dailyprogrammer/comments/1s061q/120313_challenge_143_easy_braille/">one</a>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>Input will consistent of an array of 2x6 space-delimited Braille characters.
</span><span class='line'>This array is always on the same line, so regardless of how long the text is, it
</span><span class='line'>will always be on 3-rows of text. A lowered bump is a dot character '.', while a
</span><span class='line'>raised bump is an upper-case 'O' character.
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>
</span><span class='line'>Print the transcribed Braille.</span></code></pre></td></tr></table></div></figure>




<div><script src='https://gist.github.com/8308823.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

void InitializeBrailleData(unordered_map&lt;string, char&gt;* rep) {
  rep-&gt;insert(make_pair(&quot;O.....&quot;, &#39;A&#39;));
  rep-&gt;insert(make_pair(&quot;O.O...&quot;, &#39;B&#39;));
  rep-&gt;insert(make_pair(&quot;OO....&quot;, &#39;C&#39;));
  rep-&gt;insert(make_pair(&quot;OO.O..&quot;, &#39;D&#39;));
  rep-&gt;insert(make_pair(&quot;O..O..&quot;, &#39;E&#39;));
  rep-&gt;insert(make_pair(&quot;OOO...&quot;, &#39;F&#39;));
  rep-&gt;insert(make_pair(&quot;OOOO..&quot;, &#39;G&#39;));
  rep-&gt;insert(make_pair(&quot;O.OO..&quot;, &#39;H&#39;));
  rep-&gt;insert(make_pair(&quot;.OO...&quot;, &#39;I&#39;));
  rep-&gt;insert(make_pair(&quot;.OOO..&quot;, &#39;J&#39;));
  rep-&gt;insert(make_pair(&quot;O...O.&quot;, &#39;K&#39;));
  rep-&gt;insert(make_pair(&quot;O.O.O.&quot;, &#39;L&#39;));
  rep-&gt;insert(make_pair(&quot;OO..O.&quot;, &#39;M&#39;));
  rep-&gt;insert(make_pair(&quot;OO.OO.&quot;, &#39;N&#39;));
  rep-&gt;insert(make_pair(&quot;O..OO.&quot;, &#39;O&#39;));
  rep-&gt;insert(make_pair(&quot;OOO.O.&quot;, &#39;P&#39;));
  rep-&gt;insert(make_pair(&quot;OOOOO.&quot;, &#39;Q&#39;));
  rep-&gt;insert(make_pair(&quot;O.OOO.&quot;, &#39;R&#39;));
  rep-&gt;insert(make_pair(&quot;.OO.O.&quot;, &#39;S&#39;));
  rep-&gt;insert(make_pair(&quot;.OOOO.&quot;, &#39;T&#39;));
  rep-&gt;insert(make_pair(&quot;O...OO&quot;, &#39;U&#39;));
  rep-&gt;insert(make_pair(&quot;O.O.OO&quot;, &#39;V&#39;));
  rep-&gt;insert(make_pair(&quot;.OOO.O&quot;, &#39;W&#39;));
  rep-&gt;insert(make_pair(&quot;OO..OO&quot;, &#39;X&#39;));
  rep-&gt;insert(make_pair(&quot;OO.OOO&quot;, &#39;Y&#39;));
  rep-&gt;insert(make_pair(&quot;O..OOO&quot;, &#39;Z&#39;));
};

void AddRepresentation(const string&amp; line, vector&lt;string&gt;* representations) {
  for (int index = 0; index &lt; line.length(); index += 3) {
    (*representations)[index / 3].push_back(line[index]);
    (*representations)[index / 3].push_back(line[index + 1]);

    assert((line[index + 2] == &#39; &#39;) || (index + 2 == line.length()));
  }
}

int main() {
  unordered_map&lt;string, char&gt; braille_representation;
  InitializeBrailleData(&amp;braille_representation);

  // Assume input is well formed.
  // This means we read three lines from standard input,
  // and each line&#39;s length is (2 * x + 3)
  string line1, line2, line3;
  getline(cin, line1);
  getline(cin, line2);
  getline(cin, line3);

  // Basic invariants
  assert(line1.length() == line2.length());
  assert(line2.length() == line3.length());
  assert((line1.length() + 1) % 3 == 0);

  // Get the input into our desired form
  vector&lt;string&gt; representations((line1.length() + 1) / 3);
  AddRepresentation(line1, &amp;representations);
  AddRepresentation(line2, &amp;representations);
  AddRepresentation(line3, &amp;representations);

  for (const string&amp; rep : representations) {
    cout &lt;&lt; braille_representation[rep];
  }
  cout &lt;&lt; endl;
}
</code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Urbit: Hoon]]></title>
    <link href="http://agam.github.io/blog/2014/01/07/urbit-hoon/"/>
    <updated>2014-01-07T09:50:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/07/urbit-hoon</id>
    <content type="html"><![CDATA[<p>First off, just in case you closed your shell, terminal, screen session, whatever: you can easily resume your Arvo session</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>agam@myvm:~/urbit<span class="nv">$ </span>bin/vere frogstar
</span><span class='line'>vere: urbit home is /home/agam/urbit/urb
</span><span class='line'>loom: loaded 11MB
</span><span class='line'>init: gc: 2.361.752 bytes live
</span><span class='line'><span class="nb">time</span>: ~2014.1.7..09.04.14..a902
</span><span class='line'>ames: on localhost, UDP 57882.
</span><span class='line'>http: live on 8080
</span><span class='line'>rest: checkpoint to event 7.319
</span><span class='line'>rest: old 0v1i.p6o91, new 0v1k.b3ul0
</span><span class='line'>loaded passcode from /home/agam/.urbit/~fiddyn-lavpun.txt
</span><span class='line'>rest: replaying through event 7323
</span><span class='line'>---------------- playback starting----------------
</span><span class='line'>.....
</span><span class='line'>---------------- playback <span class="nb">complete</span>----------------
</span><span class='line'>save: gc: 28 bytes shed; 2.361.836 bytes live
</span><span class='line'>
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt;
</span></code></pre></td></tr></table></div></figure>


<p>(hmm &hellip; &ldquo;<em>playback complete</em>&rdquo; ?? Yeah apparently everything you ever do is known forever, but that makes my head hurt right now so I won&rsquo;t try too hard to understand it just yet)</p>

<p>Alright, continuing on &hellip;</p>

<h2>Fun at the REPL</h2>

<p>If you remember from <a href="http://agam.github.io/blog/2014/01/06/urbit/">earlier on</a>, we were dropped into a REPL.</p>

<p>Being a REPL means we can do stuff like</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>add 4 5<span class="o">)</span>
</span><span class='line'>9
</span></code></pre></td></tr></table></div></figure>


<p>and</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">=</span>a 17
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>add 14 a<span class="o">)</span>
</span><span class='line'>31
</span></code></pre></td></tr></table></div></figure>


<p>and also</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>mul 6 7<span class="o">)</span>
</span><span class='line'>42
</span></code></pre></td></tr></table></div></figure>


<p>or</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>mul 5 <span class="o">(</span>add 4 7<span class="o">))</span>
</span><span class='line'>55
</span></code></pre></td></tr></table></div></figure>


<p>If you look at some of the <code>hoon</code> files that were downloaded at the initial setup, you might intuit that they are executable-ish.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>+ /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try/1/bin/reverse/hoon
</span><span class='line'>...
</span><span class='line'>+ /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try/1/bin/fib/hoon
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>and more.</p>

<p>These can be run (&ldquo;evaluated&rdquo; !!) at the command line. E.g. for <code>fib/hoon</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 0
</span><span class='line'>1
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 1
</span><span class='line'>1
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 2
</span><span class='line'>2
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 3
</span><span class='line'>3
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 4
</span><span class='line'>5
</span></code></pre></td></tr></table></div></figure>


<p>Or for <code>zero/hoon</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :zero
</span><span class='line'>0                             ::  0, ~zod
</span><span class='line'>0                             ::  1, ~nec
</span><span class='line'>0                             ::  2, ~bud
</span><span class='line'>0                             ::  3, ~wes
</span><span class='line'>0                             ::  4, ~sev
</span><span class='line'>0                             ::  5, ~per
</span><span class='line'>0                             ::  6, ~sut
</span><span class='line'>0                             ::  7, ~let
</span><span class='line'>0                             ::  8, ~ful
</span><span class='line'>...
</span><span class='line'>0                             ::  252, ~pec
</span><span class='line'>0                             ::  253, ~nel
</span><span class='line'>0                             ::  254, ~nev
</span><span class='line'>0                             ::  255, ~fes
</span></code></pre></td></tr></table></div></figure>


<p>which is just 256 zeros &hellip; but you get the idea.</p>

<h2>Hoon files</h2>

<p>(More on what <code>hoon</code> really is and how to parse it later (it has to be later because I don&rsquo;t know WTF it is right now))</p>

<p>As another example, let&rsquo;s examine <code>cat/hoon</code> (which fulfills a purpose similar to the Unix <code>cat</code> you&rsquo;re familiar with)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :cat /<span class="o">=</span><span class="nv">main</span><span class="o">=</span>/toy/cat/hoon
</span><span class='line'>~ /cx/~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/~2014.1.7..09.24.24..4de6/toy/cat/hoon
</span></code></pre></td></tr></table></div></figure>


<p>The &ldquo;real&rdquo; file is at a location <em>and</em> a date! Yes, seriously. Running it again &hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :cat /<span class="o">=</span><span class="nv">main</span><span class="o">=</span>/toy/cat/hoon
</span><span class='line'>~ /cx/~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/~2014.1.7..09.25.22..9bed/toy/cat/hoon
</span></code></pre></td></tr></table></div></figure>


<p>&hellip; will give a different path.</p>

<p>So far so good. What does the file actually contain ?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :cat /<span class="o">=</span><span class="nv">main</span><span class="o">=</span>/bin/cat/hoon
</span><span class='line'><span class="s1">&#39;!:&#39;</span>
</span><span class='line'><span class="s1">&#39;::  /=main=/toy/cat/hoon&#39;</span>
</span><span class='line'><span class="s1">&#39;::&#39;</span>
</span><span class='line'><span class="s1">&#39;|=  *&#39;</span>
</span><span class='line'><span class="s1">&#39;|=  ape=(list path)&#39;</span>
</span><span class='line'><span class="s1">&#39;:_  ~&#39;</span>
</span><span class='line'><span class="s1">&#39;:_  ~&#39;</span>
</span><span class='line'><span class="s1">&#39;^-  gift&#39;</span>
</span><span class='line'><span class="s1">&#39;:+  %mu  [%atom %t]&#39;</span>
</span><span class='line'><span class="s1">&#39;=-  |-  ^-  (list ,@t)&#39;</span>
</span><span class='line'><span class="s1">&#39;    ?~(foz ~ (weld i.foz $(foz t.foz)))&#39;</span>
</span><span class='line'><span class="s1">&#39;^=  foz&#39;</span>
</span><span class='line'><span class="s1">&#39;=|  foz=(list (list ,@t))&#39;</span>
</span><span class='line'><span class="s1">&#39;|-  ^+  foz&#39;</span>
</span><span class='line'><span class="s1">&#39;?~  ape  ~&#39;</span>
</span><span class='line'><span class="s1">&#39;[(lore ((hard ,@) .^(%cx i.ape))) $(ape t.ape)]&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>&ldquo;Yikes&rdquo; is an appropriate response at this point.</p>

<p>BTW in case you were wondering: yes, right now Urbit <em>is</em> hosted on top of Unix (<strong>Arvo</strong> is written in <strong>Hoon</strong>, which is written in <strong>Nock</strong>, which is written in <strong>C</strong>), so you should see the exact same contents if you run</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>cat wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/bin/cat.hoon
</span></code></pre></td></tr></table></div></figure>


<h2>Setting up a destroyer</h2>

<p>So I asked the nice folks at <a href="mailto:urbit@urbit.org">urbit</a> nicely and they sent me a (nice?) pair of destroyers (which if nothing else, should shorten the prompt by 75% or so).</p>

<p>You&rsquo;ll receive a <em>ship</em> and its <em>ticket</em>, and then run</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :begin ~todbyt-nathes
</span><span class='line'>
</span><span class='line'>Launching ~todbyt-nathes, one of 4.278.124.800 Urbit destroyers...
</span><span class='line'>
</span><span class='line'>            If I did not build <span class="k">for </span>myself
</span><span class='line'>            <span class="k">for </span>whom should I build?
</span><span class='line'>
</span><span class='line'>                  -- Bunting, _Chomei at Toyama_
</span><span class='line'>
</span><span class='line'>Let<span class="s1">&#39;s configure your identity.  Warning - it&#39;</span>s nontrivial to
</span><span class='line'>change this data once you<span class="err">&#39;</span>ve sent it to the server.  If you enter
</span><span class='line'>something wrong, hit ^D to cancel, <span class="k">then </span>run the program again.
</span><span class='line'>
</span><span class='line'>Your ticket: &lt;Enter your ticket here&gt;
</span><span class='line'>
</span><span class='line'>Enter a passphrase or other unusual text.  You <span class="o">(</span>or your enemies<span class="o">)</span>
</span><span class='line'>can regenerate your ship from this entropy.
</span><span class='line'>
</span><span class='line'>Entropy: **********
</span><span class='line'>Entropy check: ~nildyl-hocmun
</span></code></pre></td></tr></table></div></figure>


<p>Customization follows. This would normally be boring boilerplate, but I&rsquo;ve chosen to reproduce it here since some if it is entertaining.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>What language would your ship rather speak?  Enter it as a
</span><span class='line'>two-letter <span class="o">(</span>ISO 639-1<span class="o">)</span> code, like <span class="s2">&quot;en&quot;</span> <span class="k">for </span>English.  Whatever
</span><span class='line'>language you pick, it<span class="s1">&#39;ll all be English now, but in future</span>
</span><span class='line'><span class="s1">we&#39;</span>ll be more sensitive to your needs.
</span><span class='line'>
</span><span class='line'>Language: en
</span><span class='line'>
</span><span class='line'>Okay, we<span class="err">&#39;</span>ll be speaking English.
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>Please <span class="k">select </span>one of the pre-chosen forms:
</span><span class='line'>
</span><span class='line'>  %lady   female-identified individual
</span><span class='line'>  %lord   male-identified individual
</span><span class='line'>  %punk   opaque handle
</span><span class='line'>  %anon   totally anonymous
</span><span class='line'>
</span><span class='line'>Form: %lord
</span><span class='line'>
</span><span class='line'>You<span class="s1">&#39;ve selected a personal identity.  For a %lord or a %lady,</span>
</span><span class='line'><span class="s1">please use your real name only.  If you&#39;</span>d prefer a fictitious
</span><span class='line'>handle, you can hit ^D and start over as a %punk.  Or you can
</span><span class='line'>use %anon and go by your ship name alone.
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>As a real person, we<span class="s1">&#39;re going to ask you for a little bit of</span>
</span><span class='line'><span class="s1">personal information - not enough to compromise your privacy,</span>
</span><span class='line'><span class="s1">just enough to make everyone on Urbit feel like a neighbor.</span>
</span><span class='line'>
</span><span class='line'><span class="s1">What we&#39;</span>re going to ask you <span class="k">for </span>is information that<span class="s1">&#39;s (a)</span>
</span><span class='line'><span class="s1">public (would be obvious, or at least easy to guess, for</span>
</span><span class='line'><span class="s1">someone who met you in person); (b) durable (doesn&#39;</span>t change
</span><span class='line'>often<span class="o">)</span>; and <span class="o">(</span>c<span class="o">)</span> relevant <span class="o">(</span>helps you connect with friends<span class="o">)</span>.
</span><span class='line'>
</span><span class='line'>For example, we<span class="s1">&#39;ll ask for the year (not day) you were born,</span>
</span><span class='line'><span class="s1">because your age is easy to guess in person, doesn&#39;</span>t change,
</span><span class='line'>and has a big effect on how people perceive you.
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>Year you were born: &lt;Enter your year of birth here&gt;
</span><span class='line'>
</span><span class='line'>Where are you?  This is totally optional, but we<span class="err">&#39;</span>d like to
</span><span class='line'>know your vague general location.  You can enter nothing at
</span><span class='line'>all, just a country code, or country and postal code.
</span><span class='line'>
</span><span class='line'>Location: us/&lt;Enter your zipcode here&gt;
</span><span class='line'>
</span><span class='line'>Please tell us your name - and please make it a real name.
</span><span class='line'>Pseudonyms are totally cool, but please use %punk.  Middle
</span><span class='line'>name and nickname are optional.  Ãœnicode is encouraged.
</span><span class='line'>
</span><span class='line'>First name: &lt;Enter your name here&gt;
</span><span class='line'>Middle name <span class="o">(</span>or blank<span class="o">)</span>:
</span><span class='line'>Nickname/handle <span class="o">(</span>or blank<span class="o">)</span>: agam
</span><span class='line'>Last name: &lt;Enter your name here&gt;
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>One basic human instinct is the urge to form political tribes.
</span><span class='line'>In a network that fights this need, these tribes form anyway and
</span><span class='line'>they form badly.  Urbit designs them into the infrastructure.
</span><span class='line'>Inspired by the Qing Dynasty, you<span class="s1">&#39;ll align yourself with one of</span>
</span><span class='line'><span class="s1">five colored &quot;banners&quot; - %red, %blue, %orange, %black or %white.</span>
</span><span class='line'>
</span><span class='line'><span class="s1">Political discourse across tribal boundaries is almost always an</span>
</span><span class='line'><span class="s1">antisocial act - less communication, than symbolic violence.  In</span>
</span><span class='line'><span class="s1">Urbit, messages marked political stay within your own banner;</span>
</span><span class='line'><span class="s1">your friends in other banners simply won&#39;</span>t see them.  Between
</span><span class='line'>banners, politics doesn<span class="s1">&#39;t erode apolitical relationships; inside</span>
</span><span class='line'><span class="s1">each banner, political discourse is harmonious and productive.</span>
</span><span class='line'>
</span><span class='line'><span class="s1">Pick a banner by the adjective you feel best describes you:</span>
</span><span class='line'>
</span><span class='line'><span class="s1">%red     far left: radical, anarchist</span>
</span><span class='line'><span class="s1">%blue    center-left: moderate, liberal</span>
</span><span class='line'><span class="s1">%orange  center-right: conservative, libertarian</span>
</span><span class='line'><span class="s1">%black   far right: traditionalist, reactionary</span>
</span><span class='line'>
</span><span class='line'><span class="s1">Or if digital agitation isn&#39;</span>t your cup of tea, choose %white, and
</span><span class='line'>your Urbit experience will remain politics-free.
</span><span class='line'>
</span><span class='line'>Banner: %white
</span></code></pre></td></tr></table></div></figure>


<p>At this point, it got stuck &hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>generating 2048-bit RSA key...
</span><span class='line'>ames: czar zod.urbit.org: ip .198.199.112.32
</span><span class='line'>; ~doznec ~doznec not responding still trying
</span><span class='line'>waiting on ~doznec/ta
</span></code></pre></td></tr></table></div></figure>


<p>&hellip; so I hit <code>Ctrl-D</code> and ran it again.</p>

<p>Still nothing. I guess I&rsquo;ll continue the next post once I get this working (!)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Programming Fun: Banquet Planning]]></title>
    <link href="http://agam.github.io/blog/2014/01/07/programming-fun-banquet-planning/"/>
    <updated>2014-01-07T02:27:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/07/programming-fun-banquet-planning</id>
    <content type="html"><![CDATA[<p>Here&rsquo;s <a href="http://www.reddit.com/r/dailyprogrammer/comments/1rnrs2/112813_challenge_137_intermediate_hard_banquet/">another</a> daily programming problem:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>On standard console input, you will be given two space-delimited integers, N and M. N is the number of food items, while M is the number of food-relationships. Food-items are unique single-word lower-case names with optional underscores (the '_' character), while food-relationships are two food items that are space delimited. All food-items will be listed first on their own lines, then all food-relationships will be listed on their own lines afterwards. A food-relationship is where the first item must be served before the second item.
</span><span class='line'>Note that in the food-relationships list, some food-item names can use the wildcard-character '*'. You must support this by expanding the rule to fulfill any combination of strings that fit the wildcard. For example, using the items from Sample Input 2, the rule "turkey* *_pie" expands to the following four rules:
</span><span class='line'>turkey almond_pie
</span><span class='line'>turkey_stuffing almond_pie
</span><span class='line'>turkey pecan_pie
</span><span class='line'>turkey_stuffing pecan_pie
</span><span class='line'>A helpful way to think about the wildcard expansion is to use the phrase "any item A must be before any item B". An example would be the food-relationship "*pie coffee", which can be read as "any pie must be before coffee".
</span><span class='line'>Some orderings may be ambiguous: you might have two desserts before coffee, but the ordering of desserts may not be explicit. In such a case, group the items together.
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>
</span><span class='line'>Print the correct order of food-items with a preceding index, starting from 1. If there are ambiguous ordering for items, list them together on the same line as a comma-delimited array of food-items. Any items that do not have a relationship must be printed with a warning or error message.
</span></code></pre></td></tr></table></div></figure>


<p>The second sample input (to take an example) is as follows:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>8 5
</span><span class='line'>turkey
</span><span class='line'>pecan_pie
</span><span class='line'>salad
</span><span class='line'>crab_cakes
</span><span class='line'>almond_pie
</span><span class='line'>rice
</span><span class='line'>coffee
</span><span class='line'>turkey_stuffing
</span><span class='line'>turkey_stuffing turkey
</span><span class='line'>turkey* *_pie
</span><span class='line'>*pie coffee
</span><span class='line'>salad turkey*
</span><span class='line'>crab_cakes salad</span></code></pre></td></tr></table></div></figure>


<p>So this implies a graph that looks something like this:</p>

<p><img class="center" src="http://agam.github.io/images/programming-fun/graph-dependency-1.jpg" width="300"></p>

<p>Or, if you wish, with the arrows reversed, like this:</p>

<p><img class="center" src="http://agam.github.io/images/programming-fun/graph-dependency-2.jpg" width="300"></p>

<p>So it&rsquo;s possible to start from the first <code>root</code> node, labelling it as <code>0</code> and its neighbors as <code>1</code>. This process can be repeated, with its neighbors&#8217; neighbors being labelled as <code>2</code>, and so on, until there are no nodes left to label.</p>

<p><img class="center" src="http://agam.github.io/images/programming-fun/graph-dependency-3.jpg" width="300" title="" ></p>

<p>Once all nodes are labelled, the solution is just a pairing of these numbers and the corresponding nodes.</p>

<div><script src='https://gist.github.com/8293739.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;

using namespace std;

struct GraphNode {
  vector&lt;GraphNode*&gt; neighbors;
  string label;
  int level = 0;

  GraphNode(const string&amp; l) : label(l) {}
};

void FindFoodItems(
    const string&amp; food_glob,
    const vector&lt;GraphNode*&gt;&amp; food_nodes,
    vector&lt;GraphNode*&gt;* results) {
  for (auto&amp; food_node : food_nodes) {
    // The only cases supported are:
    //   (1) Exact match
    //   (2) &#39;*&#39; at the beginning
    //   (3) &#39;*&#39; at the end
    if (food_glob.find_first_of(&#39;*&#39;) == string::npos) {
      if (food_glob == food_node-&gt;label) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
    if (food_glob.front() == &#39;*&#39;) {
      const string matcher = food_glob.substr(1);
      if (food_node-&gt;label.substr(
            food_node-&gt;label.length() - matcher.length()) ==
          matcher) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
    if (food_glob.back() == &#39;*&#39;) {
      const string matcher = food_glob.substr(0, food_glob.length() - 1);
      if (food_node-&gt;label.substr(0, matcher.length()) == matcher) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
  }
}

int main() {
  int num_food_items, num_food_relationships;
  cin &gt;&gt; num_food_items &gt;&gt; num_food_relationships;
  cout &lt;&lt; &quot;Will read in &quot; &lt;&lt; num_food_relationships &lt;&lt; &quot; relationships for &quot; &lt;&lt; num_food_items &lt;&lt; &quot; food items.&quot; &lt;&lt; endl;
  vector&lt;pair&lt;string, string&gt;&gt; food_relationships;
  vector&lt;GraphNode*&gt; food_nodes;
  for (int i = 0; i &lt; num_food_items; ++i) {
    string food_item;
    cin &gt;&gt; food_item;
    food_nodes.push_back(new GraphNode(food_item));
  }
  for (int i = 0; i &lt; num_food_relationships; ++i) {
    string food_item_1, food_item_2;
    cin &gt;&gt; food_item_1 &gt;&gt; food_item_2;
    // We are going to use regex matching whereas the input is in &#39;glob&#39; format,
    // so make a small adjustment.
    food_relationships.push_back(make_pair(food_item_1, food_item_2));
  }

  // Sanity check what we got.
  cout  &lt;&lt; &quot;Read in the following food items :- \n&quot;;
  for (const auto&amp; food_item : food_nodes) {
    cout &lt;&lt; food_item-&gt;label &lt;&lt; endl;
  }
  cout &lt;&lt; &quot;Read in the following food relationships :- \n&quot;;
  for (const auto&amp; food_relationship : food_relationships) {
    cout &lt;&lt; food_relationship.first &lt;&lt; &quot; &lt; &quot; &lt;&lt; food_relationship.second &lt;&lt; endl;
  }

  // General approach:
  // 1. Create a graph which each node corresponding to a food item
  // 2. For every relationship, expand the regex to determine the nodes involved, and
  // then create a dependency link.
  // 3. Go through the dependency links and number the nodes
  //    - Increment the number of each of a node&#39;s dependencies
  //    - Repeat for each of the dependent nodes
  //    - Add the nodes into a numbered list.
  //    - Note: this will require adding and removing nodes from the list
  // 4. Once no more dependencies have to be processed, print out numbered list
  // 5. Go through graph and print out &#39;isolated&#39; nodes
  //
  // Edge cases: Multiple origins, multiple nodes of the same number, isolated nodes

  // Step 2
  vector&lt;GraphNode*&gt; root_nodes = food_nodes;
  vector&lt;GraphNode*&gt; isolated_nodes = food_nodes;
  for (const auto&amp; food_relationship : food_relationships) {
    vector&lt;GraphNode*&gt; dependents, dependees;
    // Each relationship can potentially be many-&gt;many
    // Note: the c++ regex implementation isn&#39;t available in my standard library
    // right now, so I&#39;m going to support a limited range of globs:
    //   only those where the &#39;*&#39; is either right at the beginning or at the end
    FindFoodItems(food_relationship.first, food_nodes, &amp;dependents);
    FindFoodItems(food_relationship.second, food_nodes, &amp;dependees);

    // Now create dependency links
    for (auto&amp; nodeA : dependents) {
      for (auto&amp; nodeB : dependees) {
        nodeA-&gt;neighbors.push_back(nodeB);
      }
    }

    // Also as part of this process weed out non-root nodes for the next step, as well as isolated nodes.
    for (auto&amp; node : dependees) {
      root_nodes.erase(
          remove(root_nodes.begin(), root_nodes.end(), node),
          root_nodes.end());
      isolated_nodes.erase(
          remove(isolated_nodes.begin(), isolated_nodes.end(), node),
          isolated_nodes.end());
    }
    for (auto&amp; node : dependents) {
      isolated_nodes.erase(
          remove(isolated_nodes.begin(), isolated_nodes.end(), node),
          isolated_nodes.end());
    }
  }

  // Step 3
  // Process all the nodes in the current &#39;frontier&#39; until there are non left.
  // The first frontier is the set of root nodes
  queue&lt;GraphNode*&gt; frontier;
  for (auto&amp; node : root_nodes) {
    frontier.push(node);
  }
  while (!frontier.empty()) {
    GraphNode* current_node = frontier.front();
    for (auto&amp; neighbor : current_node-&gt;neighbors) {
      neighbor-&gt;level = current_node-&gt;level + 1;
      frontier.push(neighbor);
    }
    frontier.pop();
  }

  // Step 4
  vector&lt;vector&lt;GraphNode*&gt;&gt; levels(food_nodes.size());
  for (const auto&amp; node : food_nodes) {
    if (find(isolated_nodes.begin(), isolated_nodes.end(), node) ==
        isolated_nodes.end()) {
      levels[node-&gt;level].push_back(node);
    }
  }

  for (int i = 0; i &lt; levels.size() &amp;&amp; !levels[i].empty(); ++i) {
    cout &lt;&lt; i + 1 &lt;&lt; &quot; : &quot;;
    for (const auto&amp; node : levels[i]) {
      cout &lt;&lt; node-&gt;label &lt;&lt; &quot;  &quot;;
    }
    cout &lt;&lt; endl;
  }
  cout &lt;&lt; endl;

  // Step 5
  // Finally, print out the nodes without dependees
  for (const auto&amp; node : isolated_nodes) {
    cout &lt;&lt; &quot;Warning: &quot; &lt;&lt; node-&gt;label &lt;&lt; &quot; does not have any ordering.&quot; &lt;&lt; endl;
  }
}
</code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Urbit]]></title>
    <link href="http://agam.github.io/blog/2014/01/06/urbit/"/>
    <updated>2014-01-06T07:44:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/06/urbit</id>
    <content type="html"><![CDATA[<p>I will confess that I initially thought this was a big joke, some April Fool&rsquo;s Day kind of thing.</p>

<h2>WTF is Urbit ?</h2>

<p>Supposedly it&rsquo;s an <em>&ldquo;operating function&rdquo;</em>. You could try reading the <a href="http://www.urbit.org/faq.html">FAQ</a> but it&rsquo;s pretty sparse right now. Don&rsquo;t let that stop you from playing around with it though.</p>

<p>After watching the demo video (below), it seemed like something worth checking out.</p>

<iframe src="http://agam.github.io//player.vimeo.com/video/75312418" width="500" height="281" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>


<p>Even if it isn&rsquo;t really <em>useful</em>, there&rsquo;s something to be learnt from what is clearly a well-thought-out, complex piece of work.</p>

<h2>Getting started</h2>

<p>First, get some essential stuff.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>sudo apt-get install libgmp3-dev libsigsegv-dev openssl libssl-dev libncurses5-dev git make exuberant-ctags
</span></code></pre></td></tr></table></div></figure>


<p>Then get the source and build it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>git clone https://github.com/urbit/urbit.git
</span></code></pre></td></tr></table></div></figure>


<p>Add to your <code>.bashrc</code> the equivalent of</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span><span class="nb">export </span><span class="nv">URBIT_HOME</span><span class="o">=</span>/home/agam/urbit/urb
</span></code></pre></td></tr></table></div></figure>


<p>and then</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>urbit
</span><span class='line'><span class="nv">$ </span>make
</span></code></pre></td></tr></table></div></figure>


<p>This will go on for a short while, and if all goes well, you should end up with a new <code>bin</code> subdirectory, with a single executable. Run it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>bin/vere
</span><span class='line'>vere: urbit home is /home/agam/urbit/urb
</span><span class='line'>bin/vere: usage: <span class="o">[</span>-v<span class="o">]</span> <span class="o">[</span>-k stage<span class="o">]</span> computer
</span></code></pre></td></tr></table></div></figure>


<p>Excellently terse. Get used to it. It&rsquo;s also not exactly up-to-date. We&rsquo;re going to use a different parameter.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>bin/vere -c frogstar
</span></code></pre></td></tr></table></div></figure>


<p>Obviously, substitute some made-up-name instead of <code>frogstar</code> above. Now you should see something like</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>bin/vere -c frogstar
</span><span class='line'>vere: urbit home is /home/agam/urbit/urb
</span><span class='line'>loom: mapped 1024MB
</span><span class='line'>loading /home/agam/urbit/urb/urbit.pill
</span><span class='line'><span class="nb">time</span>: ~2014.1.6..07.34.20..58b0
</span><span class='line'>ames: on localhost, UDP 44342.
</span><span class='line'>http: live on 8080
</span><span class='line'>generating 2048-bit RSA pair...
</span><span class='line'>ames: czar zod.urbit.org: ip .198.199.112.32
</span><span class='line'>saving passcode in /home/agam/.urbit/~fiddyn-lavpun.txt
</span><span class='line'><span class="o">(</span><span class="k">for </span>real security, write it down and delete the file...<span class="o">)</span>
</span><span class='line'>; ~zod |Tianming| is your neighbor
</span><span class='line'>; ~zod |Tianming| is your neighbor
</span><span class='line'>waiting...
</span></code></pre></td></tr></table></div></figure>


<p>and after half a minute of waiting, it should download a whole bunch of <code>hoon</code> files &hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>updating...
</span><span class='line'>: /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/1/bin/update/hoon
</span><span class='line'>: /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/1/bin/update/hoon
</span><span class='line'>: /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/1/bin/update/hoon
</span><span class='line'>: /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/1/bin/update/hoon
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<h2>Going off on an adventure!</h2>

<p>At this point you should find yourself staring at the <em><code>Arvo</code> prompt</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt;
</span></code></pre></td></tr></table></div></figure>


<p>(which, it turns out, is also a REPL)</p>

<p>That&rsquo;s all for now &hellip; more on Urbit later.</p>

<p>Meanwhile, check out their website at <a href="http://www.urbit.org/">www.urbit.org</a> or explore <a href="https://github.com/urbit/urbit">the code on github</a> or follow them on twitter <a href="https://twitter.com/urbit_">@urbit_</a>.</p>

<p>Happy <em>urbiting</em> !!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Resolutions]]></title>
    <link href="http://agam.github.io/blog/2014/01/05/resolutions/"/>
    <updated>2014-01-05T20:42:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/05/resolutions</id>
    <content type="html"><![CDATA[<p>It&rsquo;s that time of year again. I can&rsquo;t believe 2013 is already over.</p>

<p>I thought about what possible resolutions I could make, but either nothing came to mind, or too many. One thing that does bug me is that I feel I&rsquo;m not as good a programmer as I once was. And so I have a simple resolution: improve on &ldquo;always be coding&rdquo;.</p>

<p>There is a simple way to do this: make it routine and consistent to do lots of programming problems. I had started to do the <a href="http://www.reddit.com/r/dailyprogrammer/">&lsquo;daily programmer&rsquo;</a> ones on reddit, I have to make this more consistent (how about 3 every week ?)</p>

<p>The other obvious way is to get into <a href="www.topcoder.com">TopCoder</a>. Go through all the <a href="http://community.topcoder.com/tc?module=Static&amp;d1=tutorials&amp;d2=alg_index">tutorials</a>, examples, every SRM that comes along. Even if it can&rsquo;t be attempted live, do it eventually.</p>

<p>So that&rsquo;s all for now. I&rsquo;ll evaluate this next year!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FP takedown]]></title>
    <link href="http://agam.github.io/blog/2013/12/24/fp-takedown/"/>
    <updated>2013-12-24T06:22:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/12/24/fp-takedown</id>
    <content type="html"><![CDATA[<p>Don&rsquo;t blame the messenger. I just saw this and it&rsquo;s hilarious. Gilad Bracha is one of my new heroes now :)</p>

<p>Watch <a href="http://www.infoq.com/presentations/functional-pros-cons">this video</a> and unless you&rsquo;re an overly sensitive haskell zealot, you&rsquo;ll find some humor here. There&rsquo;s a lot of hype-busting and sacred-cow-killing.</p>

<p>Of course, he&rsquo;s no stranger to controversial programming views (<a href="http://gbracha.blogspot.com/2011/01/maybe-monads-might-not-matter.html">&ldquo;Maybe Monads Might Not Matter&rdquo;</a>, <a href="http://gbracha.blogspot.com/2011/06/types-are-anti-modular.html">&ldquo;Types are anti modular&rdquo;</a>, <a href="http://gbracha.blogspot.com/2009/11/objects-are-not-hash-tables.html">&ldquo;Objects are not hash tables&rdquo;</a>, and <a href="http://gbracha.blogspot.com/2009/12/chased-by-ones-own-tail.html">&ldquo;Chased by One&rsquo;s Own Tail&rdquo;</a>), so you might enjoy reading his blog after watching the video!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ranked Voting]]></title>
    <link href="http://agam.github.io/blog/2013/12/19/ranked-voting/"/>
    <updated>2013-12-19T02:23:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/12/19/ranked-voting</id>
    <content type="html"><![CDATA[<p>This one might actually make for a medium level interview question (assuming the problem can be successfully communicated)</p>

<p>Here is <a href="http://www.reddit.com/r/dailyprogrammer/comments/1r2mcz/112013_challenge_136_intermediate_ranked_voting/">the problem</a> (also found at the bottom of the gist)</p>

<div><script src='https://gist.github.com/8033346.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;

using namespace std;

void GetVotes(
    const vector&lt;vector&lt;int&gt;&gt;&amp; votes,
    int loser_index,
    vector&lt;int&gt;* candidate_votes) {
  // Use the round# to determine if votes should be transferred.
  for (const vector&lt;int&gt;&amp; vote : votes) {
    int first_choice = vote[0];
    int second_choice = vote[1];
    if (loser_index &gt;= 0) {
      if (loser_index == first_choice) {
        ++((*candidate_votes)[second_choice]);
      }
    } else {
      // first pass; just add the votes
      ++((*candidate_votes)[first_choice]);
    }
  }
  if (loser_index &gt;=0) { ((*candidate_votes)[loser_index]) = 0; }
}

bool CheckMajority(const vector&lt;int&gt;&amp; candidate_votes, int total_votes, int* winner, int* loser) {
  int max_votes = 0, min_votes = total_votes;
  for (int i = 0; i &lt; candidate_votes.size(); ++i) {
    int v = candidate_votes[i];
    if (max_votes &lt; v) {
      max_votes = v;
      *winner = i;
    }
    if (min_votes &gt; v) {
      min_votes = v;
      *loser = i;
    }
  }
  if (max_votes * 2 &gt; total_votes) {
    return true;
  } else {
    return false;
  }
}

void PrintStats(const vector&lt;int&gt;&amp; candidate_votes, int total_votes, const vector&lt;string&gt;&amp; candidate_names) {
  for (int i = 0; i &lt; candidate_votes.size(); ++i) {
    if (candidate_votes[i] == 0) continue;
    cout &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; (100.0 * candidate_votes[i])/total_votes &lt;&lt; &quot;% &quot; &lt;&lt; candidate_names[i];
    if (i &lt; candidate_votes.size() - 1) {
      cout &lt;&lt; &quot;, &quot;;
    }
  }
  cout &lt;&lt; endl;
}

int main() {
  int num_votes, num_candidates;
  cin &gt;&gt; num_votes &gt;&gt; num_candidates;
  cout &lt;&lt; &quot;Will read in &quot; &lt;&lt; num_votes &lt;&lt; &quot; votes for &quot; &lt;&lt; num_candidates &lt;&lt; &quot; candidates.&quot; &lt;&lt; endl;
  vector&lt;string&gt; candidate_names;
  vector&lt;vector&lt;int&gt;&gt; votes(num_votes, vector&lt;int&gt;(num_candidates));
  for (int i = 0; i &lt; num_candidates; ++i) {
    string name;
    cin &gt;&gt; name;
    candidate_names.push_back(name);
  }
  for (int i = 0; i &lt; num_votes; ++i) {
    for (int j = 0; j &lt; num_candidates; ++j) {
      cin &gt;&gt; votes[i][j];
    }
  }

  // Sanity check what we got.
  cout  &lt;&lt; &quot;Read in the following candidates :- \n&quot;;
  for (const string&amp; name : candidate_names) {
    cout &lt;&lt; name &lt;&lt; endl;
  }
  cout &lt;&lt; &quot;Read in the following votes :- \n&quot;;
  for (int i = 0; i &lt; num_votes; ++i) {
    for (int j = 0; j &lt; num_candidates; ++j) {
      cout &lt;&lt; votes[i][j] &lt;&lt; &quot; &quot;;
    }
    cout &lt;&lt; endl;
  }

  vector&lt;int&gt; candidate_votes(num_candidates);
  int round = 0, winner_index = -1, loser_index = -1;
  do {
    ++round;
    GetVotes(votes, loser_index, &amp;candidate_votes);
    cout &lt;&lt; &quot;Round &quot; &lt;&lt; round &lt;&lt; &quot;: &quot;;
    PrintStats(candidate_votes, num_votes, candidate_names);
  } while (!CheckMajority(candidate_votes, num_votes, &amp;winner_index, &amp;loser_index) &amp;&amp; round &lt; 10);
  cout &lt;&lt; candidate_names[winner_index] &lt;&lt; &quot; is the winner.\n&quot;;
}

/*
Input Description
-----------------
On standard console input, you will be given two space-delimited integers, N and M. N is the number of votes, while M is the number of candidates. After this line, you will be given the candidates line, which is a space-delimited set of M-number of candidate names. These names are one-word lower-case letters only. This is followed by N-lines of ballots, where each ballot is a list of M-integers, from 0 to M-1, representing the order of preference.
Note that the order of preference for ballots goes from left-to-right. The integers are the index into the candidate list. For the example below, you can map 0: Knuth, 1: Turing, 2: Church. This means that if the ballot row is &quot;1 0 2&quot;, that means the voter prefers Turing over Knuth over Church.

Output Description
------------------
Given the candidates and ballots, compute the first-round of successful candidates (e.g. rank them based on all ballot&#39;s first choice). If the percentage of votes for any one candidate is more than 50%, print the candidate name as the winner. Else, take all the votes of the least-successful candidate, and use their ballot&#39;s 2nd choice, summing again the total votes. If needed (e.g. there is no candidate that has more than 50% of the votes), repeat this process for the 3rd, 4th, etc. choice, and print the winner of the election.
For each round of computation, print the percentage of votes for each candidate, and rank them based on that percentage, using the output format.
*/
</code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Small change for Vim and Git]]></title>
    <link href="http://agam.github.io/blog/2013/12/16/small-change-for-vim-and-git/"/>
    <updated>2013-12-16T06:04:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/12/16/small-change-for-vim-and-git</id>
    <content type="html"><![CDATA[<h2>Vim</h2>

<p>I hate seeing <code>.swp</code> and <code>~</code> files when I&rsquo;m editing. If I really need to go back to an earlier version of something there are other ways.</p>

<p>So I added this to my .vimrc:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>set nobackup
</span><span class='line'>set nowritebackup
</span><span class='line'>set noswapfile</span></code></pre></td></tr></table></div></figure>


<h2>Git</h2>

<p>If there&rsquo;s one config change to make for <code>git</code>, it should be this one:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git config --global --add color.ui true</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setting up Screen]]></title>
    <link href="http://agam.github.io/blog/2013/12/16/setting-up-screen/"/>
    <updated>2013-12-16T05:30:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/12/16/setting-up-screen</id>
    <content type="html"><![CDATA[<p>This is pretty much the first thing I do. I&rsquo;ve learned the hard way that I really really need persistent terminal state.</p>

<p>One of the changes I always make is to switch the default key combination away from <code>C-a</code>. Initially I did this during my &ldquo;year of trying Emacs&rdquo; (since it&rsquo;s the default &ldquo;move to beginning of line&rdquo; shortcut). I chose <code>C-z</code> (via <code>escape ^Zz</code>) but you might want to do this anyway if for example you feel <code>C-b</code> would be easier to type.</p>

<p>The other must-have is labels for the tabs. I want to know what I&rsquo;m switching between (a suitable modification to <code>hardstatus</code>).</p>

<p>The status line looks something like this.</p>

<p><img src="https://pbs.twimg.com/media/BblUW36CQAAG_Ol.png:large" alt="screen status with 3 tabs open" /></p>

<p>It&rsquo;s pretty minimal; you can add an arbitrary amount of customization to your status line, but this is all that I need.</p>

<p>Finally, there are a couple of &ldquo;features&rdquo; that <em>have</em> to be disabled: the screen flash on tab completion (<code>vbell off</code>), and the annoying startup message (<code>startup_message off</code>).</p>

<p>I&rsquo;m sure you know all about switching tabs, detaching and resuming sessions and all that. The only (in hindsight obvious) rule of thumb I&rsquo;ve learnt is to <em>always</em> launch a session with a name. Because you might just want to start two sessions. And then when it comes time to resume them, you won&rsquo;t know which is which. So make <code>screen -S &lt;sessionname&gt;</code> your friend.</p>

<p>Anyway I have a github repo for my &ldquo;dotfiles&rdquo; and you can see my basic screenrc <a href="https://github.com/agam/dotfiles/blob/master/.screenrc">here</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Starting from scratch on a VM]]></title>
    <link href="http://agam.github.io/blog/2013/12/16/starting-from-scratch-on-a-vm/"/>
    <updated>2013-12-16T03:41:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/12/16/starting-from-scratch-on-a-vm</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve started from scratch many times on new linux installations. It gets old after a while though, so I prefer to do it as infrequently as possible.</p>

<p>Getting started with a bare-bones VM is one of the occasions for this, so I&rsquo;ll take the time to record what I do so that I don&rsquo;t have to revisit this stuff the <em>next time</em>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Adding social elements to octopress]]></title>
    <link href="http://agam.github.io/blog/2013/12/14/adding-social-elements-to-octopress/"/>
    <updated>2013-12-14T18:22:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/12/14/adding-social-elements-to-octopress</id>
    <content type="html"><![CDATA[<p>This is almost too easy. Octopress already comes with basic integration options built-in.</p>

<p>See <a href="http://jekyllrb.com/docs/configuration/">here</a> for more details than I care about, but the short version is that you just have to edit <code>_config.yml</code> and fill in fields for your Google+ username, a true/false value indicating whether users can share your posts on Google+/Twitter, a Disqus shortname for comments, a Google Analytics tracking code &hellip; you get the idea.</p>

<p>(though there seems to be some <a href="http://blog.jmac.org/blog/2013/03/30/putting-twitter-back-into-octopress/">extra work</a> required to get Twitter to show up in the sidebar.</p>

<p>While we&rsquo;re at it, might as well change the theme too. There&rsquo;s a huge collection of options at <a href="http://opthemes.com/">OPThemes</a>. So, pick one and replace the default dark grey one!</p>

<p>The usual flow is something like <code>git submodule add &lt;the theme's git repo&gt;</code> followed by <code>rake install["&lt;the theme name&gt;"]</code></p>

<p>I picked <a href="http://alexgaribay.com/"><code>octoflat</code></a> which doesn&rsquo;t have a sidebar, but is otherwise pleasing to look at.</p>

<p>Happy customizing!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Augmenting my Chromebook with a VM]]></title>
    <link href="http://agam.github.io/blog/2013/12/14/augmenting-my-chromebook-with-a-vm/"/>
    <updated>2013-12-14T17:14:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/12/14/augmenting-my-chromebook-with-a-vm</id>
    <content type="html"><![CDATA[<p>I had tried this out about a year ago, creating a small VM instance on Google Compute Engine. But a maintenance window occurred, my VM died, and that was that. I cleaned up and walked away.</p>

<h2>Comparison</h2>

<p>Sometime back, I heard about <a href="https://www.digitalocean.com/">Digital Ocean</a> from a friend. I had just switched to a chromebook and was missing the shell of my previous Linux laptop. So I once again looked into the current cloud offerings.</p>

<p>There is an excellent comparison at <a href="http://cloudpricegrid.com/">cloud price grid</a> so I won&rsquo;t waste time repeating that.</p>

<p>DigitalOcean seems the cheapest for a couple of options</p>

<ul>
<li><em>1core/512Mb/20G &mdash;> $5/mo</em></li>
<li><em>1core/1G/30G  &mdash;> $10/mo</em></li>
</ul>


<p>(See <a href="https://www.digitalocean.com/pricing/">detailed pricing</a>)</p>

<p>However, this is without any firewall or networking capability, and the datacenter seems to be near New York, so that&rsquo;s something to keep in mind.</p>

<p>Meanwhile at Google Compute Engine, the right comparison would be with a combination of</p>

<ul>
<li><em>Persistent disk &mdash;> 20G for $0.8/mo</em></li>
<li><em>f1-micro [1core/600Mb] &mdash;> $0.019/hr</em>
[which by the way at max utilization turns out to be $13.78/mo]</li>
</ul>


<p>(See <a href="https://cloud.google.com/products/compute-engine/#pricing">detailed pricing</a>)</p>

<p>A similar comparison for Amazon (I could be off in apples-to-apples here (what I think are apples may in fact be oranges))</p>

<p><em>t1.micro [1core/630Mb] &mdash;> $0.025/hr</em></p>

<p>So the cheapest Amazon has to offer seems more expensive than the cheapest Google has to offer (both of these instances will be pretty useless for hosting something substantial, but we&rsquo;re assuming the idea here is to have a small &ldquo;developer space&rdquo;).</p>

<p>But keep in mind Amazon also has a <a href="http://aws.amazon.com/free/">free tier</a> so if you just want to try it out for a year, the micro instance is actually FREE (!)</p>

<h2>Getting (re-)started with Google Compute Engine</h2>

<p>I elected to stay with Google. The new <a href="https://cloud.google.com/console#/project">cloud console</a> is much better than it was before, with a nice grouping by project and sub-links to Appengine, CloudSql, CloudStorage, ComputeEngine, etc.</p>

<p>Within the Cloud Engine dashboard, it is possible (and in fact, easy) to create a new VM, set up its associated disk and static IPs, OS, etc from the UI.</p>

<h2>SSHing</h2>

<p>One thing to point out is that the first time I set it up I used the <code>gcutil</code> tool to ssh into the instance; this creates local ssh keys and uploads the public key to the instance (it can be viewed in the <code>Metadata</code> part of the console). So I had to do this from a non-chromebook &ldquo;real&rdquo; computer (though there may be a workaround I&rsquo;m unaware of).</p>

<p>For subsequent SSHs, the recommended way is to use a long SSH command</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>ssh -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">CheckHostIP</span><span class="o">=</span>no -o  <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no <span class="se">\</span>
</span><span class='line'> -i &lt;key-file&gt; -o <span class="nv">LogLevel</span><span class="o">=</span>QUIET -A  -p 22 &lt;username&gt;@&lt;ipaddress&gt;
</span></code></pre></td></tr></table></div></figure>


<p>and this worked when I tried it from the computer I signed up on.</p>

<p>Before trying to SSH from a chromebook, you have to copy ssh keys locally (how? I Dropbox&rsquo;d them and then deleted them from Dropbox, which is admittedly less secure &hellip; maybe I should have written it down and recreated manually?!).</p>

<p>Anyway, so once you have copied the keys, you can use the <a href="https://chrome.google.com/webstore/detail/secure-shell/pnhechapfaindjhompbnflcldabbghjo?hl=en">Secure Shell</a> app.</p>

<p>You have to click on <code>import...</code> to select the public/private key pair. At this point, when I used the long SSH command mentioned above, it didn&rsquo;t work. Eventually it only worked when I tried with a blank command (so the only arguments were username, host IP and the key file).</p>

<h2>Chromebook + VM</h2>

<p>Having tried this out for a while, I can&rsquo;t imagine living without it. Obviously it depends on internet access, but that&rsquo;s a common caveat these days.</p>

<p>But I strongly encourage it, since it&rsquo;s a perfect complement to the otherwise &ldquo;browser-only&rdquo; world.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Problems with Octopress in a new location]]></title>
    <link href="http://agam.github.io/blog/2013/12/14/problems-with-octopress-in-a-new-location/"/>
    <updated>2013-12-14T05:43:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/12/14/problems-with-octopress-in-a-new-location</id>
    <content type="html"><![CDATA[<p>My git-n00bness obviously inhibited me a bit here, but I was today in the situation of creating a new location from which to blog (a hosted VM, more about which in a separate post).</p>

<p>So I ran <code>git clone https://github.com/agam/agam.github.io.git</code>, which gave me the <code>master</code> branch.</p>

<p>But I also needed the <code>source</code> branch. So I naively ran <code>git pull origin source</code>, which resulted in &hellip; a merge conflict on <code>index.html</code>?! WTF?</p>

<p>I &lsquo;fixed&rsquo; that by making <code>index.html</code> empty. But <code>rake generate</code> failed with weird errors and <code>git branch</code> still shows only <code>source</code>. So what was wrong?</p>

<p><a href="http://stackoverflow.com/questions/67699/how-do-i-clone-all-remote-branches-with-git">This stackoverflow post</a> had a possible answer on how to proceed.</p>

<p>I tried running <code>git checkout origin/source</code> but that brought on the dreaded <code>experimental HEAD</code> error message.</p>

<p>No luck. Then I came across <a href="http://blog.zerosharp.com/clone-your-octopress-to-blog-from-two-places/">this post</a> which seemed to describe a similar situation (I crossed my fingers that I hadn&rsquo;t already screwed up my repo).</p>

<p>Aha! (I won&rsquo;t forget it now). You&rsquo;re supposed to specify the branch name when you check out!</p>

<p>So I <code>rm -rf</code>ed my setup, then ran the following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>git clone -b <span class="nb">source </span>https://github.com/agam/agam.github.io.git
</span><span class='line'><span class="nb">cd </span>agam.github.io
</span><span class='line'>git clone https://github.com/agam/agam.github.io.git _deploy
</span></code></pre></td></tr></table></div></figure>


<p>After this, <code>rake new_post</code> worked as expected, but <code>rake generate</code> still failed on some plugin error about an &ldquo;invalid byte sequence&rdquo;.</p>

<p>That led me to <a href="https://gist.github.com/arnab/4584901">this gist</a>. <code>export LANG=en_US.utf-8</code> fixed the generate problem.</p>

<p>And then <code>rake deploy</code> worked as expected, so yay!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Moar Reddit DailyProgramming: Falling Sand]]></title>
    <link href="http://agam.github.io/blog/2013/11/26/moar-reddit-dailyprogramming-falling-sand/"/>
    <updated>2013-11-26T17:33:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/11/26/moar-reddit-dailyprogramming-falling-sand</id>
    <content type="html"><![CDATA[<p>Another <a href="http://www.reddit.com/r/dailyprogrammer/comments/1rdtky/111113_challenge_142_easy_falling_sand/">easy challenge</a>.</p>

<p>One thing I learnt while doing this: I had to test the program with standard
input and had created a couple of files with sample input that I could pipe in.
I wasted a lot of time debugging a spurious newline (!), so in the future I
should remember to do the following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">set </span><span class="nv">listchars</span><span class="o">=</span>eol:<span class="err">$</span>
</span></code></pre></td></tr></table></div></figure>


<p>What this does is show you <code>$</code> wherever the file has <code>\n</code> in it, so you can use
this to distinguish between &lsquo;real&rsquo; spaces and whitespace.</p>

<div><script src='https://gist.github.com/7669304.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;

using namespace std;

void PrintGrid(const vector&lt;vector&lt;char&gt;&gt;&amp; grid) {
  for (int i = 0; i &lt; grid.size(); ++i) {
    for (int j = 0; j &lt; grid.size(); ++j) {
      cout &lt;&lt; grid[i][j];
    }
    cout &lt;&lt; endl;
  }
}

bool GridFall(vector&lt;vector&lt;char&gt;&gt;* grid) {
  bool changed = false;
  // Skip row above ground
  for (int i = grid-&gt;size() - 2; i &gt;= 0; --i) {
    auto&amp; current_row = grid-&gt;at(i);
    auto&amp; next_row = grid-&gt;at(i + 1);
    for (int j = 0; j &lt; grid-&gt;size(); ++j) {
      if (current_row[j] == &#39;.&#39; &amp;&amp; next_row[j] == &#39; &#39;) {
        changed = true;
        current_row[j] = &#39; &#39;;
        next_row[j] = &#39;.&#39;;
      }
    }
  }
  return changed;
}

int main() {
  int grid_size;
  cin &gt;&gt; grid_size;

  vector&lt;vector&lt;char&gt;&gt; grid(grid_size);
  char dummy_newline;
  cin.get(dummy_newline);
  cin &gt;&gt; noskipws;
  for (int i = 0; i &lt; grid_size; ++i) {
    for (int j = 0; j &lt; grid_size; ++j) {
      char grid_char;
      cin.get(grid_char);
      grid[i].push_back(grid_char);
    }
    cin.get(dummy_newline);
  }

  do {
    // Uncomment to view/debug transitory steps.
    //cout &lt;&lt; &quot;Intermediate grid state :- &quot; &lt;&lt; endl;
    //PrintGrid(grid);
  } while (GridFall(&amp;grid));

  PrintGrid(grid);

  return 0;
}

/*
 * Input Description
 * On standard console input, you will be given an integer N which represents
 * the N x N grid of ASCII characters. This means there will be N-lines of
 * N-characters long. This is the starting grid of your simulated world: the
 * character &#39; &#39; (space) means an empty space, while &#39;.&#39; (dot) means sand, and
 * &#39;#&#39; (hash or pound) means stone. Once you parse this input, simulate the
 * world until all particles are settled (e.g. the sand has fallen and either
 * settled on the ground or on stone). &quot;Ground&quot; is defined as the solid surface
 * right below the last row.
 * Output Description
 * Print the end result of all particle positions using the input format for
 * particles.
 * Sample Inputs &amp; Outputs
 * Sample Input
 * 5
 * .....
 *   #  
 *   #    
 *
 *       .
 * Sample Output
 *   .  
 * . #  
 * #    
 *     .
 *  . ..
 */
</code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Reddit DailyProgrammer Computing Pi]]></title>
    <link href="http://agam.github.io/blog/2013/11/26/reddit-dailyprogrammer-computing-pi/"/>
    <updated>2013-11-26T14:50:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/11/26/reddit-dailyprogrammer-computing-pi</id>
    <content type="html"><![CDATA[<p>Another reddit programming exercise, <a href="http://www.reddit.com/r/dailyprogrammer/comments/1qply1/111513_challenge_129_hard_baking_pi/">this one</a> being classified as &lsquo;hard&rsquo; and indeed it <em>did</em> take a while longer, being a distributed programming setup.</p>

<h3>Implementation Notes</h3>

<ul>
<li>In a real world application, I would use something like Protocol Buffers for serialization</li>
<li>ditto for something like Thrift for RPCs</li>
<li>I had to add a sleep to each client so the first client doesn&rsquo;t run through
the whole batch on its own (machines are too fast these days!)</li>
<li>The run was limited to 250 digits, seemed to exhaust accuracy after about 254 digits with my implementation</li>
<li>Every client connects and sends &lsquo;-1&rsquo; before getting its first digit. On
subsequent connections it sends its current digit and computed value, and
receives the next digit to compute.</li>
</ul>


<h3>Server Code</h3>

<div><script src='https://gist.github.com/7667732.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;

#include &quot;Poco/Net/ServerSocket.h&quot;
#include &quot;Poco/Net/SocketAddress.h&quot;
#include &quot;Poco/Net/StreamSocket.h&quot;
#include &quot;Poco/Timespan.h&quot;

using namespace std;

int getNextDigit() {
  static int next_digit = -1;
  ++next_digit;
  return next_digit;
}

int main() {
  Poco::Net::ServerSocket srv(9090);
  cout &lt;&lt; &quot;Waiting for clients ...&quot; &lt;&lt; endl;

  // Arbitrary number of clients are supported. Each client is given the &#39;next&#39;
  // digit once it&#39;s done.

  double mysum = 3.0;  // used to sanity check
  static const float kComparisonMultiplier = 10000.0;
  for (;;) {
    Poco::Net::StreamSocket ss = srv.acceptConnection();
    ss.setReceiveTimeout(20000);
    ss.setSendTimeout(20000);
    int last_digit;
    unsigned int computed_value;
    char client_buf[10];
    ss.receiveBytes(client_buf, 10);
    sscanf(client_buf, &quot;%d-%u&quot;, &amp;last_digit, &amp;computed_value);
    cout &lt;&lt; &quot;Received &quot; &lt;&lt; last_digit
         &lt;&lt; &quot;th digit as &quot; &lt;&lt; hex &lt;&lt; computed_value &lt;&lt; dec &lt;&lt; endl;
    if (computed_value != 1000) {
      mysum += (1.0 * computed_value / pow(16.0, (last_digit + 1)));
      cout &lt;&lt; &quot;  Divergence from PI &quot;
           &lt;&lt; &quot;(to &quot; &lt;&lt; kComparisonMultiplier &lt;&lt; &quot; accuracy) so far = &quot;
           &lt;&lt; fabs((mysum - M_PI) * kComparisonMultiplier)  &lt;&lt; endl;
    }

    // Send next command
    int next_digit = getNextDigit();
    snprintf(client_buf, 10, &quot;*%d*&quot;, next_digit);
    ss.sendBytes(client_buf, 10);
    cout &lt;&lt; &quot;Sent &quot; &lt;&lt; client_buf &lt;&lt; endl;
  }
  return 0;
}

/*
 * Input Description
 * There is no formal input description, though this is the desired behavior:
 * You launch your main dispatcher-application on Computer A. You then launch
 * the computing-applications on Computer W, X, Y and Z. Computer A wants to
 * compute the first four digits of Pi, and sends the appropriate network
 * commands, one to each computer. Computer Y returns a result first, so the
 * dispatcher receives the data, saves in your output file the line &quot;0:2&quot;, and
 * then gives the command to compute the 5th digit of Pi. Computers X, Z, W
 * finish in that order, returning the results to the dispatcher, which in turn
 * saves in the same format. They are then asked to compute digits 6, 7, and 8.
 * This repeats until your dispatcher application sends a &quot;stop&quot; or &quot;kill&quot;
 * command to the computing processes. It is up to you how many hexadecimal
 * digits each process computes.
 * Output Description
 * For each computed base-16 (hexadecimal) digit of Pi, write to a file a line
 * of text in the format of &lt;Digit-Index&gt;:&lt;Computed-Digit&gt;. The order does not
 * matter, and you may skip digits. An example of the file, after eight computed
 * digits, would be as follows:
 * 0:2
 * 1:4
 * 2:3
 * 3:F
 * 4:6
 * 5:A
 * 6:8
 * 7:8
 */
</code></pre></noscript></div>


<h3>Client Code</h3>

<div><script src='https://gist.github.com/7667742.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;

#include &quot;Poco/Net/SocketAddress.h&quot;
#include &quot;Poco/Net/StreamSocket.h&quot;

using namespace std;

double Series(unsigned int digit, int j) {
  double termsum = 0.0;
  for (int k = 0; k &lt; digit; k++) {
    double numerator = pow(16.0, digit - k);
    double denominator = (8 * k + j);
    termsum += (numerator / denominator);
    termsum -= floor(termsum);
  }
  for (int k = digit; ; k++) {
    double numerator = 1.0;
    double denominator = (8 * k + j) * pow(16, k - digit);
    double fraction = numerator / denominator;
    if (fraction - 0.0  &lt; 1e-32) break;
    termsum += (numerator / denominator);
    termsum -= floor(termsum);
  }
  return termsum;
}

double ComputePiDigit(unsigned int digit) {
  double value = (4 * Series(digit, 1) -
                  2 * Series(digit, 4) -
                  1 * Series(digit, 5) -
                  1 * Series(digit, 6));
  value = value - (unsigned long long) value + 1.0;
  return value;
}

// Special case for very first client connection: digitNum == -1
// Value has valid hex range, or else &#39;1000&#39;

struct PiState {
  int digitNum;
  unsigned int value;
};

int main(int argc, char **argv) {
  cout &lt;&lt; &quot;Connecting to &quot; &lt;&lt; argv[1] &lt;&lt; &quot;:&quot; &lt;&lt; argv[2] &lt;&lt; endl;
  static const int kMaxDigits = 250;
  // Connect to the server, work with upto 10000 digits, then stop.
  Poco::Net::SocketAddress sa(argv[1], atoi(argv[2]));
  PiState my_pi_state;
  // First request is special
  my_pi_state.digitNum = -1;;
  my_pi_state.value = 1000;

  while (my_pi_state.digitNum &lt; kMaxDigits) {

    Poco::Net::StreamSocket socket(sa);
    socket.setReceiveTimeout(100000);

    // contact server, give current result, get new digit to compute
    char bufstr[10];
    snprintf(bufstr, 10, &quot;%d-%u&quot;, my_pi_state.digitNum, my_pi_state.value);
    socket.sendBytes(bufstr, 10);
    socket.receiveBytes(bufstr, 10);
    sscanf(bufstr, &quot;*%d*&quot;, &amp;my_pi_state.digitNum);
    double calculated_value = ComputePiDigit(my_pi_state.digitNum);
    // common case: compute the current digit and send it to the server

    cout &lt;&lt; &quot;Digit: &quot; &lt;&lt; dec &lt;&lt; my_pi_state.digitNum &lt;&lt; &quot;...&quot;;
    float hexval = fabs(calculated_value);
    my_pi_state.value =
        static_cast&lt;unsigned int&gt;(16.0 * (hexval - floor(hexval)));
    cout &lt;&lt; &quot;Value: &quot; &lt;&lt; hex &lt;&lt; my_pi_state.value &lt;&lt; endl;

    // Anti-performance, but we want to work slowly here so I can start up
    // multiple clients and show their interleaved output :)
    sleep(1);
  }
  cout &lt;&lt; &quot;Pi Client exiting ...&quot; &lt;&lt; endl &lt;&lt; endl;
}
</code></pre></noscript></div>


<h3>Compiling</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>clang++ -std<span class="o">=</span>c++0x pi-compute-server.cpp  -lPocoNet -lPocoFoundation -o server
</span><span class='line'><span class="nv">$ </span>clang++ -std<span class="o">=</span>c++0x pi-compute-client.cpp  -lPocoNet -lPocoFoundation -o client
</span></code></pre></td></tr></table></div></figure>


<h3>Running</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>./server
</span><span class='line'>Waiting <span class="k">for </span>clients ...
</span><span class='line'>Received -1th digit as 1000
</span><span class='line'>Sent *0*
</span><span class='line'>Received 0th digit as 2
</span><span class='line'>Divergence from PI <span class="o">(</span>to 10000 accuracy<span class="o">)</span> so <span class="nv">far</span> <span class="o">=</span> 165.927
</span><span class='line'>Sent *1*
</span><span class='line'>Received -1th digit as 1000
</span><span class='line'>Sent *2*
</span><span class='line'>Received 1th digit as 4
</span><span class='line'>Divergence from PI <span class="o">(</span>to 10000 accuracy<span class="o">)</span> so <span class="nv">far</span> <span class="o">=</span> 9.67654
</span><span class='line'>Sent *3*
</span><span class='line'>Received 2th digit as 3
</span><span class='line'>Divergence from PI <span class="o">(</span>to 10000 accuracy<span class="o">)</span> so <span class="nv">far</span> <span class="o">=</span> 2.35232
</span><span class='line'>Sent *4*
</span><span class='line'>Received -1th digit as 1000
</span><span class='line'>Sent *5*
</span><span class='line'>Received 3th digit as 15
</span><span class='line'>Divergence from PI <span class="o">(</span>to 10000 accuracy<span class="o">)</span> so <span class="nv">far</span> <span class="o">=</span> 0.0634988
</span><span class='line'>Sent *6*
</span><span class='line'>Received 4th digit as 6
</span><span class='line'>Divergence from PI <span class="o">(</span>to 10000 accuracy<span class="o">)</span> so <span class="nv">far</span> <span class="o">=</span> 0.00627833
</span><span class='line'>Sent *7*
</span><span class='line'>...
</span><span class='line'>Sent *249*
</span><span class='line'>Received 246th digit as 1
</span><span class='line'>Divergence from PI <span class="o">(</span>to 10000 accuracy<span class="o">)</span> so <span class="nv">far</span> <span class="o">=</span> 0.00597909
</span><span class='line'>Sent *250*
</span><span class='line'>Received 247th digit as 0
</span><span class='line'>Divergence from PI <span class="o">(</span>to 10000 accuracy<span class="o">)</span> so <span class="nv">far</span> <span class="o">=</span> 0.00597909
</span><span class='line'>Sent *251*
</span><span class='line'>Received 248th digit as 11
</span><span class='line'>Divergence from PI <span class="o">(</span>to 10000 accuracy<span class="o">)</span> so <span class="nv">far</span> <span class="o">=</span> 0.00597909
</span><span class='line'>Sent *252*
</span><span class='line'>Received 249th digit as 3
</span><span class='line'>Divergence from PI <span class="o">(</span>to 10000 accuracy<span class="o">)</span> so <span class="nv">far</span> <span class="o">=</span> 0.00597909
</span><span class='line'>Sent *253*
</span><span class='line'>^C
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span>./client localhost 9090
</span><span class='line'>Connecting to localhost:9090
</span><span class='line'>Digit: 0...Value: 2
</span><span class='line'>Digit: 1...Value: 4
</span><span class='line'>Digit: 3...Value: f
</span><span class='line'>Digit: 6...Value: 8
</span><span class='line'>Digit: 9...Value: 5
</span><span class='line'>Digit: 13...Value: 8
</span><span class='line'>Digit: 17...Value: 0
</span><span class='line'>Digit: 21...Value: 7
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Reddit DailyProgrammer Getting Started]]></title>
    <link href="http://agam.github.io/blog/2013/11/19/reddit-dailyprogrammer-getting-started/"/>
    <updated>2013-11-19T18:57:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/11/19/reddit-dailyprogrammer-getting-started</id>
    <content type="html"><![CDATA[<p>In the vein of &ldquo;Always Be Coding&rdquo;, I stumbled across this subreddit: <a href="http://www.reddit.com/r/dailyprogrammer/">&ldquo;Daily
Programmer&rdquo;</a>, and then decided to do
the &lsquo;easy&rsquo; <a href="http://www.reddit.com/r/dailyprogrammer/comments/1qwkdz/111113_challenge_141_easy_checksums/">question on the
top</a></p>

<p>Here&rsquo;s the gist (problem in comments at the bottom).</p>

<div><script src='https://gist.github.com/7556916.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;stdint.h&gt;                                                                                                                                                      
        
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
        
using namespace std;
        
void cin_discard_newline() {
  cin.ignore(numeric_limits&lt;streamsize&gt;::max(), &#39;\n&#39;);
}       
        
uint16_t fletcher_checksum(const string&amp; word) {
  uint8_t count0 = 0, count1 = 0; 
  for (int i = 0; i &lt; word.size(); ++i) {
    unsigned char c = word[i];
    count0 = (count0 + c) % 255;
    count1 = (count1 + count0) % 255;
  }     
  return (count1 &lt;&lt; 8) | count0;
}       
        
int main() {
  // Read in number of lines
  int num_lines;
  cin &gt;&gt; num_lines;
  cin_discard_newline();
  cout &lt;&lt; hex;
  vector&lt;string&gt; lines;
  for (int i = 0; i &lt; num_lines; ++i) {
    string line;
    getline(cin, line);
    lines.push_back(line);
  }     
        
  for (int i = 0; i &lt; num_lines; ++i) {
    cout &lt;&lt; i + 1 &lt;&lt; &quot; &quot; &lt;&lt; fletcher_checksum(lines[i]) &lt;&lt; endl;
  }     
}       
        
/*      
 * http://www.reddit.com/r/dailyprogrammer/comments/1qwkdz/111113_challenge_141_easy_checksums/
 *      
 * Formal Inputs &amp; Outputs
 * Input Description
 * On standard console input, you will first be given an integer N which ranges
 * inclusively from 1 to 256. After this line, you will receive N-lines of ASCII
 * text. This text will only contain regular printable characters, and will all
 * be on a single line of input.
 * Output Description
 * For each line of input, print the index (starting from 1) and the 16-bit
 * Fletcher&#39;s checksum as a 4-digit hexadecimal number.
 * Sample Inputs &amp; Outputs
 * Sample Input
 * 3    
 * Fletcher
 * Sally sells seashells by the seashore.
 * Les chaussettes de l&#39;archi-duchesse, sont-elles seches ou archi-seches ?
 * Sample Output
 * 1 D330
 * 2 D23E
 * 3 404D
 */     </code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Octopress Revolution]]></title>
    <link href="http://agam.github.io/blog/2013/11/15/the-octopress-revolution/"/>
    <updated>2013-11-15T17:06:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/11/15/the-octopress-revolution</id>
    <content type="html"><![CDATA[<p>Stumbled across Octopress and realized I could get a &ldquo;better minimalism&rdquo; with
it.</p>

<p>First, you have to get it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="nv">$ </span> git clone
</span><span class='line'>  git://github.com/imathis/octopress.git
</span><span class='line'>  octopress
</span></code></pre></td></tr></table></div></figure>


<p>Then, you have to get a few dependencies.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>ruby --version
</span><span class='line'>ruby 1.8.7 <span class="o">(</span>2011-06-30 patchlevel 352<span class="o">)</span> <span class="o">[</span>x86_64-linux<span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span>curl -L https://get.rvm.io | bash -s stable --ruby
</span><span class='line'>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span><span class='line'>  Dload  Upload   Total   Spent    Left  Speed
</span><span class='line'>  100   184  100   184    0     0    468      0
</span><span class='line'>  --:--:-- --:--:-- --:--:--  1688
</span><span class='line'>  100 19527  100 19527    0     0  37740      0
</span><span class='line'>  --:--:-- --:--:-- --:--:-- 37740
</span><span class='line'>  Please <span class="nb">read </span>and follow further instructions.
</span><span class='line'>  Downloading RVM branch stable
</span><span class='line'>  ...
</span><span class='line'>
</span><span class='line'>  <span class="nv">$ </span><span class="nb">source</span> /home/agam/.rvm/scripts/rvm
</span><span class='line'>
</span><span class='line'>  <span class="nv">$ </span>rvm install 1.9.3
</span><span class='line'>
</span><span class='line'>  <span class="nv">$ </span>rvm use 1.9.3
</span><span class='line'>
</span><span class='line'>  <span class="nv">$ </span>rvm rubygems latest
</span></code></pre></td></tr></table></div></figure>


<p>(Note: <a href="http://rbenv.org/">rbenv</a> is an alternative to <a href="http://rvm.io/">rvm</a> above)</p>

<p>The next step is to set up some of the gems we downloaded.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="nv">$ </span> <span class="nb">cd </span>octopress
</span><span class='line'>
</span><span class='line'>  <span class="nv">$ </span>gem install bundler
</span><span class='line'>Fetching: bundler-1.3.5.gem <span class="o">(</span>100%<span class="o">)</span>
</span><span class='line'>  Successfully installed bundler-1.3.5
</span><span class='line'>  Installing ri documentation <span class="k">for </span>bundler-1.3.5
</span><span class='line'>  1 gem installed
</span><span class='line'>
</span><span class='line'>  <span class="nv">$ </span>bundle install
</span><span class='line'>  Fetching gem metadata from
</span><span class='line'>  https://rubygems.org/.......
</span><span class='line'>  Fetching gem metadata from
</span><span class='line'>  https://rubygems.org/..
</span><span class='line'>  Installing rake <span class="o">(</span>0.9.2.2<span class="o">)</span>
</span><span class='line'>  Installing RedCloth <span class="o">(</span>4.2.9<span class="o">)</span>
</span><span class='line'>  Installing chunky_png <span class="o">(</span>1.2.5<span class="o">)</span>
</span><span class='line'>  Installing fast-stemmer <span class="o">(</span>1.0.1<span class="o">)</span>
</span><span class='line'>  Installing classifier <span class="o">(</span>1.3.3<span class="o">)</span>
</span><span class='line'>  Installing fssm <span class="o">(</span>0.2.9<span class="o">)</span>
</span><span class='line'>  Installing sass <span class="o">(</span>3.2.9<span class="o">)</span>
</span><span class='line'>  Installing compass <span class="o">(</span>0.12.2<span class="o">)</span>
</span><span class='line'>  Installing directory_watcher <span class="o">(</span>1.4.1<span class="o">)</span>
</span><span class='line'>  Installing haml <span class="o">(</span>3.1.7<span class="o">)</span>
</span><span class='line'>  Installing kramdown <span class="o">(</span>0.13.8<span class="o">)</span>
</span><span class='line'>  Installing liquid <span class="o">(</span>2.3.0<span class="o">)</span>
</span><span class='line'>  Installing syntax <span class="o">(</span>1.0.0<span class="o">)</span>
</span><span class='line'>  Installing maruku <span class="o">(</span>0.6.1<span class="o">)</span>
</span><span class='line'>  Installing posix-spawn <span class="o">(</span>0.3.6<span class="o">)</span>
</span><span class='line'>  Installing yajl-ruby <span class="o">(</span>1.1.0<span class="o">)</span>
</span><span class='line'>  Installing pygments.rb <span class="o">(</span>0.3.4<span class="o">)</span>
</span><span class='line'>  Installing jekyll <span class="o">(</span>0.12.0<span class="o">)</span>
</span><span class='line'>  Installing rack <span class="o">(</span>1.5.2<span class="o">)</span>
</span><span class='line'>  Installing rack-protection <span class="o">(</span>1.5.0<span class="o">)</span>
</span><span class='line'>  Installing rb-fsevent <span class="o">(</span>0.9.1<span class="o">)</span>
</span><span class='line'>  Installing rdiscount <span class="o">(</span>2.0.7.3<span class="o">)</span>
</span><span class='line'>  Installing rubypants <span class="o">(</span>0.2.0<span class="o">)</span>
</span><span class='line'>  Installing sass-globbing <span class="o">(</span>1.0.0<span class="o">)</span>
</span><span class='line'>  Installing tilt <span class="o">(</span>1.3.7<span class="o">)</span>
</span><span class='line'>  Installing sinatra <span class="o">(</span>1.4.2<span class="o">)</span>
</span><span class='line'>  Installing stringex <span class="o">(</span>1.4.0<span class="o">)</span>
</span><span class='line'>Using bundler <span class="o">(</span>1.3.5<span class="o">)</span>
</span><span class='line'>  Your bundle is <span class="nb">complete</span>!
</span><span class='line'>  Use <span class="sb">`</span>bundle show <span class="o">[</span>gemname<span class="o">]</span><span class="sb">`</span> to see where a
</span><span class='line'>  bundled gem is installed.
</span></code></pre></td></tr></table></div></figure>


<p>Finally, we&rsquo;re ready to get a &ldquo;blank blog&rdquo; up and running</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="nv">$ </span>rake install
</span><span class='line'><span class="c">## Copying classic theme into ./source and</span>
</span><span class='line'>  ./sass
</span><span class='line'>  mkdir -p <span class="nb">source</span>
</span><span class='line'><span class="nb">  </span>cp -r .themes/classic/source/. <span class="nb">source</span>
</span><span class='line'><span class="nb">  </span>mkdir -p sass
</span><span class='line'>  cp -r .themes/classic/sass/. sass
</span><span class='line'>  mkdir -p <span class="nb">source</span>/_posts
</span><span class='line'>  mkdir -p public
</span></code></pre></td></tr></table></div></figure>


<p>I use Github Pages, but this setup works out of the box with Heroku (or just
plain rsync) too.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="nv">$ </span>rake setup_github_pages
</span><span class='line'>  Enter the <span class="nb">read</span>/write url <span class="k">for </span>your repository
</span><span class='line'>  <span class="o">(</span>For example,
</span><span class='line'>   <span class="s1">&#39;git@github.com:your_username/your_username.github.io.git)</span>
</span><span class='line'><span class="s1">  or</span>
</span><span class='line'><span class="s1">  &#39;</span>https://github.com/your_username/your_username.github.io<span class="s1">&#39;)</span>
</span><span class='line'><span class="s1">  Repository url:</span>
</span><span class='line'><span class="s1">  https://github.com/agam/agam.github.com.git</span>
</span><span class='line'><span class="s1">  Added remote</span>
</span><span class='line'><span class="s1">  https://github.com/agam/agam.github.com.git</span>
</span><span class='line'><span class="s1">  as origin</span>
</span><span class='line'><span class="s1">  Set origin as default remote</span>
</span><span class='line'><span class="s1">  Master branch renamed to &#39;</span><span class="nb">source</span><span class="err">&#39;</span>
</span><span class='line'>  <span class="k">for </span>committing your blog <span class="nb">source</span>
</span><span class='line'><span class="nb">  </span>files
</span><span class='line'>  rm -rf _deploy
</span><span class='line'>  mkdir _deploy
</span><span class='line'>  <span class="nb">cd </span>_deploy
</span><span class='line'>  Initialized empty Git repository
</span><span class='line'>  in
</span><span class='line'>  /home/agam/Documents/octopress/_deploy/.git/
</span><span class='line'>  <span class="o">[</span>master <span class="o">(</span>root-commit<span class="o">)</span> 5a90a3a<span class="o">]</span>
</span><span class='line'>  Octopress init
</span><span class='line'>1 file changed, 1 insertion<span class="o">(</span>+<span class="o">)</span>
</span><span class='line'>  create mode 100644 index.html
</span><span class='line'>  <span class="nb">cd</span> -
</span></code></pre></td></tr></table></div></figure>


<p>Take a look at what we made !</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="nv">$ </span>rake generate
</span><span class='line'>
</span><span class='line'>  <span class="nv">$ </span>rake preview
</span></code></pre></td></tr></table></div></figure>


<p>Push it out and call it a day &hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="nv">$ </span>git add .
</span><span class='line'>
</span><span class='line'>  <span class="nv">$ </span>git commit -m <span class="s1">&#39;New (Empty) Blog&#39;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$ </span>git push origin <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Migrating static content</h2>

<p>But wait, in my case, I also need to get all my old stuff over.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="nv">$ </span>cp ../hakyll-source/posts/* <span class="nb">source</span>/_posts/
</span></code></pre></td></tr></table></div></figure>


<p>But when I try to generate again &hellip; sadness</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>/usr/local/google/home/agam/Documents/octopress/plugins/pygments_code.rb:27:in
</span><span class='line'><span class="sb">`</span>rescue in pygments<span class="s1">&#39;: Pygments can&#39;</span>t parse unknown language: shell.
</span><span class='line'><span class="o">(</span>RuntimeError<span class="o">)</span>
</span><span class='line'>from
</span><span class='line'>/usr/local/google/home/agam/Documents/octopress/plugins/pygments_code.rb:24:in
</span><span class='line'><span class="sb">`</span>pygments<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">from</span>
</span><span class='line'><span class="s1">/usr/local/google/home/agam/Documents/octopress/plugins/pygments_code.rb:14:in</span>
</span><span class='line'><span class="s1">`highlight&#39;</span>
</span><span class='line'>from
</span><span class='line'>/usr/local/google/home/agam/Documents/octopress/plugins/backtick_code_block.rb:37:in
</span><span class='line'><span class="sb">`</span>block in render_code_block<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">from</span>
</span><span class='line'><span class="s1">/usr/local/google/home/agam/Documents/octopress/plugins/backtick_code_block.rb:13:in</span>
</span><span class='line'><span class="s1">`gsub&#39;</span>
</span><span class='line'>from
</span><span class='line'>/usr/local/google/home/agam/Documents/octopress/plugins/backtick_code_block.rb:13:in
</span><span class='line'><span class="sb">`</span>render_code_block<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">from</span>
</span><span class='line'><span class="s1">/usr/local/google/home/agam/Documents/octopress/plugins/octopress_filters.rb:12:in</span>
</span><span class='line'><span class="s1">`pre_filter&#39;</span>
</span><span class='line'>from
</span><span class='line'>/usr/local/google/home/agam/Documents/octopress/plugins/octopress_filters.rb:28:in
</span><span class='line'><span class="sb">`</span>pre_render<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">from</span>
</span><span class='line'><span class="s1">/usr/local/google/home/agam/Documents/octopress/plugins/post_filters.rb:112:in</span>
</span><span class='line'><span class="s1">`block in</span>
</span><span class='line'><span class="s1">pre_render&#39;</span>
</span><span class='line'>from
</span><span class='line'>/usr/local/google/home/agam/Documents/octopress/plugins/post_filters.rb:111:in
</span><span class='line'><span class="sb">`</span>each<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">from</span>
</span><span class='line'><span class="s1">/usr/local/google/home/agam/Documents/octopress/plugins/post_filters.rb:111:in</span>
</span><span class='line'><span class="s1">`pre_render&#39;</span>
</span><span class='line'>from
</span><span class='line'>/usr/local/google/home/agam/Documents/octopress/plugins/post_filters.rb:166:in
</span><span class='line'><span class="sb">`</span>do_layout<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">from</span>
</span><span class='line'><span class="s1">/usr/local/google/home/agam/.rvm/gems/ruby-1.9.3-p448/gems/jekyll-0.12.0/lib/jekyll/post.rb:195:in</span>
</span><span class='line'><span class="s1">`render&#39;</span>
</span><span class='line'>from
</span><span class='line'>/usr/local/google/home/agam/.rvm/gems/ruby-1.9.3-p448/gems/jekyll-0.12.0/lib/jekyll/site.rb:200:in
</span><span class='line'><span class="sb">`</span>block
</span><span class='line'>in
</span><span class='line'>render<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">from</span>
</span><span class='line'><span class="s1">/usr/local/google/home/agam/.rvm/gems/ruby-1.9.3-p448/gems/jekyll-0.12.0/lib/jekyll/site.rb:199:in</span>
</span><span class='line'><span class="s1">`each&#39;</span>
</span><span class='line'>from
</span><span class='line'>/usr/local/google/home/agam/.rvm/gems/ruby-1.9.3-p448/gems/jekyll-0.12.0/lib/jekyll/site.rb:199:in
</span><span class='line'><span class="sb">`</span>render<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">from</span>
</span><span class='line'><span class="s1">/usr/local/google/home/agam/.rvm/gems/ruby-1.9.3-p448/gems/jekyll-0.12.0/lib/jekyll/site.rb:41:in</span>
</span><span class='line'><span class="s1">`process&#39;</span>
</span><span class='line'>from
</span><span class='line'>/usr/local/google/home/agam/.rvm/gems/ruby-1.9.3-p448/gems/jekyll-0.12.0/bin/jekyll:264:in
</span><span class='line'><span class="sb">`</span>&lt;top
</span><span class='line'><span class="o">(</span>required<span class="o">)</span>&gt;<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">from</span>
</span><span class='line'><span class="s1">/usr/local/google/home/agam/.rvm/gems/ruby-1.9.3-p448/bin/jekyll:23:in</span>
</span><span class='line'><span class="s1">`load&#39;</span>
</span><span class='line'>from
</span><span class='line'>/usr/local/google/home/agam/.rvm/gems/ruby-1.9.3-p448/bin/jekyll:23:in
</span><span class='line'><span class="sb">`</span>&lt;main&gt;<span class="s1">&#39;</span>
</span><span class='line'><span class="s1">from</span>
</span><span class='line'><span class="s1">  /usr/local/google/home/agam/.rvm/gems/ruby-1.9.3-p448/bin/ruby_executable_hooks:15:in</span>
</span><span class='line'><span class="s1">  `eval&#39;</span>
</span><span class='line'>  from
</span><span class='line'>  /usr/local/google/home/agam/.rvm/gems/ruby-1.9.3-p448/bin/ruby_executable_hooks:15:in
</span><span class='line'>  <span class="sb">`</span>&lt;main&gt;<span class="err">&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="https://plus.google.com/photos?pid=5946667874240500674&amp;oid=116824588290880385608">Nothing to panic</a> about, turns out I just had to use different names for the
<a href="http://pygments.org/docs/lexers/">Lexers in Pygments</a>. So it&rsquo;s &ldquo;sh&rdquo; or &ldquo;bash&rdquo;
instead of &ldquo;shell&rdquo;, and &ldquo;haskell&rdquo; instead of &ldquo;Haskell&rdquo;.</p>

<p>Also, I had to make other cosmetic changes like
&ndash; changing the title to be in the <em>yyyy-mm-dd-title</em> format
&ndash; added quotes around the &lsquo;title&rsquo; in the header metadata
&ndash; added categories (retroactively) for each post</p>

<h2>Sorting out the old repo</h2>

<p>Almost there, but not there yet. Running <code>rake deploy</code> doesn&rsquo;t work out of the
box:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'> ! <span class="o">[</span>rejected<span class="o">]</span>        master -&gt; master <span class="o">(</span>non-fast-forward<span class="o">)</span>
</span><span class='line'> error: failed to push some refs to
</span><span class='line'> <span class="s1">&#39;https://github.com/agam/agam.github.com.git&#39;</span>
</span><span class='line'> hint: Updates were rejected because the tip of your current branch is behind
</span><span class='line'> hint: its remote counterpart. Integrate the remote changes <span class="o">(</span>e.g.
</span><span class='line'> hint: <span class="s1">&#39;git pull ...&#39;</span><span class="o">)</span> before pushing again.
</span><span class='line'> hint: See the <span class="s1">&#39;Note about fast-forwards&#39;</span> in <span class="s1">&#39;git push --help&#39;</span> <span class="k">for </span>details.
</span></code></pre></td></tr></table></div></figure>


<p>Ah what the hell, its just a static blog repo! I deleted the old repo, created a
new repo, ran <code>rake setup_github_pages</code> again, and this time <code>rake deploy</code>
worked flawlessly.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">## Pushing generated _deploy website</span>
</span><span class='line'>Username <span class="k">for</span> <span class="s1">&#39;https://github.com&#39;</span>: agam
</span><span class='line'>Password <span class="k">for</span> <span class="s1">&#39;https://agam@github.com&#39;</span>:
</span><span class='line'>Counting objects: 262, <span class="k">done</span>.
</span><span class='line'>Delta compression using up to 8 threads.
</span><span class='line'>Compressing objects: 100% <span class="o">(</span>217/217<span class="o">)</span>, <span class="k">done</span>.
</span><span class='line'>Writing objects: 100% <span class="o">(</span>262/262<span class="o">)</span>, 677.07 KiB | 0 bytes/s, <span class="k">done</span>.
</span><span class='line'>Total 262 <span class="o">(</span>delta 59<span class="o">)</span>, reused 0 <span class="o">(</span>delta 0<span class="o">)</span>
</span><span class='line'>To https://github.com/agam/agam.github.io.git
</span><span class='line'> * <span class="o">[</span>new branch<span class="o">]</span>      master -&gt; master
</span><span class='line'>
</span><span class='line'> <span class="c">## Github Pages deploy complete</span>
</span><span class='line'> <span class="nb">cd</span> -
</span></code></pre></td></tr></table></div></figure>


<p>BTW if you do this you might also need to recreate the <code>source</code> remote branch,
e.g. in my case</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>agam@terminus:~/Documents/octopress<span class="nv">$ </span>git remote <span class="nb">set</span>-url origin
</span><span class='line'>https://github.com/agam/agam.github.io.git
</span><span class='line'>agam@terminus:~/Documents/octopress<span class="nv">$ </span>git push origin <span class="nb">source</span>
</span><span class='line'>Username <span class="k">for</span> <span class="s1">&#39;https://github.com&#39;</span>: agam
</span><span class='line'>Password <span class="k">for</span> <span class="s1">&#39;https://agam@github.com&#39;</span>:
</span><span class='line'>Counting objects: 4975, <span class="k">done</span>.
</span><span class='line'>Delta compression using up to 8 threads.
</span><span class='line'>Compressing objects: 100% <span class="o">(</span>2173/2173<span class="o">)</span>, <span class="k">done</span>.
</span><span class='line'>Writing objects: 100% <span class="o">(</span>4975/4975<span class="o">)</span>, 1.56 MiB | 816.00 KiB/s, <span class="k">done</span>.
</span><span class='line'>Total 4975 <span class="o">(</span>delta 2611<span class="o">)</span>, reused 4694 <span class="o">(</span>delta 2428<span class="o">)</span>
</span><span class='line'>To https://github.com/agam/agam.github.io.git
</span><span class='line'> * <span class="o">[</span>new branch<span class="o">]</span>      <span class="nb">source</span> -&gt; <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure>


<p>Finally, keep in mind that <code>rake deploy</code> only updates the generated content. You
obviously also want to version your posts in markdown format (along with any
images etc that you might be hosting too), so every once in a while,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>git commit -a -m <span class="s1">&#39;sync to latest post&#39;</span>
</span><span class='line'>git push origin <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure>


<p>(you might want to replace that with a more descriptive message !)</p>

<p>So that&rsquo;s that. If you use git or write code setting this up is pretty easy, and
as you can see, it&rsquo;s not too bad to look at either!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Moving to Jekyll]]></title>
    <link href="http://agam.github.io/blog/2013/11/15/moving-to-jekyll/"/>
    <updated>2013-11-15T00:00:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/11/15/moving-to-jekyll</id>
    <content type="html"><![CDATA[<p>Wait, what ? Seriously ? Yes, seriously.</p>

<p>If it goes well you&rsquo;re reading this on my Jekyll-generated static blog (or
perhaps <a href="http://www.tumblr.com">something else</a>). In that case, you should know
that this post and the ones before it were generated by <a href="http://jaspervdj.be/hakyll/">Hakyll</a>. It was fun, I made my point, but I have a general <em>be-more-practical-than-ideological</em> theme going in my life, and this is part of that.</p>

<p>For future reference, this is what my Hakyll blog looked like (!)</p>

<p><img src="http://agam.github.io/images/pre-jekyll-blog.png" alt="Pre-Jekyll Blog" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Using Typewriter mode, ALWAYS]]></title>
    <link href="http://agam.github.io/blog/2013/11/06/typewriter-mode/"/>
    <updated>2013-11-06T00:00:00+00:00</updated>
    <id>http://agam.github.io/blog/2013/11/06/typewriter-mode</id>
    <content type="html"><![CDATA[<p>I used to have two giant monitors to work with, and reduced them to one since I
found myself frequently moving my neck from side to side.</p>

<p>I got rid of one of them, and felt much better after that &mdash; but now I was still
moving my neck up and down. When editing large source files (wait, why are these
files large to begin with ? That&rsquo;s a different conversation!), you do end up
tracking the cursor on each find, on each scroll.</p>

<p>The solution is obvious &mdash; as far as possible, keep the horizontal location of
the cursor fixed.</p>

<p>I&rsquo;m sure what the Emacs equivalent of this is, but if you use the <a href="http://www.sbf5.com/~cduan/technical/vi/">One True
Editor</a>, try typing <code>:help scrolloff</code> right now; you should see this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>                 *'scrolloff'* *'so'*
</span><span class='line'>'scrolloff' 'so'  number  (default 0)
</span><span class='line'>      global
</span><span class='line'>      {not in Vi}
</span><span class='line'>Minimal number of screen lines to keep above and below the cursor.
</span><span class='line'>This will make some context visible around where you are working.  If
</span><span class='line'>you set it to a very large value (999) the cursor line will always be
</span><span class='line'>in the middle of the window (except at the start or end of the file or
</span><span class='line'>when long lines wrap).
</span><span class='line'>For scrolling horizontally see 'sidescrolloff'.
</span><span class='line'>NOTE: This option is set to 0 when 'compatible' is set.</span></code></pre></td></tr></table></div></figure>


<p>So you can add this to your <code>.vimrc</code> later, but try it out right now. Type</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>:set scrolloff=999</span></code></pre></td></tr></table></div></figure>


<p>&hellip; and scroll around a bit.</p>

<p>Enjoy.</p>
]]></content>
  </entry>
  
</feed>
