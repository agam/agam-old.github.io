<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Agam's Mashed-Up Pome]]></title>
  <link href="http://agam.github.io/atom.xml" rel="self"/>
  <link href="http://agam.github.io/"/>
  <updated>2014-02-03T23:21:47+00:00</updated>
  <id>http://agam.github.io/</id>
  <author>
    <name><![CDATA[Agam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Programming Fun: Graph distances]]></title>
    <link href="http://agam.github.io/blog/2014/02/03/programming-fun-graph-distances/"/>
    <updated>2014-02-03T23:12:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/02/03/programming-fun-graph-distances</id>
    <content type="html"><![CDATA[<p>Interesting <a href="http://www.reddit.com/r/dailyprogrammer/comments/1tiz4z/122313_challenge_140_intermediate_graph_radius/">problem</a>: given a graph, find out the <em>minimum distance between any two nodes</em>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>On standard console input you will be given an integer N, followed by an
</span><span class='line'>Adjacency matrix. The graph is not directed, so the matrix will always be
</span><span class='line'>reflected about the main diagonal.
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>Print the radius of the graph as an integer.</span></code></pre></td></tr></table></div></figure>


<p>There are a few ways to do this &mdash; you can run <a href="http://en.wikipedia.org/wiki/Dijkstra%27s_algorithm">Dijkstra&rsquo;s algorithm</a> or <a href="http://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm">Floyd-Warshall algorithm</a> on the graph to find the path from each node to each other node. I sort of took a short cut &mdash; when the graph is represented as a matrix (as it is here), multiplying the matrix with itself (and adding the result to itself, so as not to lose the <em>0-step</em> info) can be used as a way of checking whether or not two nodes are connected.</p>

<p>Concretely, after <code>k</code> steps, if <code>Graph[i][j]</code> is <code>0</code> this means there is no path from <code>i</code> to <code>j</code> in <code>k</code> steps. So if you repeat this multiplication and stop when there are no zero elements, the number of multiplication steps is the minimum distance you need.</p>

<div><script src='https://gist.github.com/8794234.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>// Omitting headers

using namespace std;

void MatrixMultiply(
    const vector&lt;vector&lt;uint64_t&gt;&gt;&amp; source_mat1,
    const vector&lt;vector&lt;uint64_t&gt;&gt;&amp; source_mat2,
    int N,
    vector&lt;vector&lt;uint64_t&gt;&gt;* dest_mat) {
  for (int i = 0; i &lt; N; ++i) {
    vector&lt;uint64_t&gt; row;
    for (int j = 0; j &lt; N; ++j) {
      uint64_t sum = source_mat1[i][j];
      for (int k = 0; k &lt; N; ++k) {
        sum += (source_mat1[i][k] * source_mat2[k][j]);
      }
      row.push_back(sum);
    }
    dest_mat-&gt;push_back(row);
  }
}

bool AllVerticesReachable(const vector&lt;vector&lt;uint64_t&gt;&gt;&amp; mat, int N) {
  for (int i = 0; i &lt; N; ++i) {
    for (int j = 0; j &lt; N; ++j) {
      if (mat[i][j] == 0) {
        return false;
      }
    }
  }
  return true;
}

int main(int argc, char* argv[]) {
  int graph_size;
  cin &gt;&gt; graph_size;
  vector&lt;vector&lt;uint64_t&gt;&gt; graph;
  for (int i = 0; i &lt; graph_size; ++i) {
    int num;
    vector&lt;uint64_t&gt; row;
    for (int j = 0; j &lt; graph_size; ++j) {
      cin &gt;&gt; num;
      row.push_back(num);
    }
    graph.push_back(row);
  }

  // Multiply the matrix with itself
  int num_edges = 1;
  vector&lt;vector&lt;uint64_t&gt;&gt; multiplied_graph = graph;
  do {
    vector&lt;vector&lt;uint64_t&gt;&gt; temp_graph;
    MatrixMultiply(graph, multiplied_graph, graph_size, &amp;temp_graph);
    multiplied_graph = temp_graph;

    if (AllVerticesReachable(multiplied_graph, graph_size)) {
      break;
    }

    ++num_edges;
  } while (num_edges &lt; graph_size);
  cout &lt;&lt; &quot;Radius = &quot; &lt;&lt; num_edges + 1 &lt;&lt; endl;
}
</code></pre></noscript></div>


<p>[I&rsquo;m a little bored of these daily programmer questions now :( I&rsquo;ll do one more hard one and then find a new theme here.]</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Minsky Turing Lecture: Part 2]]></title>
    <link href="http://agam.github.io/blog/2014/02/01/minsky-turing-lecture-part-2/"/>
    <updated>2014-02-01T08:55:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/02/01/minsky-turing-lecture-part-2</id>
    <content type="html"><![CDATA[<p>(This picks up where <a href="http://agam.github.io/blog/2014/01/26/minsky-turing-lecture-part-1/">Part 1</a> left off)</p>

<p>If you thought Minsky cared a lot about how programming languages work, he cares even more about how education &ldquo;works&rdquo;. I recently picked up <a href="http://www.amazon.com/The-Society-Mind-Marvin-Minsky/dp/0671657135">The Society of the Mind</a> so it seems a little less surprising, but read on &hellip;</p>

<h2>Computer Science and Educational models</h2>

<blockquote><p>He [the computer scientist] perceives his principal function to provide programs and machines for use in old and new educational schemes. Well and good, but I believe he has a more complex responsibility &mdash; to work out and communicate models of the process of education itself.</p></blockquote>

<p>And lest anyone doubt this &hellip;</p>

<blockquote><p>We cannot digress here to answer skeptics who feel it too simpleminded (if not impious, or obscene) to compare minds with programs. We can refer many such critics to <a href="http://www.loebner.net/Prizef/TuringArticle.html">Turing&rsquo;s paper</a>. For those who feel that the answer cannot lie in any machine, digital or otherwise, one can argue that machines, when they become intelligent, very likely will feel the same way.</p></blockquote>

<p>(If I might digress a bit, there is a very interesting footnote here by Minsky that might completely change the image in your head of <a href="http://en.wikipedia.org/wiki/Alan_Turing">Turing</a>: &ldquo; <strong>Turing was quite good at debugging hardware</strong>. He would leave the power on, so as not to lose the &lsquo;feel&rsquo; of the thing. Everyone does that today, but it is not the same thing now that the <em>circuits all work on three or five volts</em>.&rdquo;)</p>

<blockquote><p>There is a fundamental pragmatic point in favor of our propositions. The child needs models &hellip;
&hellip;
But to model his own self he <em>cannot</em> use the engine or the organism or the city or the telephone switchboard; <em>nothing will serve at all but the computer with its programs and their bugs</em></p></blockquote>

<h2>Children and Mathematics</h2>

<blockquote><p>Imagine a small child &hellip;
&hellip;
If we extrapolate today&rsquo;s trend, his mathematical education will be conducted by poorly oriented teachers and, partly, <em>by poorly programmed machines</em>; neither will be able to respond to much beyond &ldquo;correct&rdquo; and &ldquo;wrong&rdquo; answers, let alone to make reasonable interpretations of what the child does or says, because neither will contain good models of the children, or good theories of children&rsquo;s intellectual development.</p></blockquote>

<p>He goes on to give examples of how the child&rsquo;s geometric world is <em>so different</em> from ours, such as some numbers having a different <em>weight</em> or <em>depth</em> than others, or not knowing how squares and diamonds are the same shape, as shown below:</p>

<p><img class="center" src="http://farm6.staticflickr.com/5529/12246677434_860cbfa222_z_d.jpg"></p>

<p>This builds up to something I really like (if I may let my personal biases show, I like it because it validates some of my own beliefs): the idea that computational analogies can (and indeed <em>should!</em>) be more generally used to describe patterns of thought and behavior.</p>

<blockquote><p>Before computation, the community of ideas about the nature of thought was too feeble to support an effective theory of learning and development. Neither the finite-state models of the Behaviorists, the hydraulic and economic analogies of the Freudians, nor the rabbit-in-the-hat insights of the Gestaltists supplied enough ingredients to understand so intricate a subject. It needs <em>a substrate of already debugged theories and solutions</em> of related but simpler problems. Now we have a flood of such ideas, <em>well defined and implemented</em>, for <strong>thinking about thinking</strong>; only a fraction are represented in traditional psychology:</p></blockquote>

<p>Some of the ideas listed are</p>

<ul>
<li>microprogram</li>
<li>interrupt</li>
<li>garbage collection</li>
<li>macro</li>
<li>symbol table</li>
</ul>


<p>He goes on:</p>

<blockquote><p>All these serve today as tools of a curious and intricate craft, <strong>programming</strong>. But just as astronomy succeeded astrology, following Kepler&rsquo;s regularities, the discovery of <em>principles in empirical explorations of intellectual process in machines</em> should lead to a science.</p></blockquote>

<p>This finally brings him to a polemic against the nature of math education itself.</p>

<h2>Against the &ldquo;New Mathematics&rdquo; curriculum</h2>

<p>What Minsky seems to be railing here is the excessive formalism in Mathematics introduced early on, where abstract concepts like sets are introduced before trying to create a <em>familiarity</em> with numbers.</p>

<blockquote><p>Because of the formalistic approach the teacher will not be able to help the child very much with problems of formulation. For she will feel insecure herself as she drills him on such matters as the <em>difference between the empty set and nothing</em>, or the distinction between the &ldquo;numeral&rdquo; 3+5 and the numeral 8 which is the &ldquo;common name&rdquo; of the number eight, hoping he will not ask what is the common name of the fraction 8/1, which is probably different from the rational 8/1 and different from the quotient 8/1 &hellip;</p></blockquote>

<p>Here, the fractions, quotients and rationals obviously <em>should</em> be identified with each other, rather than siloed and separated by this &ldquo;maze of formalism&rdquo;. Also &hellip;</p>

<blockquote><p>It is very bad to insist that the child keep his knowledge in a simple ordered hierarchy. In order to retrieve what he needs, he must have a multiply connected network, so that he can try several ways to do each thing &hellip; Emphasis on the &ldquo;formal proof&rdquo; is destructive at this stage, because the <strong>knowledge needed for finding proofs, and for understanding them, is far more complex (and less useful) than the knowledge mentioned <em>in</em> proofs.</strong></p></blockquote>

<p>Minsky suggests that this might stem from a misconception of the form &ldquo;You can teach a child anything, if you just get the definitions precise enough&rdquo;.</p>

<p>He doesn&rsquo;t care too much about overly focusing on set theory either:</p>

<blockquote><p>Set theory is not, as the logicians and publishers would have it, <em>the</em> only and true foundation of mathematics; it is a viewpoint that is pretty good for investigating the transfinite, <em>but undistinguished for comprehending the real numbers, and quite substandard for learning about arithmetic, algebra, and geometry</em>.</p></blockquote>

<p>If there is a way to sum up his argument with one line, it is probably this:</p>

<blockquote><p>The child is expected to learn how to solve problems but we do not teach him what we know, either about the subject, or about problem-solving.</p></blockquote>

<h2>Contradiction and Solution</h2>

<blockquote><p>There is a real conflict between the logician&rsquo;s goal and the educator&rsquo;s. The logical wants to minimize the variety of ideas, and doesn&rsquo;t mind a long, thin path. The educator (rightly) wants to make the paths short and doesn&rsquo;t mind &mdash; in fact, prefers &mdash; connection to many other ideas. <em>And he cares almost not at all about the directions of the links.</em></p></blockquote>

<p>So where does the computer scientist come in to this ? In a heroic way !</p>

<blockquote><p>The computer scientist thus has a responsibility to education. Not as he thinks, <em>because he will have to program the teaching machines</em>. Certainly not because he is a skilled user of &ldquo;finite mathematics&rdquo;. <em>He knows how to debug programs</em>; he must tell the educators how to help the children to debug their own problem-solving processes. <em>He knows how procedures depend on their data structures</em>; he can tell educators how to prepare children for new ideas.</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Playing with the exponential curve]]></title>
    <link href="http://agam.github.io/blog/2014/02/01/playing-with-the-exponential-curve/"/>
    <updated>2014-02-01T06:35:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/02/01/playing-with-the-exponential-curve</id>
    <content type="html"><![CDATA[<p>I remember hearing about the <a href="http://britton.disted.camosun.bc.ca/jbchessgrain.htm">apocryphal story</a> about doubling grains of rice on a chessboard. I even tried writing powers of 2 (which at my age then just meant adding <code>2+2</code> then <code>4+4</code> etc).</p>

<p><img class="center" src="http://britton.disted.camosun.bc.ca/firdau1.jpg"></p>

<p>This is obviously the <a href="http://www.wolframalpha.com/input/?i=e+%5E+x"><code>e^x</code></a> curve, but when you normally see it drawn its self-similarity is not obvious. Mathematica&rsquo;s <code>Manipulate</code> function can help in this regard &hellip;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Manipulate[ListPlot[Table[Power[2, i], {i, 1, n}]], {n, 1, 64}]</span></code></pre></td></tr></table></div></figure>


<p><img class="center" src="http://farm3.staticflickr.com/2853/12244178256_251f9fcfae_d.jpg">
<img class="center" src="http://farm6.staticflickr.com/5496/12243600435_e6faac3bbb_d.jpg">
<img class="center" src="http://farm6.staticflickr.com/5547/12244178226_2258c2c2ce_d.jpg">
<img class="center" src="http://farm3.staticflickr.com/2882/12243785163_3822d7299b_d.jpg">
<img class="center" src="http://farm8.staticflickr.com/7332/12243785183_6243378edf_d.jpg"></p>

<p>These are screenshots for increasing values of <code>n</code>: Note how they all look the same (except for the first one, where the curve is just starting out), over several orders of magnitude!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Change That Font!]]></title>
    <link href="http://agam.github.io/blog/2014/02/01/change-that-font/"/>
    <updated>2014-02-01T06:25:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/02/01/change-that-font</id>
    <content type="html"><![CDATA[<p>You don&rsquo;t have to be chained to <code>Monaco</code> if you don&rsquo;t like it. I changed it to <code>Inconsolata</code>, which is as simply as <a href="http://www.levien.com/type/myfonts/inconsolata.html">downloading it</a> (click on the <em>Open Type File</em> link).</p>

<p><img class="center" src="http://farm6.staticflickr.com/5509/12246575643_d92ae27492_z_d.jpg"></p>

<p>Once you click on the downloaded file, the <strong>Font Book</strong> app should open up automatically, showing the font face and with a <code>Install</code> button.</p>

<p>Once you do this (I love this part) <em>any open font selection windows will refresh automatically</em>, and you can pick this new font for your terminal (which, by the way, I hope is <a href="http://iterm.sourceforge.net/">iTerm</a> because &hellip; if not, why?)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mathematica: 1/9998]]></title>
    <link href="http://agam.github.io/blog/2014/01/30/mathematica-1-slash-9998/"/>
    <updated>2014-01-30T23:00:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/30/mathematica-1-slash-9998</id>
    <content type="html"><![CDATA[<p>I saw this piece about how <code>1/1998</code> was approximated by series of powers of <code>2</code>, which raised the question, &ldquo;Can Mathematica help confirm this?&rdquo; (<em>of course it can!</em>)</p>

<p>First, a gut check to see the decimal expansion</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>N[1/9998, 100]</span></code></pre></td></tr></table></div></figure>


<p>which shows</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>0.00010002000400080016003200640128025605121024204840968193638727745549 \
</span><span class='line'>10982196439287857571514302860572114</span></code></pre></td></tr></table></div></figure>


<p>(if you don&rsquo;t specify the <code>100</code> in the argument to <code>N[]</code>, it will show you just <code>0.00010002</code> by default)</p>

<p>This can be visualized as</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>0.0001 +
</span><span class='line'>0.00000002 +
</span><span class='line'>0.000000000004 +
</span><span class='line'>0.0000000000000008 +
</span><span class='line'>0.00000000000000000016 +
</span><span class='line'>...
</span><span class='line'>0.000000000000000000000000000000000256 +
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>


<p>All right, so we do see these powers of 2! They seem to be in &ldquo;groups&rdquo; &mdash; <code>0004</code>, <code>0016</code>, <code>1024</code> and so on.</p>

<p>So we want to check if something like <code>2^i/10000^i</code> can add up to this number.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Parallelize[
</span><span class='line'> Table[1/9998 - Total[Table[2^i/10000^i, {i, 1, n}]], {n, 1, 10000}] ]</span></code></pre></td></tr></table></div></figure>


<p>I initially tried this <em>without</em> <code>Parallelize[]</code>, but that kept going <em>for a while</em>, so I had to abort it (<code>Evaluation</code>&ndash;><code>Abort Evaluation</code>) and try this version instead.</p>

<p>Anyway, so this whirs for a while. As this <code>htop</code> output shows, it really does use as many cores as possible.</p>

<p><img class="center" src="http://farm6.staticflickr.com/5504/12227941034_4ce9d69db4_z_d.jpg"></p>

<p>Eventually when it&rsquo;s done, we can <code>ListPlot</code> it.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ListPlot[%118, Frame -&gt; True, FrameStyle -&gt; Black, 
</span><span class='line'> PlotRange -&gt; { {1, 10000}, {-0.000105, -0.000095} }]</span></code></pre></td></tr></table></div></figure>


<p><img class="center" src="http://farm6.staticflickr.com/5535/12227532975_ee70979b52_z_d.jpg"></p>

<p>As this graph shows, the result is remarkably close to a constant value of <code>-0.0001</code> !!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mathematica: A simple ant]]></title>
    <link href="http://agam.github.io/blog/2014/01/30/mathematica-a-simple-ant/"/>
    <updated>2014-01-30T18:16:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/30/mathematica-a-simple-ant</id>
    <content type="html"><![CDATA[<p>Here&rsquo;s a simple, exploratory sketch: Imagine an ant which can either move left or right, or stay in its place.</p>

<p>For simplicity, we&rsquo;ll imagine the ant starts at the center of a scale from <code>1</code> to <code>100</code>, and moves one unit at a time.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Ant[k_, u_] := 
</span><span class='line'> If[ u &lt; 1/3, Min[k + 1, 100], If[u &gt; 2/3, Max[0, k - 1], k]]
</span><span class='line'>
</span><span class='line'>RecAnt[k_] := Ant[k, RandomReal[]]</span></code></pre></td></tr></table></div></figure>


<p> <img class="center" src="http://farm8.staticflickr.com/7351/12224251723_4d24311967_d.jpg"></p>

<p> <code>
 ListPlot[NestList[RecAnt, 50, 100000], ImageSize -&gt; Large, Background -&gt; LightGray]
</code></p>

<p> <img class="center" src="http://farm8.staticflickr.com/7418/12224482144_6ef516fd03_z_d.jpg"></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Getting started with clojure: Part 1]]></title>
    <link href="http://agam.github.io/blog/2014/01/29/getting-started-with-clojure-part-1/"/>
    <updated>2014-01-29T18:04:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/29/getting-started-with-clojure-part-1</id>
    <content type="html"><![CDATA[<p>(Just a personal log so I don&rsquo;t forget some basic steps here. There may or may not be a Part 2)</p>

<h2>Setting up the REPL</h2>

<p>First, install relevant stuff. This is usually, at the minimum, something like <code>sudo apt-get install clojure1.4</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ java -cp /usr/share/java/clojure-1.4.jar clojure.main
</span><span class='line'>Clojure 1.4.0
</span><span class='line'>user=&gt; </span></code></pre></td></tr></table></div></figure>


<h2>First steps</h2>

<p>Basic Arithmetic</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; (+ 2 3)
</span><span class='line'>5</span></code></pre></td></tr></table></div></figure>


<p>Basic string operation</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; "foo"
</span><span class='line'>"foo"
</span><span class='line'>
</span><span class='line'>user=&gt; (concat "foo" "bar")
</span><span class='line'>(\f \o \o \b \a \r)</span></code></pre></td></tr></table></div></figure>


<p>Variables</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; (def x 4)
</span><span class='line'>#'user/x
</span><span class='line'>
</span><span class='line'>user=&gt; (+ x 5)
</span><span class='line'>9
</span><span class='line'>
</span><span class='line'>user=&gt; (def strarr ["foo" "bar"])
</span><span class='line'>#'user/strarr</span></code></pre></td></tr></table></div></figure>


<p>Basic arrays</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; (count [6 5 3 4 2])
</span><span class='line'>5
</span><span class='line'>
</span><span class='line'>user=&gt; (get strarr 1)
</span><span class='line'>"bar"
</span><span class='line'>
</span><span class='line'>user=&gt; (get strarr 0)
</span><span class='line'>"foo"</span></code></pre></td></tr></table></div></figure>


<p>Basic maps</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; (def mymap {:foo "Here is foo" :bar "... and here is bar!"})
</span><span class='line'>#'user/mymap
</span><span class='line'>
</span><span class='line'>user=&gt; (get mymap :bar)
</span><span class='line'>"... and here is bar!"</span></code></pre></td></tr></table></div></figure>


<p>Errors</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; (^ 6 4)
</span><span class='line'>IllegalArgumentException Metadata must be Symbol,Keyword,String or Map  clojure.lang.LispReader$MetaReader.invoke (LispReader.java:720)
</span><span class='line'>4
</span><span class='line'>RuntimeException Unmatched delimiter: )  clojure.lang.Util.runtimeException (Util.java:170)
</span><span class='line'>
</span><span class='line'>user=&gt; (% 6 4)
</span><span class='line'>CompilerException java.lang.RuntimeException: Unable to resolve symbol: % in this context, compiling:(NO_SOURCE_PATH:2) </span></code></pre></td></tr></table></div></figure>


<p>Stack Overflow (!)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; (defn foo [x] (foo (- x 1)))
</span><span class='line'>#'user/foo
</span><span class='line'>
</span><span class='line'>user=&gt; (foo 4)
</span><span class='line'>StackOverflowError   user/foo (NO_SOURCE_FILE:7)</span></code></pre></td></tr></table></div></figure>


<p>Simple function</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; (defn expt [x y] (if (= y 0) 1 (* x (expt x (- y 1)))))
</span><span class='line'>#'user/expt
</span><span class='line'>
</span><span class='line'>user=&gt; (expt 6 4)
</span><span class='line'>1296</span></code></pre></td></tr></table></div></figure>


<p>Default REPL namespace (<code>user</code>)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; (user/expt 6 4)
</span><span class='line'>1296</span></code></pre></td></tr></table></div></figure>


<h2>Programming primitives</h2>

<p>For loop</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; (dotimes [_ 5] (println "Hello World."))
</span><span class='line'>Hello World.
</span><span class='line'>Hello World.
</span><span class='line'>Hello World.
</span><span class='line'>Hello World.
</span><span class='line'>Hello World.
</span><span class='line'>nil</span></code></pre></td></tr></table></div></figure>


<p>While loop</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; (for [i (range 5) j (range 5) :when (and (&gt; i 0) (&lt; i j))] (println (* i j)))
</span><span class='line'>(2
</span><span class='line'>3
</span><span class='line'>4
</span><span class='line'>nil nil 6
</span><span class='line'>8
</span><span class='line'>nil nil 12
</span><span class='line'>nil nil)</span></code></pre></td></tr></table></div></figure>


<p>Switch case</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>user=&gt; (for [i (range 5) j (range 5)]
</span><span class='line'>(case (* i j)
</span><span class='line'>0 "zero"
</span><span class='line'>(* i j)))
</span><span class='line'>("zero" "zero" "zero" "zero" "zero" "zero" 1 2 3 4 "zero" 2 4 6 8 "zero" 3 6 9 12 "zero" 4 8 12 16)</span></code></pre></td></tr></table></div></figure>


<p>&hellip; the rest in Part 2, if there is one.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Programming Fun: Ascii Tree]]></title>
    <link href="http://agam.github.io/blog/2014/01/29/programming-fun-ascii-tree/"/>
    <updated>2014-01-29T02:11:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/29/programming-fun-ascii-tree</id>
    <content type="html"><![CDATA[<p>Another <a href="http://www.reddit.com/r/dailyprogrammer/comments/1t0r09/121613_challenge_145_easy_tree_generation/">easy problem</a> (I&rsquo;m not picking easy problems! I&rsquo;m just going in sequence!)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>You will be given one line of text on standard-console input: an integer and
</span><span class='line'>two characters, all space-delimited. The integer, N, will range inclusively
</span><span class='line'>from 3 to 21 and always be odd. The next character will be your trunk
</span><span class='line'>character. The next character will be your leaves character. Draw the trunk and
</span><span class='line'>leaves components with these characters, respectively.
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>Given the three input arguments, draw a centered-tree. It should follow this
</span><span class='line'>pattern: (this is the smallest tree possible, with a base of 3)
</span><span class='line'>   *
</span><span class='line'>  ***
</span><span class='line'>  ###
</span><span class='line'>Here's a much larger tree, of base 7:
</span><span class='line'>   *
</span><span class='line'>  ***
</span><span class='line'> *****
</span><span class='line'>*******
</span><span class='line'>  ###</span></code></pre></td></tr></table></div></figure>


<p>Is this really programming at all? More like basic <em>arithmetic</em>. Anyway &hellip;</p>

<div><script src='https://gist.github.com/8679031.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>// Skipped includes

using namespace std;

int main(int argc, char* argv[]) {
  int tree_width;
  char trunk_char, leaf_char;
  cin &gt;&gt; tree_width &gt;&gt; trunk_char &gt;&gt; leaf_char;

  // Since the top of the tree is triangular, if the height is N the base will
  // be 2 * N - 1.
  assert(tree_width % 2 == 1);
  assert(tree_width &gt; 0);
  int tree_height = (tree_width + 1) / 2;

  for (int i = 0; i &lt; tree_height; ++i) {
    // The i_th row will have 2 * i + 1 leaves, in the center
    for (int j = 0; j &lt; (tree_height - i); ++j) {
      cout &lt;&lt; &quot; &quot;;
    }
    for (int j = 0; j &lt; (2 * i + 1); ++j) {
      cout &lt;&lt; leaf_char;
    }
    cout &lt;&lt; endl;
  }
  // Trunk is always of width 3, in the center
  for (int j = 0; j &lt; (tree_height - 1); ++j) {
    cout &lt;&lt; &quot; &quot;;
  }
  for (int j = 0; j &lt; 3; ++j) {
    cout &lt;&lt; trunk_char;
  }
  cout &lt;&lt; endl;
}
</code></pre></noscript></div>


<p>[Also, I realized I&rsquo;m wasting everyone&rsquo;s time by having all those redundant <code>#include</code> lines, so I got rid of them here]</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Programming Fun: Adjacency Matrix]]></title>
    <link href="http://agam.github.io/blog/2014/01/27/programming-fun-adjacency-matrix/"/>
    <updated>2014-01-27T03:55:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/27/programming-fun-adjacency-matrix</id>
    <content type="html"><![CDATA[<p>Another &ldquo;intermediate&rdquo; <a href="http://www.reddit.com/r/dailyprogrammer/comments/1t6dlf/121813_challenge_140_intermediate_adjacency_matrix/">problem</a> today.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>On standard console input, you will be first given a line with two space-delimited integers N and M. N is the number of nodes / vertices in the graph, while M is the number of following lines of edge-node data. A line of edge-node data is a space-delimited set of integers, with the special "-&gt;" symbol indicating an edge. This symbol shows the edge-relationship between the set of left-sided integers and the right-sided integers. This symbol will only have one element to its left, or one element to its right. These lines of data will also never have duplicate information; you do not have to handle re-definitions of the same edges.
</span><span class='line'>
</span><span class='line'>An example of data that maps the node 1 to the nodes 2 and 3 is as follows:
</span><span class='line'>1 -&gt; 2 3
</span><span class='line'>
</span><span class='line'>Another example where multiple nodes points to the same node:
</span><span class='line'>3 8 -&gt; 2
</span><span class='line'>
</span><span class='line'>You can expect input to sometimes create cycles and self-references in the graph. The following is valid:
</span><span class='line'>2 -&gt; 2 3
</span><span class='line'>3 -&gt; 2
</span><span class='line'>
</span><span class='line'>Note that there is no order in the given integers; thus "1 -&gt; 2 3" is the same as "1 -&gt; 3 2".
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>-----------------
</span><span class='line'>Print the N x N adjacency matrix as a series of 0's (no-edge) and 1's (edge).</span></code></pre></td></tr></table></div></figure>


<p>Since the C++ Standard Library doesn&rsquo;t have a built-in matrix library (or maybe it does and I&rsquo;m unaware of it), I just used a vector of size <code>M * N</code> to stand in for an <code>M * N</code> matrix.</p>

<div><script src='https://gist.github.com/8643006.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;array&gt;
#include &lt;fstream&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;map&gt;
#include &lt;memory&gt;
#include &lt;sstream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

const static char* kRelationshipMarker = &quot;-&gt;&quot;;

int main(int argc, char* argv[]) {
  int number_nodes, number_relationships;
  string line;
  getline(cin, line);
  istringstream is(line);
  is &gt;&gt; number_nodes &gt;&gt; number_relationships;

  vector&lt;int&gt; connections;
  connections.assign(number_nodes * number_nodes, 0);

  for (int i = 0; i &lt; number_relationships; ++i) {
    getline(cin, line);
    int connectee;
    string marker;
    istringstream ris(line);
    ris &gt;&gt; connectee;
    ris &gt;&gt; marker;
    assert(marker == kRelationshipMarker);
    int connected_node;
    while (ris &gt;&gt; connected_node) {
      connections[connectee * number_nodes + connected_node] = 1;
    }
  }

  for (int i = 0; i &lt; number_nodes; ++i) {
    for (int j = 0; j &lt; number_nodes; ++j) {
      cout &lt;&lt; connections[i * number_nodes + j];
    }
    cout &lt;&lt; endl;
  }
}

</code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fun with Processing: Spinning Ellipses]]></title>
    <link href="http://agam.github.io/blog/2014/01/27/fun-with-processing-spinning-ellipses/"/>
    <updated>2014-01-27T00:11:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/27/fun-with-processing-spinning-ellipses</id>
    <content type="html"><![CDATA[<p><a href="http://www.processing.org/">Processing</a> is intended to be a &ldquo;creative coding&rdquo; tool for non-programmers. It runs on top of Java, which is good enough to get started. The performance-anxious folks might eventually prefer something like <a href="http://libcinder.org/">Cinder</a>, which has C++ libraries instead.</p>

<p>I tweaked a simple snippet from a tutorial as a first step:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">size</span><span class="o">(</span><span class="mi">600</span><span class="o">,</span> <span class="mi">600</span><span class="o">);</span>
</span><span class='line'>  <span class="n">background</span><span class="o">(</span><span class="mi">255</span><span class="o">);</span>
</span><span class='line'>  <span class="n">smooth</span><span class="o">();</span>
</span><span class='line'>  <span class="n">translate</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span> <span class="mi">300</span><span class="o">);</span>
</span><span class='line'>  <span class="k">for</span> <span class="o">(</span><span class="kt">float</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">360</span><span class="o">;</span> <span class="n">i</span><span class="o">+=</span> <span class="mf">0.3</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">pushMatrix</span><span class="o">();</span>
</span><span class='line'>      <span class="n">rotate</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
</span><span class='line'>      <span class="n">translate</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">300</span><span class="o">);</span>
</span><span class='line'>      <span class="n">rotate</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">10</span><span class="o">));</span>
</span><span class='line'>      <span class="n">scale</span><span class="o">(</span><span class="n">map</span><span class="o">(</span><span class="n">sin</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">6</span><span class="o">)),</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="o">.</span><span class="mi">5</span><span class="o">,</span> <span class="mi">1</span><span class="o">),</span>
</span><span class='line'>        <span class="n">map</span><span class="o">(</span><span class="n">sin</span><span class="o">(</span><span class="n">radians</span><span class="o">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">3</span><span class="o">)),</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="o">.</span><span class="mi">5</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
</span><span class='line'>      <span class="n">drawEllipse</span><span class="o">();</span>
</span><span class='line'>    <span class="n">popMatrix</span><span class="o">();</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">drawEllipse</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">noFill</span><span class="o">();</span>
</span><span class='line'>  <span class="n">stroke</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">128</span><span class="o">);</span>
</span><span class='line'>  <span class="n">ellipse</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">600</span><span class="o">,</span> <span class="mi">100</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>and got some funky looking images.</p>

<p><img class="center" src="http://farm4.staticflickr.com/3776/12162399443_14fd4eea37_z_d.jpg"></p>

<p><img class="center" src="http://farm8.staticflickr.com/7423/12162160705_5bc891cfa6_z_d.jpg"></p>

<p><img class="center" src="http://farm8.staticflickr.com/7341/12162577004_ee1689e71f_z_d.jpg"></p>

<p><img class="center" src="http://farm4.staticflickr.com/3742/12162819596_176dc1a9d3_z_d.jpg"></p>

<p><img class="center" src="http://farm6.staticflickr.com/5513/12162574864_10b7b887f3_z_d.jpg"></p>

<p>Before you say <em>meh</em>, none of this is supposed to make you Michaelangelo. But it provides a kind of instant-gratification, since you can tweak your <em>sketch</em>, run it, tweak it again, run it again, and so on &hellip; which is rather hard to come by.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Minsky Turing Lecture: Part 1]]></title>
    <link href="http://agam.github.io/blog/2014/01/26/minsky-turing-lecture-part-1/"/>
    <updated>2014-01-26T00:10:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/26/minsky-turing-lecture-part-1</id>
    <content type="html"><![CDATA[<p>I came across a reference to Marvin Minsky&rsquo;s 1970 Turing Award Lecture. I&rsquo;ve barely read any of these lectures, always assuming they would be empty or pedantic or plain boring. Reading this changed that perception completely.</p>

<h2>Science and Education</h2>

<p>The structure of this lecture seems very interesting to me; it seems to be divided into two parts. The first focussing more on computer science and its failings, and the second on (what seems to me) education.</p>

<p>This post is about the first part. And by &ldquo;about&rdquo; I mean just extracts with minimal commentary.</p>

<h2>The trouble with Computer Science &hellip;</h2>

<blockquote><p>The trouble with computer science today is an obsessive concern with form instead of content.</p></blockquote>

<p>(yes, that&rsquo;s the opening line!)</p>

<blockquote><p>This essay has three parts, suggesting form-content confusion in <em>theory of computation</em>, in <em>programming languages</em>, and in <em>education</em>.</p></blockquote>

<p>(yes, I said two parts earlier &hellip; I just clubbed the first two together)</p>

<blockquote><p>Suppose that we had <em>n</em> computers instead of just one. How much can we speed up what kinds of calculations? For some, we can surely gain a factor of <em>n</em>. But these are rare. For others, we can gain log <em>n</em>, but it is hard to find any or to prove what are their properties. And for most, I think, we can gain hardly anything; this is the case in which there are many highly branched conditionals, so that look-ahead on possible branches will usually be wasted. <strong>We know almost nothing about this; most people think, with surely incorrect optimism, that parallelism is usually a profitable way to speed up most computations.</strong></p></blockquote>

<p>(&ldquo;surely incorrect optimism&rdquo;! I agree!)</p>

<blockquote><p>&hellip; in today&rsquo;s computer science curricula &hellip; almost all their time is devoted to formal classifications of syntactic language types, defeatist unsolvability theories, <strong>folklore about systems programming</strong>, and generally trivial fragments of &ldquo;optimization of logic design&rdquo; &mdash; the latter often in situations where the art of heuristic programming has far outstretched the special-case &ldquo;theories&rdquo; so grimly taught and tested &mdash; and <strong>invocations about programming style almost sure to be outmoded before the student graduates</strong>.</p></blockquote>

<p>(yup, quite true even today)</p>

<h2>The trouble with programming languages &hellip;</h2>

<blockquote><p><em>SYNTAX IS OFTEN UNNECESSARY</em>. <strong>One can survive with much less syntax than is generally realized</strong>. Much of programming syntax is concerned with suppression of parentheses or with emphasis of scope markers. There are alternatives that have been much underused.
&hellip; such devices as infixes and operator precedence &hellip; have their place. But <em>their importance to computer science as a whole has been so exaggerated that it is beginning to corrupt the youth</em>.</p></blockquote>

<p>(I wonder what he would have thought of <em>C++</em> !)</p>

<blockquote><p>The clumsiness, for humans, of writing all the parentheses is evident; <strong>the advantages of not having to learn all the conventions &hellip; is often overlooked</strong>.
It remains to be seen whether a syntax with explicit delimiters is reactionary, or whether it is the wave of the future.</p></blockquote>

<p>(a possible nod to Lisp ?)</p>

<blockquote><p>Much can be done to clarify the structure of expressions in such a &ldquo;syntax-weak&rdquo; language by using indentation and other layout devices that are outside the language proper.</p></blockquote>

<p>(a possible precursory nod to Python ?)</p>

<h2>Moving forward &hellip;</h2>

<blockquote><p>What is a compiler for? The usual answers resemble &ldquo;to translate from one language to another&rdquo; or &ldquo;to take a description of an algorithm and assemble it into a program, filling in many small details.&rdquo; For the future, a more ambitious view is required. Most compilers will be systems that &ldquo;produce an algorithm, given a description of its effect.&rdquo;</p></blockquote>

<p>(not sure what to make of this)</p>

<blockquote><p>No matter how a language is described, a computer must use a procedure to interpret it. One should remember that <em>in describing a language the main goal is to explain how to write programs in int and what such programs mean</em>. The main goal <em>isn&rsquo;t</em> to describe the syntax.</p></blockquote>

<p>(Sure, ok)</p>

<blockquote><p>Paradoxically, though modern programming ideas were developed because processes were hard to depict with classical mathematical notations, designers are turning back to an earlier form &mdash; the equation &mdash; in just the kind of situation that <em>needs</em> program.</p></blockquote>

<p>(aha! wait, what?)</p>

<h2>Stay tuned</h2>

<p>So much for Part 1. I&rsquo;ll pick up the rest of the extracts next time.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Cost comparison: Google Cloud vs DigitalOcean]]></title>
    <link href="http://agam.github.io/blog/2014/01/24/cost-comparison-google-cloud-vs-digitalocean/"/>
    <updated>2014-01-24T23:07:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/24/cost-comparison-google-cloud-vs-digitalocean</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve been using a VM within the Google Compute Engine cloud, for the last two months (mostly from my chromebook, occasionally from a couple of other locations).</p>

<p>Specifically, this is a &ldquo;small&rdquo; (<code>g1-small</code>) VM, though there are <a href="https://developers.google.com/compute/docs/machine-types">many other options available</a>.</p>

<p>This comes with a single CPU core and 1.7G of memory (the disk space is provisioned separately).</p>

<p>For perspective, the only one smaller than this is an <code>f1-micro</code> instance (also with a single core, but with 0.6G of memory).</p>

<p>So it makes sense to look at what this costs &hellip;</p>

<p><img class="center" src="http://farm3.staticflickr.com/2818/12124686505_6db70c0917_o_d.png"></p>

<p>For comparison, <a href="https://www.digitalocean.com/">Digital Ocean</a> has far less flexibility, but I just might switch to it, considering that I have absolutely no plans to ever host a user-facing service or do anything of that sort, on my VM (if I did, there really wouldn&rsquo;t be any point; you want those features, folks &mdash; network protection, scalability, all that jazz).</p>

<p>So long as it&rsquo;s just little old me accessing my portable home in the cloud, the $10/mo for a 1G/30G SSD option looks just as good (or  $5/mo for 512M; also, DigitalOcean keeps running free trial offers, which are a good way to try out the service).</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Programming Fun: Nuts and Bolts]]></title>
    <link href="http://agam.github.io/blog/2014/01/19/programming-fun-nuts-and-bolts/"/>
    <updated>2014-01-19T00:39:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/19/programming-fun-nuts-and-bolts</id>
    <content type="html"><![CDATA[<p><a href="http://www.reddit.com/r/dailyprogrammer/comments/1sob1e/121113_challenge_144_easy_nuts_bolts/">This one</a> is <em>too easy</em> but included anyway for completeness (why not?)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>The first line of input will be an integer N, which is for the number of rows
</span><span class='line'>in each list. Each list has N-lines of two space-delimited strings: the first
</span><span class='line'>string will be the unique item name (without spaces), the second string will be
</span><span class='line'>the price (in whole-integer cents). The second list, following the same format,
</span><span class='line'>will have the same unique item-names, but with the correct price. Note that the
</span><span class='line'>lists may not be in the same order!
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>
</span><span class='line'>For each item that has had its price changed, print a row with the item name
</span><span class='line'>and the price difference (in cents). Print the sign of the change (e.g. '+' for
</span><span class='line'>a growth in price, or '-' for a loss in price). Order does not matter for
</span><span class='line'>output.
</span></code></pre></td></tr></table></div></figure>




<div><script src='https://gist.github.com/8498879.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;array&gt;
#include &lt;fstream&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;map&gt;
#include &lt;memory&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

typedef unordered_map&lt;string, int&gt; Inventory;

void ReadInventory(int number_items, Inventory* inventory) {
  for (int i = 0; i &lt; number_items; ++i) {
    string item;
    int quantity;
    cin &gt;&gt; item &gt;&gt; quantity;
    inventory-&gt;insert(make_pair(item, quantity));
  }
}

int main(int argc, char* argv[]) {
  int number_items;
  cin &gt;&gt; number_items;

  Inventory before, after;
  ReadInventory(number_items, &amp;before);
  ReadInventory(number_items, &amp;after);

  for (const auto&amp; it : before) {
    assert(after.find(it.first) != after.end());
    int diff_quantity = after[it.first] - it.second;
    if (diff_quantity != 0) {
      cout &lt;&lt; it.first &lt;&lt; &quot; &quot; &lt;&lt; showpos &lt;&lt; diff_quantity &lt;&lt; endl;
    }
  }
}

</code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Programming Fun: Telephone Keypads]]></title>
    <link href="http://agam.github.io/blog/2014/01/18/programming-fun-telephone-keypads/"/>
    <updated>2014-01-18T02:21:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/18/programming-fun-telephone-keypads</id>
    <content type="html"><![CDATA[<p><a href="http://www.reddit.com/r/dailyprogrammer/comments/1sody4/12113_challenge_139_intermediate_telephone_keypads/">This is a <em>medium</em> level problem</a>  with two levels of difficulty.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>On standard console input, you will be given an array of digits (0 to 9) and
</span><span class='line'>spaces. All digits will be space-delimited, unless the digits represent
</span><span class='line'>multiple presses of the same button (for example pressing 2 twice gives you the
</span><span class='line'>letter 'B').  Use the modern Telephone Keypads digit-letter layout:
</span><span class='line'>0 = Not used
</span><span class='line'>1 = Not used
</span><span class='line'>2 = ABC
</span><span class='line'>3 = DEF
</span><span class='line'>4 = GHI
</span><span class='line'>5 = JKL
</span><span class='line'>6 = MNO
</span><span class='line'>7 = PQRS
</span><span class='line'>8 = TUV
</span><span class='line'>9 = WXYZ
</span><span class='line'>You may use any source for looking up English-language words, though this
</span><span class='line'>simple English-language dictionary is complete enough for the challenge.
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>Print a list of all best-fitting words, meaning words that start with the word
</span><span class='line'>generated using the given input on a telephone keypad. You do not have to only
</span><span class='line'>print words of the same length as the input (e.g. even if the input is
</span><span class='line'>4-digits, it's possible there are many long words that start with those
</span><span class='line'>4-digits).</span></code></pre></td></tr></table></div></figure>


<p>You could do this by reading the dictionary into a vector of strings, then figuring out the prefix determined by the input and matching it against each dictionary word. There is a better way to do this though, which makes more sense considering the second part of this question.</p>

<p>Instead of using a vector, you could use a <a href="http://en.wikipedia.org/wiki/Trie">Trie</a> which in this case would look something like:</p>

<p>(showing the words &lsquo;sailor&rsquo;, &lsquo;soldier&rsquo; and &lsquo;solder&rsquo;)</p>

<p><img class="center" src="http://farm6.staticflickr.com/5534/12005243014_69145160ae_o_d.jpg" width="400"></p>

<p>This is a sort of naive implementation, you could compress this by storing strings and only expanding out to character chains if needed, but I skipped that optimization here.</p>

<div><script src='https://gist.github.com/8422418.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;array&gt;
#include &lt;fstream&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;map&gt;
#include &lt;memory&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

static const array&lt;string,10&gt; kKeypadLetters {
  &quot;&quot;,
  &quot;&quot;,
  &quot;abc&quot;,
  &quot;def&quot;,
  &quot;ghi&quot;,
  &quot;jkl&quot;,
  &quot;mno&quot;,
  &quot;pqrs&quot;,
  &quot;tuv&quot;,
  &quot;wxyz&quot;
};

// Naive trie implementation
struct TrieNode {
  map&lt;char, unique_ptr&lt;TrieNode&gt;&gt; children;
  bool terminal_node = false;
};

class Trie {
public:
  Trie() {
    head_.reset(new TrieNode());
  }

  void Insert(const string&amp; str) {
    InsertHelper(str, head_.get());
  }

  bool Lookup(const string&amp; str) {
    return (LookupHelper(str, head_.get()) != nullptr);
  }

  void FindAllWithPrefix(const string&amp; str, vector&lt;string&gt;* matches) {
    const TrieNode* start_node = LookupHelper(str, head_.get());
    if (start_node == nullptr) { return; }
    FindAllHelper(str, start_node, matches);
  }

private:
  void InsertHelper(const string&amp; str, TrieNode* node) {
    if (str.empty()) {
      node-&gt;terminal_node = true;
      return;
    }
    assert(node != nullptr);
    char c = str.front();
    const auto&amp; it = node-&gt;children.find(c);
    if (it == node-&gt;children.end()) {
      node-&gt;children.insert(make_pair(c, unique_ptr&lt;TrieNode&gt;(new TrieNode)));
    }
    TrieNode* next_node = node-&gt;children.find(c)-&gt;second.get();
    InsertHelper(str.substr(1), next_node);
  }

  const TrieNode* LookupHelper(const string&amp; str, const TrieNode* node) {
    if (str.empty()) { return node; }
    assert(node != nullptr);
    const auto&amp; it = node-&gt;children.find(str.front());
    if (it == node-&gt;children.end()) {
      return nullptr;
    } else {
      return LookupHelper(str.substr(1), it-&gt;second.get());
    }
  }

  void FindAllHelper(
      const string&amp; current_str,
      const TrieNode* current_node,
      vector&lt;string&gt;* matches) {
    if (current_node-&gt;terminal_node) {
      matches-&gt;push_back(current_str);
    }
    for (const auto&amp; it : current_node-&gt;children) {
      FindAllHelper(current_str + it.first, it.second.get(), matches);
    }
  }

  unique_ptr&lt;TrieNode&gt; head_;
};

void PopulateTrie(const string&amp; fname, Trie* trie) {
  ifstream ifs;
  ifs.open(fname, ifstream::in);
  while (!ifs.eof()) {
    string word;
    getline(ifs, word);
    if (word.size()) {
      trie-&gt;Insert(word);
    }
  }
}

int main(int argc, char* argv[]) {
  // Read digiletters from stdin
  vector&lt;int&gt; digiletters;
  int digiletter;
  while (cin &gt;&gt; digiletter) {
    digiletters.push_back(digiletter);
  }

  // Read strings from file into Trie
  assert(argc == 2);
  Trie dict_trie;
  PopulateTrie(argv[1], &amp;dict_trie);

  // Get letter counts
  string keypad_str;
  for (int dl : digiletters) {
    int count = 0;
    const int letter = dl % 10;
    while (dl &gt; 0) {
      assert(dl % 10 == letter);
      dl /= 10;
      ++count;
    }
    const string&amp; keypad_letters = kKeypadLetters[letter];
    assert(count &lt;= keypad_letters.size());
    keypad_str.push_back(keypad_letters[count - 1]);
  }

  // Get matches
  vector&lt;string&gt; possible_matches;
  dict_trie.FindAllWithPrefix(keypad_str, &amp;possible_matches);

  // Print matches
  for (const string&amp; s : possible_matches) {
    cout &lt;&lt; s &lt;&lt; endl;
  }
}
</code></pre></noscript></div>


<p>There is a harder version of this problem:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Challenge++
</span><span class='line'>-----------
</span><span class='line'>If you want an extra challenge, accomplish the same challenge but without
</span><span class='line'>knowing the number of times a digit is pressed. For example "7653" could mean
</span><span class='line'>sold, or poke, or even solenoid! You must do this efficiently with regards to
</span><span class='line'>Big-O complexity.</span></code></pre></td></tr></table></div></figure>


<p>This would have been more inefficient with a vector of strings (you would sort the vector and then for each prefix, print out all subsequent ones until you encounter a string with a different prefix. So it&rsquo;s O(n log n) where n is the size of the dictionary).</p>

<p>With our trie, we can (once we have a list of all combinatorially possible prefixes) look them up <em>quickly</em> (O(k + n), where k is the length of the prefix; O(k) time for each lookup and O(n) time for creating the trie (or O(mn) where m is the length of the largest word, though I would consider that a constant here)).</p>

<p>(Note: there&rsquo;s some duplication of common code, especially in the <code>Trie</code> class; sorry about that!)</p>

<div><script src='https://gist.github.com/8460783.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;array&gt;
#include &lt;fstream&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;map&gt;
#include &lt;memory&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

static const array&lt;string,10&gt; kKeypadLetters {
  &quot;&quot;,
  &quot;&quot;,
  &quot;abc&quot;,
  &quot;def&quot;,
  &quot;ghi&quot;,
  &quot;jkl&quot;,
  &quot;mno&quot;,
  &quot;pqrs&quot;,
  &quot;tuv&quot;,
  &quot;wxyz&quot;
};

// Naive trie implementation
struct TrieNode {
  map&lt;char, unique_ptr&lt;TrieNode&gt;&gt; children;
  bool terminal_node = false;
};

class Trie {
public:
  Trie() {
    head_.reset(new TrieNode());
  }

  void Insert(const string&amp; str) {
    InsertHelper(str, head_.get());
  }

  bool Lookup(const string&amp; str) {
    return (LookupHelper(str, head_.get()) != nullptr);
  }

  void FindAllWithPrefix(const string&amp; str, vector&lt;string&gt;* matches) {
    const TrieNode* start_node = LookupHelper(str, head_.get());
    if (start_node == nullptr) { return; }
    FindAllHelper(str, start_node, matches);
  }

private:
  void InsertHelper(const string&amp; str, TrieNode* node) {
    if (str.empty()) {
      node-&gt;terminal_node = true;
      return;
    }
    assert(node != nullptr);
    char c = str.front();
    const auto&amp; it = node-&gt;children.find(c);
    if (it == node-&gt;children.end()) {
      node-&gt;children.insert(make_pair(c, unique_ptr&lt;TrieNode&gt;(new TrieNode)));
    }
    TrieNode* next_node = node-&gt;children.find(c)-&gt;second.get();
    InsertHelper(str.substr(1), next_node);
  }

  const TrieNode* LookupHelper(const string&amp; str, const TrieNode* node) {
    if (str.empty()) { return node; }
    assert(node != nullptr);
    const auto&amp; it = node-&gt;children.find(str.front());
    if (it == node-&gt;children.end()) {
      return nullptr;
    } else {
      return LookupHelper(str.substr(1), it-&gt;second.get());
    }
  }

  void FindAllHelper(
      const string&amp; current_str,
      const TrieNode* current_node,
      vector&lt;string&gt;* matches) {
    if (current_node-&gt;terminal_node) {
      matches-&gt;push_back(current_str);
    }
    for (const auto&amp; it : current_node-&gt;children) {
      FindAllHelper(current_str + it.first, it.second.get(), matches);
    }
  }

  unique_ptr&lt;TrieNode&gt; head_;
};

void PopulateTrie(const string&amp; fname, Trie* trie) {
  ifstream ifs;
  ifs.open(fname, ifstream::in);
  while (!ifs.eof()) {
    string word;
    getline(ifs, word);
    if (word.size()) {
      trie-&gt;Insert(word);
    }
  }
}

void GetPrefixesHelper(
    const vector&lt;int&gt;&amp; digiletters,
    int index,
    const string current_prefix,
    vector&lt;string&gt;* possible_prefixes) {
  if (index == digiletters.size()) {
    possible_prefixes-&gt;push_back(current_prefix);
    return;
  }
  const string candidates = kKeypadLetters[digiletters.at(index)];
  for (char c : candidates) {
    GetPrefixesHelper(
        digiletters,
        index + 1,
        current_prefix + c,
        possible_prefixes);
  }
}

void GetPrefixes(
    const vector&lt;int&gt;&amp; digiletters, vector&lt;string&gt;* possible_prefixes) {
  GetPrefixesHelper(digiletters, 0, &quot;&quot;, possible_prefixes);
}

int main(int argc, char* argv[]) {
  // Read the keypad input
  int keypad_input;
  cin &gt;&gt; keypad_input;

  // Read strings from file into Trie
  assert(argc == 2);
  Trie dict_trie;
  PopulateTrie(argv[1], &amp;dict_trie);

  // Get letter counts
  vector&lt;int&gt; digiletters;
  while (keypad_input) {
    digiletters.push_back(keypad_input % 10);
    keypad_input /= 10;
  }
  reverse(digiletters.begin(), digiletters.end());

  // First get the combinatorially possible prefixes
  vector&lt;string&gt; possible_prefixes;
  GetPrefixes(digiletters, &amp;possible_prefixes);

  // Use the prefixes to get complete matches.
  vector&lt;string&gt; possible_matches;
  for (const string&amp; prefix : possible_prefixes) {
    if (dict_trie.Lookup(prefix)) {
      dict_trie.FindAllWithPrefix(prefix, &amp;possible_matches);
    }
  }

  // Print matches
  for (const string&amp; s : possible_matches) {
    cout &lt;&lt; s &lt;&lt; endl;
  }
}
</code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Programming: Technology and Science]]></title>
    <link href="http://agam.github.io/blog/2014/01/16/programming-technology-and-science/"/>
    <updated>2014-01-16T06:21:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/16/programming-technology-and-science</id>
    <content type="html"><![CDATA[<p>I liked this quote from the <a href="http://www.amazon.com/Concepts-Techniques-Models-Computer-Programming/dp/0262220695">&ldquo;Concepts, Techniques and Models of Computer Programming&rdquo;</a>:</p>

<blockquote><p>Programming as defined above has two essential parts: a technology and its scientific foundation.</p>

<p>The technology consists of tools, practical techniques, and
standards, allowing us to do programming.</p>

<p>The science consists of a broad and deep theory with predictive power, allowing us to understand programming. <em>Ideally, the science should explain the technology in a way that is as direct and useful as possible.</em></p>

<p>If either part is left out, we are no longer doing programming. <strong>Without the
technology, we are doing pure mathematics. Without the science, we are doing a
craft, i.e., we lack deep understanding</strong></p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Programming Fun: Circle Area]]></title>
    <link href="http://agam.github.io/blog/2014/01/08/programming-fun-circle-area/"/>
    <updated>2014-01-08T20:22:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/08/programming-fun-circle-area</id>
    <content type="html"><![CDATA[<p>Straightforward <em>math-only, no-algorithm</em> <a href="http://www.reddit.com/r/dailyprogrammer/comments/1s6484/120513_challenge_138_intermediate_overlapping/">problem</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>On standard input you will be given four floating-point space-delimited values:
</span><span class='line'>x y u w. x and y are the first circle's position in Cartesian coordinates. The
</span><span class='line'>second pair u and w are the second circle's position.
</span><span class='line'>
</span><span class='line'>Note that the given circles may not actually intersect. If this is the case,
</span><span class='line'>return the sum of both circles (which will always be Pi x 2 since our circles
</span><span class='line'>are unit-circles).
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>
</span><span class='line'>Print the summed volume of the two circles, up to an accuracy of 4 digits after the decimal place.</span></code></pre></td></tr></table></div></figure>


<p>This is just trigonometry, so I made some Post-It illustrations. This one shows the general problem we have to solve.</p>

<p><img class="center" src="http://agam.github.io/images/programming-fun/circle-area-1.jpg" width="300"></p>

<p>Given the centres of the two circles, and their radii, we know <em>d</em>, the distance between their centres and whether it leads to overlap at all.</p>

<p><img class="center" src="http://agam.github.io/images/programming-fun/circle-area-2.jpg" width="300"></p>

<p>Overlap only occurs when <em>d &lt; 2r</em>. When <em>d > 2r</em> the answer is just the sum of the areas.</p>

<p><img class="center" src="http://agam.github.io/images/programming-fun/circle-area-3.jpg" width="300"></p>

<p>From this figure, it should be clear that the overlapping area is the segment of the circle subtended by the chord that is common to both circles. We can find the length of this chord by considering the right triangle formed by half of it, the radius, and half the centre distance.</p>

<p>This then leads to the relationship between the area of the sector (<em>A</em>), the area of the triangle inside it (<em>A_1</em>) and the segment area (<em>A_2</em>)</p>

<p><img class="center" src="http://agam.github.io/images/programming-fun/circle-area-4.jpg" width="300"></p>

<p>Finally, we subtract the segment area from the area of the circle (and then double it, for two circles) to get our answer.</p>

<p><img class="center" src="http://agam.github.io/images/programming-fun/circle-area-5.jpg" width="300"></p>

<div><script src='https://gist.github.com/8323896.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

int main() {
  double x1, y1, x2, y2;
  cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;
  cout &lt;&lt; &quot;Got circle 1 as (&quot; &lt;&lt; x1 &lt;&lt; &quot;, &quot; &lt;&lt; y1 &lt;&lt; &quot;)\n&quot;;
  cout &lt;&lt; &quot;Got circle 2 as (&quot; &lt;&lt; x2 &lt;&lt; &quot;, &quot; &lt;&lt; y2 &lt;&lt; &quot;)\n&quot;;

  // Total area = 2 * (area of each circle) - 2 * (segment area of overlap)
  const double kPI = atan(1.0) * 4.0;
  const double kRadius = 1.0;
  const double circle_area = kPI * pow(kRadius, 2);

  const double centre_distance = sqrt(pow(x2 - x1, 2) + pow(y2 - y1, 2));
  if (centre_distance &gt; (2 * kRadius)) {
    // No overlap
    cout &lt;&lt; (2 * circle_area) &lt;&lt; endl;
    return 0;
  }

  const double segment_half_length = sqrt(pow(kRadius, 2) - pow(centre_distance/2.0, 2));
  const double theta = asin(segment_half_length / kRadius);
  const double sector_area = theta * pow(kRadius, 2);
  const double segment_area = sector_area - (centre_distance * segment_half_length / 2);

  cout.precision(5);
  cout &lt;&lt; (2 * circle_area) - (2 * segment_area) &lt;&lt; endl;
}
</code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Urbit: Back Again]]></title>
    <link href="http://agam.github.io/blog/2014/01/08/urbit-back-again/"/>
    <updated>2014-01-08T08:47:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/08/urbit-back-again</id>
    <content type="html"><![CDATA[<p>Turns out I was affected by the last &ldquo;continuity breach&rdquo;.</p>

<p>So I had to delete everything and start over. In my case this meant</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>urbit
</span><span class='line'><span class="nv">$ </span>git pull origin master
</span><span class='line'><span class="nv">$ </span>make clean
</span><span class='line'><span class="nv">$ </span>make
</span><span class='line'><span class="nv">$ </span>rm -rf urb/*-*
</span><span class='line'><span class="nv">$ </span>rm -rf frogstar
</span><span class='line'><span class="nv">$ </span>vere -c frogstar
</span></code></pre></td></tr></table></div></figure>


<p>This time when I ran <code>:begin</code> it succeeded</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>generating 2048-bit RSA key...
</span><span class='line'>; ~doznec _Urban Republic_ is your neighbor
</span><span class='line'>; ~doznec _Urban Republic_ is your neighbor
</span><span class='line'>request approved
</span><span class='line'>; ~zod |Tianming| is your neighbor
</span><span class='line'>; ~zod |Tianming| is your neighbor
</span><span class='line'>; ~doznec _Urban Republic_ is your neighbor
</span><span class='line'>; ~doznec _Urban Republic_ is your neighbor
</span></code></pre></td></tr></table></div></figure>


<p>&hellip; and then more hoon files were downloaded, after which I got my new prompt:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~todbyt-nathes/try<span class="o">=</span>&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Next time I&rsquo;ll start exploring <em>Nock</em> and <em>Hoon</em> some more &hellip;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Programming Fun: Braille]]></title>
    <link href="http://agam.github.io/blog/2014/01/07/programming-fun-braille/"/>
    <updated>2014-01-07T23:31:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/07/programming-fun-braille</id>
    <content type="html"><![CDATA[<p>Here&rsquo;s a simple <a href="http://www.reddit.com/r/dailyprogrammer/comments/1s061q/120313_challenge_143_easy_braille/">one</a>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>Input will consistent of an array of 2x6 space-delimited Braille characters.
</span><span class='line'>This array is always on the same line, so regardless of how long the text is, it
</span><span class='line'>will always be on 3-rows of text. A lowered bump is a dot character '.', while a
</span><span class='line'>raised bump is an upper-case 'O' character.
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>
</span><span class='line'>Print the transcribed Braille.</span></code></pre></td></tr></table></div></figure>




<div><script src='https://gist.github.com/8308823.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

void InitializeBrailleData(unordered_map&lt;string, char&gt;* rep) {
  rep-&gt;insert(make_pair(&quot;O.....&quot;, &#39;A&#39;));
  rep-&gt;insert(make_pair(&quot;O.O...&quot;, &#39;B&#39;));
  rep-&gt;insert(make_pair(&quot;OO....&quot;, &#39;C&#39;));
  rep-&gt;insert(make_pair(&quot;OO.O..&quot;, &#39;D&#39;));
  rep-&gt;insert(make_pair(&quot;O..O..&quot;, &#39;E&#39;));
  rep-&gt;insert(make_pair(&quot;OOO...&quot;, &#39;F&#39;));
  rep-&gt;insert(make_pair(&quot;OOOO..&quot;, &#39;G&#39;));
  rep-&gt;insert(make_pair(&quot;O.OO..&quot;, &#39;H&#39;));
  rep-&gt;insert(make_pair(&quot;.OO...&quot;, &#39;I&#39;));
  rep-&gt;insert(make_pair(&quot;.OOO..&quot;, &#39;J&#39;));
  rep-&gt;insert(make_pair(&quot;O...O.&quot;, &#39;K&#39;));
  rep-&gt;insert(make_pair(&quot;O.O.O.&quot;, &#39;L&#39;));
  rep-&gt;insert(make_pair(&quot;OO..O.&quot;, &#39;M&#39;));
  rep-&gt;insert(make_pair(&quot;OO.OO.&quot;, &#39;N&#39;));
  rep-&gt;insert(make_pair(&quot;O..OO.&quot;, &#39;O&#39;));
  rep-&gt;insert(make_pair(&quot;OOO.O.&quot;, &#39;P&#39;));
  rep-&gt;insert(make_pair(&quot;OOOOO.&quot;, &#39;Q&#39;));
  rep-&gt;insert(make_pair(&quot;O.OOO.&quot;, &#39;R&#39;));
  rep-&gt;insert(make_pair(&quot;.OO.O.&quot;, &#39;S&#39;));
  rep-&gt;insert(make_pair(&quot;.OOOO.&quot;, &#39;T&#39;));
  rep-&gt;insert(make_pair(&quot;O...OO&quot;, &#39;U&#39;));
  rep-&gt;insert(make_pair(&quot;O.O.OO&quot;, &#39;V&#39;));
  rep-&gt;insert(make_pair(&quot;.OOO.O&quot;, &#39;W&#39;));
  rep-&gt;insert(make_pair(&quot;OO..OO&quot;, &#39;X&#39;));
  rep-&gt;insert(make_pair(&quot;OO.OOO&quot;, &#39;Y&#39;));
  rep-&gt;insert(make_pair(&quot;O..OOO&quot;, &#39;Z&#39;));
};

void AddRepresentation(const string&amp; line, vector&lt;string&gt;* representations) {
  for (int index = 0; index &lt; line.length(); index += 3) {
    (*representations)[index / 3].push_back(line[index]);
    (*representations)[index / 3].push_back(line[index + 1]);

    assert((line[index + 2] == &#39; &#39;) || (index + 2 == line.length()));
  }
}

int main() {
  unordered_map&lt;string, char&gt; braille_representation;
  InitializeBrailleData(&amp;braille_representation);

  // Assume input is well formed.
  // This means we read three lines from standard input,
  // and each line&#39;s length is (2 * x + 3)
  string line1, line2, line3;
  getline(cin, line1);
  getline(cin, line2);
  getline(cin, line3);

  // Basic invariants
  assert(line1.length() == line2.length());
  assert(line2.length() == line3.length());
  assert((line1.length() + 1) % 3 == 0);

  // Get the input into our desired form
  vector&lt;string&gt; representations((line1.length() + 1) / 3);
  AddRepresentation(line1, &amp;representations);
  AddRepresentation(line2, &amp;representations);
  AddRepresentation(line3, &amp;representations);

  for (const string&amp; rep : representations) {
    cout &lt;&lt; braille_representation[rep];
  }
  cout &lt;&lt; endl;
}
</code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Urbit: Hoon]]></title>
    <link href="http://agam.github.io/blog/2014/01/07/urbit-hoon/"/>
    <updated>2014-01-07T09:50:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/07/urbit-hoon</id>
    <content type="html"><![CDATA[<p>First off, just in case you closed your shell, terminal, screen session, whatever: you can easily resume your Arvo session</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>agam@myvm:~/urbit<span class="nv">$ </span>bin/vere frogstar
</span><span class='line'>vere: urbit home is /home/agam/urbit/urb
</span><span class='line'>loom: loaded 11MB
</span><span class='line'>init: gc: 2.361.752 bytes live
</span><span class='line'><span class="nb">time</span>: ~2014.1.7..09.04.14..a902
</span><span class='line'>ames: on localhost, UDP 57882.
</span><span class='line'>http: live on 8080
</span><span class='line'>rest: checkpoint to event 7.319
</span><span class='line'>rest: old 0v1i.p6o91, new 0v1k.b3ul0
</span><span class='line'>loaded passcode from /home/agam/.urbit/~fiddyn-lavpun.txt
</span><span class='line'>rest: replaying through event 7323
</span><span class='line'>---------------- playback starting----------------
</span><span class='line'>.....
</span><span class='line'>---------------- playback <span class="nb">complete</span>----------------
</span><span class='line'>save: gc: 28 bytes shed; 2.361.836 bytes live
</span><span class='line'>
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt;
</span></code></pre></td></tr></table></div></figure>


<p>(hmm &hellip; &ldquo;<em>playback complete</em>&rdquo; ?? Yeah apparently everything you ever do is known forever, but that makes my head hurt right now so I won&rsquo;t try too hard to understand it just yet)</p>

<p>Alright, continuing on &hellip;</p>

<h2>Fun at the REPL</h2>

<p>If you remember from <a href="http://agam.github.io/blog/2014/01/06/urbit/">earlier on</a>, we were dropped into a REPL.</p>

<p>Being a REPL means we can do stuff like</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>add 4 5<span class="o">)</span>
</span><span class='line'>9
</span></code></pre></td></tr></table></div></figure>


<p>and</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">=</span>a 17
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>add 14 a<span class="o">)</span>
</span><span class='line'>31
</span></code></pre></td></tr></table></div></figure>


<p>and also</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>mul 6 7<span class="o">)</span>
</span><span class='line'>42
</span></code></pre></td></tr></table></div></figure>


<p>or</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>mul 5 <span class="o">(</span>add 4 7<span class="o">))</span>
</span><span class='line'>55
</span></code></pre></td></tr></table></div></figure>


<p>If you look at some of the <code>hoon</code> files that were downloaded at the initial setup, you might intuit that they are executable-ish.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>+ /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try/1/bin/reverse/hoon
</span><span class='line'>...
</span><span class='line'>+ /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try/1/bin/fib/hoon
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>and more.</p>

<p>These can be run (&ldquo;evaluated&rdquo; !!) at the command line. E.g. for <code>fib/hoon</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 0
</span><span class='line'>1
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 1
</span><span class='line'>1
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 2
</span><span class='line'>2
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 3
</span><span class='line'>3
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 4
</span><span class='line'>5
</span></code></pre></td></tr></table></div></figure>


<p>Or for <code>zero/hoon</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :zero
</span><span class='line'>0                             ::  0, ~zod
</span><span class='line'>0                             ::  1, ~nec
</span><span class='line'>0                             ::  2, ~bud
</span><span class='line'>0                             ::  3, ~wes
</span><span class='line'>0                             ::  4, ~sev
</span><span class='line'>0                             ::  5, ~per
</span><span class='line'>0                             ::  6, ~sut
</span><span class='line'>0                             ::  7, ~let
</span><span class='line'>0                             ::  8, ~ful
</span><span class='line'>...
</span><span class='line'>0                             ::  252, ~pec
</span><span class='line'>0                             ::  253, ~nel
</span><span class='line'>0                             ::  254, ~nev
</span><span class='line'>0                             ::  255, ~fes
</span></code></pre></td></tr></table></div></figure>


<p>which is just 256 zeros &hellip; but you get the idea.</p>

<h2>Hoon files</h2>

<p>(More on what <code>hoon</code> really is and how to parse it later (it has to be later because I don&rsquo;t know WTF it is right now))</p>

<p>As another example, let&rsquo;s examine <code>cat/hoon</code> (which fulfills a purpose similar to the Unix <code>cat</code> you&rsquo;re familiar with)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :cat /<span class="o">=</span><span class="nv">main</span><span class="o">=</span>/toy/cat/hoon
</span><span class='line'>~ /cx/~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/~2014.1.7..09.24.24..4de6/toy/cat/hoon
</span></code></pre></td></tr></table></div></figure>


<p>The &ldquo;real&rdquo; file is at a location <em>and</em> a date! Yes, seriously. Running it again &hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :cat /<span class="o">=</span><span class="nv">main</span><span class="o">=</span>/toy/cat/hoon
</span><span class='line'>~ /cx/~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/~2014.1.7..09.25.22..9bed/toy/cat/hoon
</span></code></pre></td></tr></table></div></figure>


<p>&hellip; will give a different path.</p>

<p>So far so good. What does the file actually contain ?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :cat /<span class="o">=</span><span class="nv">main</span><span class="o">=</span>/bin/cat/hoon
</span><span class='line'><span class="s1">&#39;!:&#39;</span>
</span><span class='line'><span class="s1">&#39;::  /=main=/toy/cat/hoon&#39;</span>
</span><span class='line'><span class="s1">&#39;::&#39;</span>
</span><span class='line'><span class="s1">&#39;|=  *&#39;</span>
</span><span class='line'><span class="s1">&#39;|=  ape=(list path)&#39;</span>
</span><span class='line'><span class="s1">&#39;:_  ~&#39;</span>
</span><span class='line'><span class="s1">&#39;:_  ~&#39;</span>
</span><span class='line'><span class="s1">&#39;^-  gift&#39;</span>
</span><span class='line'><span class="s1">&#39;:+  %mu  [%atom %t]&#39;</span>
</span><span class='line'><span class="s1">&#39;=-  |-  ^-  (list ,@t)&#39;</span>
</span><span class='line'><span class="s1">&#39;    ?~(foz ~ (weld i.foz $(foz t.foz)))&#39;</span>
</span><span class='line'><span class="s1">&#39;^=  foz&#39;</span>
</span><span class='line'><span class="s1">&#39;=|  foz=(list (list ,@t))&#39;</span>
</span><span class='line'><span class="s1">&#39;|-  ^+  foz&#39;</span>
</span><span class='line'><span class="s1">&#39;?~  ape  ~&#39;</span>
</span><span class='line'><span class="s1">&#39;[(lore ((hard ,@) .^(%cx i.ape))) $(ape t.ape)]&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>&ldquo;Yikes&rdquo; is an appropriate response at this point.</p>

<p>BTW in case you were wondering: yes, right now Urbit <em>is</em> hosted on top of Unix (<strong>Arvo</strong> is written in <strong>Hoon</strong>, which is written in <strong>Nock</strong>, which is written in <strong>C</strong>), so you should see the exact same contents if you run</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>cat wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/bin/cat.hoon
</span></code></pre></td></tr></table></div></figure>


<h2>Setting up a destroyer</h2>

<p>So I asked the nice folks at <a href="mailto:urbit@urbit.org">urbit</a> nicely and they sent me a (nice?) pair of destroyers (which if nothing else, should shorten the prompt by 75% or so).</p>

<p>You&rsquo;ll receive a <em>ship</em> and its <em>ticket</em>, and then run</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :begin ~todbyt-nathes
</span><span class='line'>
</span><span class='line'>Launching ~todbyt-nathes, one of 4.278.124.800 Urbit destroyers...
</span><span class='line'>
</span><span class='line'>            If I did not build <span class="k">for </span>myself
</span><span class='line'>            <span class="k">for </span>whom should I build?
</span><span class='line'>
</span><span class='line'>                  -- Bunting, _Chomei at Toyama_
</span><span class='line'>
</span><span class='line'>Let<span class="s1">&#39;s configure your identity.  Warning - it&#39;</span>s nontrivial to
</span><span class='line'>change this data once you<span class="err">&#39;</span>ve sent it to the server.  If you enter
</span><span class='line'>something wrong, hit ^D to cancel, <span class="k">then </span>run the program again.
</span><span class='line'>
</span><span class='line'>Your ticket: &lt;Enter your ticket here&gt;
</span><span class='line'>
</span><span class='line'>Enter a passphrase or other unusual text.  You <span class="o">(</span>or your enemies<span class="o">)</span>
</span><span class='line'>can regenerate your ship from this entropy.
</span><span class='line'>
</span><span class='line'>Entropy: **********
</span><span class='line'>Entropy check: ~nildyl-hocmun
</span></code></pre></td></tr></table></div></figure>


<p>Customization follows. This would normally be boring boilerplate, but I&rsquo;ve chosen to reproduce it here since some if it is entertaining.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>What language would your ship rather speak?  Enter it as a
</span><span class='line'>two-letter <span class="o">(</span>ISO 639-1<span class="o">)</span> code, like <span class="s2">&quot;en&quot;</span> <span class="k">for </span>English.  Whatever
</span><span class='line'>language you pick, it<span class="s1">&#39;ll all be English now, but in future</span>
</span><span class='line'><span class="s1">we&#39;</span>ll be more sensitive to your needs.
</span><span class='line'>
</span><span class='line'>Language: en
</span><span class='line'>
</span><span class='line'>Okay, we<span class="err">&#39;</span>ll be speaking English.
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>Please <span class="k">select </span>one of the pre-chosen forms:
</span><span class='line'>
</span><span class='line'>  %lady   female-identified individual
</span><span class='line'>  %lord   male-identified individual
</span><span class='line'>  %punk   opaque handle
</span><span class='line'>  %anon   totally anonymous
</span><span class='line'>
</span><span class='line'>Form: %lord
</span><span class='line'>
</span><span class='line'>You<span class="s1">&#39;ve selected a personal identity.  For a %lord or a %lady,</span>
</span><span class='line'><span class="s1">please use your real name only.  If you&#39;</span>d prefer a fictitious
</span><span class='line'>handle, you can hit ^D and start over as a %punk.  Or you can
</span><span class='line'>use %anon and go by your ship name alone.
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>As a real person, we<span class="s1">&#39;re going to ask you for a little bit of</span>
</span><span class='line'><span class="s1">personal information - not enough to compromise your privacy,</span>
</span><span class='line'><span class="s1">just enough to make everyone on Urbit feel like a neighbor.</span>
</span><span class='line'>
</span><span class='line'><span class="s1">What we&#39;</span>re going to ask you <span class="k">for </span>is information that<span class="s1">&#39;s (a)</span>
</span><span class='line'><span class="s1">public (would be obvious, or at least easy to guess, for</span>
</span><span class='line'><span class="s1">someone who met you in person); (b) durable (doesn&#39;</span>t change
</span><span class='line'>often<span class="o">)</span>; and <span class="o">(</span>c<span class="o">)</span> relevant <span class="o">(</span>helps you connect with friends<span class="o">)</span>.
</span><span class='line'>
</span><span class='line'>For example, we<span class="s1">&#39;ll ask for the year (not day) you were born,</span>
</span><span class='line'><span class="s1">because your age is easy to guess in person, doesn&#39;</span>t change,
</span><span class='line'>and has a big effect on how people perceive you.
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>Year you were born: &lt;Enter your year of birth here&gt;
</span><span class='line'>
</span><span class='line'>Where are you?  This is totally optional, but we<span class="err">&#39;</span>d like to
</span><span class='line'>know your vague general location.  You can enter nothing at
</span><span class='line'>all, just a country code, or country and postal code.
</span><span class='line'>
</span><span class='line'>Location: us/&lt;Enter your zipcode here&gt;
</span><span class='line'>
</span><span class='line'>Please tell us your name - and please make it a real name.
</span><span class='line'>Pseudonyms are totally cool, but please use %punk.  Middle
</span><span class='line'>name and nickname are optional.  nicode is encouraged.
</span><span class='line'>
</span><span class='line'>First name: &lt;Enter your name here&gt;
</span><span class='line'>Middle name <span class="o">(</span>or blank<span class="o">)</span>:
</span><span class='line'>Nickname/handle <span class="o">(</span>or blank<span class="o">)</span>: agam
</span><span class='line'>Last name: &lt;Enter your name here&gt;
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>One basic human instinct is the urge to form political tribes.
</span><span class='line'>In a network that fights this need, these tribes form anyway and
</span><span class='line'>they form badly.  Urbit designs them into the infrastructure.
</span><span class='line'>Inspired by the Qing Dynasty, you<span class="s1">&#39;ll align yourself with one of</span>
</span><span class='line'><span class="s1">five colored &quot;banners&quot; - %red, %blue, %orange, %black or %white.</span>
</span><span class='line'>
</span><span class='line'><span class="s1">Political discourse across tribal boundaries is almost always an</span>
</span><span class='line'><span class="s1">antisocial act - less communication, than symbolic violence.  In</span>
</span><span class='line'><span class="s1">Urbit, messages marked political stay within your own banner;</span>
</span><span class='line'><span class="s1">your friends in other banners simply won&#39;</span>t see them.  Between
</span><span class='line'>banners, politics doesn<span class="s1">&#39;t erode apolitical relationships; inside</span>
</span><span class='line'><span class="s1">each banner, political discourse is harmonious and productive.</span>
</span><span class='line'>
</span><span class='line'><span class="s1">Pick a banner by the adjective you feel best describes you:</span>
</span><span class='line'>
</span><span class='line'><span class="s1">%red     far left: radical, anarchist</span>
</span><span class='line'><span class="s1">%blue    center-left: moderate, liberal</span>
</span><span class='line'><span class="s1">%orange  center-right: conservative, libertarian</span>
</span><span class='line'><span class="s1">%black   far right: traditionalist, reactionary</span>
</span><span class='line'>
</span><span class='line'><span class="s1">Or if digital agitation isn&#39;</span>t your cup of tea, choose %white, and
</span><span class='line'>your Urbit experience will remain politics-free.
</span><span class='line'>
</span><span class='line'>Banner: %white
</span></code></pre></td></tr></table></div></figure>


<p>At this point, it got stuck &hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>generating 2048-bit RSA key...
</span><span class='line'>ames: czar zod.urbit.org: ip .198.199.112.32
</span><span class='line'>; ~doznec ~doznec not responding still trying
</span><span class='line'>waiting on ~doznec/ta
</span></code></pre></td></tr></table></div></figure>


<p>&hellip; so I hit <code>Ctrl-D</code> and ran it again.</p>

<p>Still nothing. I guess I&rsquo;ll continue the next post once I get this working (!)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Programming Fun: Banquet Planning]]></title>
    <link href="http://agam.github.io/blog/2014/01/07/programming-fun-banquet-planning/"/>
    <updated>2014-01-07T02:27:00+00:00</updated>
    <id>http://agam.github.io/blog/2014/01/07/programming-fun-banquet-planning</id>
    <content type="html"><![CDATA[<p>Here&rsquo;s <a href="http://www.reddit.com/r/dailyprogrammer/comments/1rnrs2/112813_challenge_137_intermediate_hard_banquet/">another</a> daily programming problem:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>On standard console input, you will be given two space-delimited integers, N and M. N is the number of food items, while M is the number of food-relationships. Food-items are unique single-word lower-case names with optional underscores (the '_' character), while food-relationships are two food items that are space delimited. All food-items will be listed first on their own lines, then all food-relationships will be listed on their own lines afterwards. A food-relationship is where the first item must be served before the second item.
</span><span class='line'>Note that in the food-relationships list, some food-item names can use the wildcard-character '*'. You must support this by expanding the rule to fulfill any combination of strings that fit the wildcard. For example, using the items from Sample Input 2, the rule "turkey* *_pie" expands to the following four rules:
</span><span class='line'>turkey almond_pie
</span><span class='line'>turkey_stuffing almond_pie
</span><span class='line'>turkey pecan_pie
</span><span class='line'>turkey_stuffing pecan_pie
</span><span class='line'>A helpful way to think about the wildcard expansion is to use the phrase "any item A must be before any item B". An example would be the food-relationship "*pie coffee", which can be read as "any pie must be before coffee".
</span><span class='line'>Some orderings may be ambiguous: you might have two desserts before coffee, but the ordering of desserts may not be explicit. In such a case, group the items together.
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>
</span><span class='line'>Print the correct order of food-items with a preceding index, starting from 1. If there are ambiguous ordering for items, list them together on the same line as a comma-delimited array of food-items. Any items that do not have a relationship must be printed with a warning or error message.
</span></code></pre></td></tr></table></div></figure>


<p>The second sample input (to take an example) is as follows:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>8 5
</span><span class='line'>turkey
</span><span class='line'>pecan_pie
</span><span class='line'>salad
</span><span class='line'>crab_cakes
</span><span class='line'>almond_pie
</span><span class='line'>rice
</span><span class='line'>coffee
</span><span class='line'>turkey_stuffing
</span><span class='line'>turkey_stuffing turkey
</span><span class='line'>turkey* *_pie
</span><span class='line'>*pie coffee
</span><span class='line'>salad turkey*
</span><span class='line'>crab_cakes salad</span></code></pre></td></tr></table></div></figure>


<p>So this implies a graph that looks something like this:</p>

<p><img class="center" src="http://agam.github.io/images/programming-fun/graph-dependency-1.jpg" width="300"></p>

<p>Or, if you wish, with the arrows reversed, like this:</p>

<p><img class="center" src="http://agam.github.io/images/programming-fun/graph-dependency-2.jpg" width="300"></p>

<p>So it&rsquo;s possible to start from the first <code>root</code> node, labelling it as <code>0</code> and its neighbors as <code>1</code>. This process can be repeated, with its neighbors&#8217; neighbors being labelled as <code>2</code>, and so on, until there are no nodes left to label.</p>

<p><img class="center" src="http://agam.github.io/images/programming-fun/graph-dependency-3.jpg" width="300" title="" ></p>

<p>Once all nodes are labelled, the solution is just a pairing of these numbers and the corresponding nodes.</p>

<div><script src='https://gist.github.com/8293739.js'></script>
<script type="text/javascript">$(".gist-file table tr td.line-numbers").remove();</script>
<noscript><pre><code>#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;

using namespace std;

struct GraphNode {
  vector&lt;GraphNode*&gt; neighbors;
  string label;
  int level = 0;

  GraphNode(const string&amp; l) : label(l) {}
};

void FindFoodItems(
    const string&amp; food_glob,
    const vector&lt;GraphNode*&gt;&amp; food_nodes,
    vector&lt;GraphNode*&gt;* results) {
  for (auto&amp; food_node : food_nodes) {
    // The only cases supported are:
    //   (1) Exact match
    //   (2) &#39;*&#39; at the beginning
    //   (3) &#39;*&#39; at the end
    if (food_glob.find_first_of(&#39;*&#39;) == string::npos) {
      if (food_glob == food_node-&gt;label) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
    if (food_glob.front() == &#39;*&#39;) {
      const string matcher = food_glob.substr(1);
      if (food_node-&gt;label.substr(
            food_node-&gt;label.length() - matcher.length()) ==
          matcher) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
    if (food_glob.back() == &#39;*&#39;) {
      const string matcher = food_glob.substr(0, food_glob.length() - 1);
      if (food_node-&gt;label.substr(0, matcher.length()) == matcher) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
  }
}

int main() {
  int num_food_items, num_food_relationships;
  cin &gt;&gt; num_food_items &gt;&gt; num_food_relationships;
  cout &lt;&lt; &quot;Will read in &quot; &lt;&lt; num_food_relationships &lt;&lt; &quot; relationships for &quot; &lt;&lt; num_food_items &lt;&lt; &quot; food items.&quot; &lt;&lt; endl;
  vector&lt;pair&lt;string, string&gt;&gt; food_relationships;
  vector&lt;GraphNode*&gt; food_nodes;
  for (int i = 0; i &lt; num_food_items; ++i) {
    string food_item;
    cin &gt;&gt; food_item;
    food_nodes.push_back(new GraphNode(food_item));
  }
  for (int i = 0; i &lt; num_food_relationships; ++i) {
    string food_item_1, food_item_2;
    cin &gt;&gt; food_item_1 &gt;&gt; food_item_2;
    // We are going to use regex matching whereas the input is in &#39;glob&#39; format,
    // so make a small adjustment.
    food_relationships.push_back(make_pair(food_item_1, food_item_2));
  }

  // Sanity check what we got.
  cout  &lt;&lt; &quot;Read in the following food items :- \n&quot;;
  for (const auto&amp; food_item : food_nodes) {
    cout &lt;&lt; food_item-&gt;label &lt;&lt; endl;
  }
  cout &lt;&lt; &quot;Read in the following food relationships :- \n&quot;;
  for (const auto&amp; food_relationship : food_relationships) {
    cout &lt;&lt; food_relationship.first &lt;&lt; &quot; &lt; &quot; &lt;&lt; food_relationship.second &lt;&lt; endl;
  }

  // General approach:
  // 1. Create a graph which each node corresponding to a food item
  // 2. For every relationship, expand the regex to determine the nodes involved, and
  // then create a dependency link.
  // 3. Go through the dependency links and number the nodes
  //    - Increment the number of each of a node&#39;s dependencies
  //    - Repeat for each of the dependent nodes
  //    - Add the nodes into a numbered list.
  //    - Note: this will require adding and removing nodes from the list
  // 4. Once no more dependencies have to be processed, print out numbered list
  // 5. Go through graph and print out &#39;isolated&#39; nodes
  //
  // Edge cases: Multiple origins, multiple nodes of the same number, isolated nodes

  // Step 2
  vector&lt;GraphNode*&gt; root_nodes = food_nodes;
  vector&lt;GraphNode*&gt; isolated_nodes = food_nodes;
  for (const auto&amp; food_relationship : food_relationships) {
    vector&lt;GraphNode*&gt; dependents, dependees;
    // Each relationship can potentially be many-&gt;many
    // Note: the c++ regex implementation isn&#39;t available in my standard library
    // right now, so I&#39;m going to support a limited range of globs:
    //   only those where the &#39;*&#39; is either right at the beginning or at the end
    FindFoodItems(food_relationship.first, food_nodes, &amp;dependents);
    FindFoodItems(food_relationship.second, food_nodes, &amp;dependees);

    // Now create dependency links
    for (auto&amp; nodeA : dependents) {
      for (auto&amp; nodeB : dependees) {
        nodeA-&gt;neighbors.push_back(nodeB);
      }
    }

    // Also as part of this process weed out non-root nodes for the next step, as well as isolated nodes.
    for (auto&amp; node : dependees) {
      root_nodes.erase(
          remove(root_nodes.begin(), root_nodes.end(), node),
          root_nodes.end());
      isolated_nodes.erase(
          remove(isolated_nodes.begin(), isolated_nodes.end(), node),
          isolated_nodes.end());
    }
    for (auto&amp; node : dependents) {
      isolated_nodes.erase(
          remove(isolated_nodes.begin(), isolated_nodes.end(), node),
          isolated_nodes.end());
    }
  }

  // Step 3
  // Process all the nodes in the current &#39;frontier&#39; until there are non left.
  // The first frontier is the set of root nodes
  queue&lt;GraphNode*&gt; frontier;
  for (auto&amp; node : root_nodes) {
    frontier.push(node);
  }
  while (!frontier.empty()) {
    GraphNode* current_node = frontier.front();
    for (auto&amp; neighbor : current_node-&gt;neighbors) {
      neighbor-&gt;level = current_node-&gt;level + 1;
      frontier.push(neighbor);
    }
    frontier.pop();
  }

  // Step 4
  vector&lt;vector&lt;GraphNode*&gt;&gt; levels(food_nodes.size());
  for (const auto&amp; node : food_nodes) {
    if (find(isolated_nodes.begin(), isolated_nodes.end(), node) ==
        isolated_nodes.end()) {
      levels[node-&gt;level].push_back(node);
    }
  }

  for (int i = 0; i &lt; levels.size() &amp;&amp; !levels[i].empty(); ++i) {
    cout &lt;&lt; i + 1 &lt;&lt; &quot; : &quot;;
    for (const auto&amp; node : levels[i]) {
      cout &lt;&lt; node-&gt;label &lt;&lt; &quot;  &quot;;
    }
    cout &lt;&lt; endl;
  }
  cout &lt;&lt; endl;

  // Step 5
  // Finally, print out the nodes without dependees
  for (const auto&amp; node : isolated_nodes) {
    cout &lt;&lt; &quot;Warning: &quot; &lt;&lt; node-&gt;label &lt;&lt; &quot; does not have any ordering.&quot; &lt;&lt; endl;
  }
}
</code></pre></noscript></div>



]]></content>
  </entry>
  
</feed>
