
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Agam's Mashed-Up Pome</title>
	<meta name="author" content="Agam">

	
	<meta name="description" content="I came across a reference to Marvin Minsky&rsquo;s 1970 Turing Award Lecture. I&rsquo;ve barely read any of these lectures, always assuming they &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Agam's Mashed-Up Pome" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>

</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Agam's Mashed-Up Pome</a></h1>
<!-- DebugAgam: Uncomment if necessary!
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:agam.github.io">
			</form>
		</div>
	</div>
</nav>
-->
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		<a class="google" href="https://plus.google.com/+AgamBrahma?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/agambrahma" title="Twitter">Twitter</a>
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
        <!-- DebugAgam: uncomment if necessary!
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:agam.github.io">
	</form>
        -->
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/26/minsky-turing-lecture-part-1/">
		
			Minsky Turing Lecture: Part 1</a>
	</h2>
	<div class="entry-content">
		<p>I came across a reference to Marvin Minsky&rsquo;s 1970 Turing Award Lecture. I&rsquo;ve barely read any of these lectures, always assuming they would be empty or pedantic or plain boring. Reading this changed that perception completely.</p>

<h2>Science and Education</h2>

<p>The structure of this lecture seems very interesting to me; it seems to be divided into two parts. The first focussing more on computer science and its failings, and the second on (what seems to me) education.</p>

<p>This post is about the first part. And by &ldquo;about&rdquo; I mean just extracts with minimal commentary.</p>

<h2>The trouble with Computer Science &hellip;</h2>

<blockquote><p>The trouble with computer science today is an obsessive concern with form instead of content.</p></blockquote>

<p>(yes, that&rsquo;s the opening line!)</p>

<blockquote><p>This essay has three parts, suggesting form-content confusion in <em>theory of computation</em>, in <em>programming languages</em>, and in <em>education</em>.</p></blockquote>

<p>(yes, I said two parts earlier &hellip; I just clubbed the first two together)</p>

<blockquote><p>Suppose that we had <em>n</em> computers instead of just one. How much can we speed up what kinds of calculations? For some, we can surely gain a factor of <em>n</em>. But these are rare. For others, we can gain log <em>n</em>, but it is hard to find any or to prove what are their properties. And for most, I think, we can gain hardly anything; this is the case in which there are many highly branched conditionals, so that look-ahead on possible branches will usually be wasted. <strong>We know almost nothing about this; most people think, with surely incorrect optimism, that parallelism is usually a profitable way to speed up most computations.</strong></p></blockquote>

<p>(&ldquo;surely incorrect optimism&rdquo;! I agree!)</p>

<blockquote><p>&hellip; in today&rsquo;s computer science curricula &hellip; almost all their time is devoted to formal classifications of syntactic language types, defeatist unsolvability theories, <strong>folklore about systems programming</strong>, and generally trivial fragments of &ldquo;optimization of logic design&rdquo; &mdash; the latter often in situations where the art of heuristic programming has far outstretched the special-case &ldquo;theories&rdquo; so grimly taught and tested &mdash; and <strong>invocations about programming style almost sure to be outmoded before the student graduates</strong>.</p></blockquote>

<p>(yup, quite true even today)</p>

<h2>The trouble with programming languages &hellip;</h2>

<blockquote><p><em>SYNTAX IS OFTEN UNNECESSARY</em>. <strong>One can survive with much less syntax than is generally realized</strong>. Much of programming syntax is concerned with suppression of parentheses or with emphasis of scope markers. There are alternatives that have been much underused.
&hellip; such devices as infixes and operator precedence &hellip; have their place. But <em>their importance to computer science as a whole has been so exaggerated that it is beginning to corrupt the youth</em>.</p></blockquote>

<p>(I wonder what he would have thought of <em>C++</em> !)</p>

<blockquote><p>The clumsiness, for humans, of writing all the parentheses is evident; <strong>the advantages of not having to learn all the conventions &hellip; is often overlooked</strong>.
It remains to be seen whether a syntax with explicit delimiters is reactionary, or whether it is the wave of the future.</p></blockquote>

<p>(a possible nod to Lisp ?)</p>

<blockquote><p>Much can be done to clarify the structure of expressions in such a &ldquo;syntax-weak&rdquo; language by using indentation and other layout devices that are outside the language proper.</p></blockquote>

<p>(a possible precursory nod to Python ?)</p>

<h2>Moving forward &hellip;</h2>

<blockquote><p>What is a compiler for? The usual answers resemble &ldquo;to translate from one language to another&rdquo; or &ldquo;to take a description of an algorithm and assemble it into a program, filling in many small details.&rdquo; For the future, a more ambitious view is required. Most compilers will be systems that &ldquo;produce an algorithm, given a description of its effect.&rdquo;</p></blockquote>

<p>(not sure what to make of this)</p>

<blockquote><p>No matter how a language is described, a computer must use a procedure to interpret it. One should remember that <em>in describing a language the main goal is to explain how to write programs in int and what such programs mean</em>. The main goal <em>isn&rsquo;t</em> to describe the syntax.</p></blockquote>

<p>(Sure, ok)</p>

<blockquote><p>Paradoxically, though modern programming ideas were developed because processes were hard to depict with classical mathematical notations, designers are turning back to an earlier form &mdash; the equation &mdash; in just the kind of situation that <em>needs</em> program.</p></blockquote>

<p>(aha! wait, what?)</p>

<h2>Stay tuned</h2>

<p>So much for Part 1. I&rsquo;ll pick up the rest of the extracts next time.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-26T00:10:00+00:00" pubdate data-updated="true">Jan 26<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/languages/'>languages</a>, <a class='category' href='/blog/categories/lecture/'>lecture,</a>, <a class='category' href='/blog/categories/minsky/'>minsky,</a>, <a class='category' href='/blog/categories/programming/'>programming</a>, <a class='category' href='/blog/categories/turing/'>turing</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/24/cost-comparison-google-cloud-vs-digitalocean/">
		
			Cost Comparison: Google Cloud vs DigitalOcean</a>
	</h2>
	<div class="entry-content">
		<p>I&rsquo;ve been using a VM within the Google Compute Engine cloud, for the last two months (mostly from my chromebook, occasionally from a couple of other locations).</p>

<p>Specifically, this is a &ldquo;small&rdquo; (<code>g1-small</code>) VM, though there are <a href="https://developers.google.com/compute/docs/machine-types">many other options available</a>.</p>

<p>This comes with a single CPU core and 1.7G of memory (the disk space is provisioned separately).</p>

<p>For perspective, the only one smaller than this is an <code>f1-micro</code> instance (also with a single core, but with 0.6G of memory).</p>

<p>So it makes sense to look at what this costs &hellip;</p>

<p><img class="center" src="http://farm3.staticflickr.com/2818/12124686505_6db70c0917_o_d.png"></p>

<p>For comparison, <a href="https://www.digitalocean.com/">Digital Ocean</a> has far less flexibility, but I just might switch to it, considering that I have absolutely no plans to ever host a user-facing service or do anything of that sort, on my VM (if I did, there really wouldn&rsquo;t be any point; you want those features, folks &mdash; network protection, scalability, all that jazz).</p>

<p>So long as it&rsquo;s just little old me accessing my portable home in the cloud, the $10/mo for a 1G/30G SSD option looks just as good (or  $5/mo for 512M; also, DigitalOcean keeps running free trial offers, which are a good way to try out the service).</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-24T23:07:00+00:00" pubdate data-updated="true">Jan 24<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/cloud/'>cloud,</a>, <a class='category' href='/blog/categories/vm/'>vm</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/19/programming-fun-nuts-and-bolts/">
		
			Programming Fun: Nuts and Bolts</a>
	</h2>
	<div class="entry-content">
		<p><a href="http://www.reddit.com/r/dailyprogrammer/comments/1sob1e/121113_challenge_144_easy_nuts_bolts/">This one</a> is <em>too easy</em> but included anyway for completeness (why not?)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>The first line of input will be an integer N, which is for the number of rows
</span><span class='line'>in each list. Each list has N-lines of two space-delimited strings: the first
</span><span class='line'>string will be the unique item name (without spaces), the second string will be
</span><span class='line'>the price (in whole-integer cents). The second list, following the same format,
</span><span class='line'>will have the same unique item-names, but with the correct price. Note that the
</span><span class='line'>lists may not be in the same order!
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>
</span><span class='line'>For each item that has had its price changed, print a row with the item name
</span><span class='line'>and the price difference (in cents). Print the sign of the change (e.g. '+' for
</span><span class='line'>a growth in price, or '-' for a loss in price). Order does not matter for
</span><span class='line'>output.
</span></code></pre></td></tr></table></div></figure>




<div><script src='https://gist.github.com/8498879.js'></script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;array&gt;
#include &lt;fstream&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;map&gt;
#include &lt;memory&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

typedef unordered_map&lt;string, int&gt; Inventory;

void ReadInventory(int number_items, Inventory* inventory) {
  for (int i = 0; i &lt; number_items; ++i) {
    string item;
    int quantity;
    cin &gt;&gt; item &gt;&gt; quantity;
    inventory-&gt;insert(make_pair(item, quantity));
  }
}

int main(int argc, char* argv[]) {
  int number_items;
  cin &gt;&gt; number_items;

  Inventory before, after;
  ReadInventory(number_items, &amp;before);
  ReadInventory(number_items, &amp;after);

  for (const auto&amp; it : before) {
    assert(after.find(it.first) != after.end());
    int diff_quantity = after[it.first] - it.second;
    if (diff_quantity != 0) {
      cout &lt;&lt; it.first &lt;&lt; &quot; &quot; &lt;&lt; showpos &lt;&lt; diff_quantity &lt;&lt; endl;
    }
  }
}

</code></pre></noscript></div>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-19T00:39:00+00:00" pubdate data-updated="true">Jan 19<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/alwaysbecoding/'>alwaysbecoding,</a>, <a class='category' href='/blog/categories/reddit/'>reddit</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/18/programming-fun-telephone-keypads/">
		
			Programming Fun: Telephone Keypads</a>
	</h2>
	<div class="entry-content">
		<p><a href="http://www.reddit.com/r/dailyprogrammer/comments/1sody4/12113_challenge_139_intermediate_telephone_keypads/">This is a <em>medium</em> level problem</a>  with two levels of difficulty.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>On standard console input, you will be given an array of digits (0 to 9) and
</span><span class='line'>spaces. All digits will be space-delimited, unless the digits represent
</span><span class='line'>multiple presses of the same button (for example pressing 2 twice gives you the
</span><span class='line'>letter 'B').  Use the modern Telephone Keypads digit-letter layout:
</span><span class='line'>0 = Not used
</span><span class='line'>1 = Not used
</span><span class='line'>2 = ABC
</span><span class='line'>3 = DEF
</span><span class='line'>4 = GHI
</span><span class='line'>5 = JKL
</span><span class='line'>6 = MNO
</span><span class='line'>7 = PQRS
</span><span class='line'>8 = TUV
</span><span class='line'>9 = WXYZ
</span><span class='line'>You may use any source for looking up English-language words, though this
</span><span class='line'>simple English-language dictionary is complete enough for the challenge.
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>Print a list of all best-fitting words, meaning words that start with the word
</span><span class='line'>generated using the given input on a telephone keypad. You do not have to only
</span><span class='line'>print words of the same length as the input (e.g. even if the input is
</span><span class='line'>4-digits, it's possible there are many long words that start with those
</span><span class='line'>4-digits).</span></code></pre></td></tr></table></div></figure>


<p>You could do this by reading the dictionary into a vector of strings, then figuring out the prefix determined by the input and matching it against each dictionary word. There is a better way to do this though, which makes more sense considering the second part of this question.</p>

<p>Instead of using a vector, you could use a <a href="http://en.wikipedia.org/wiki/Trie">Trie</a> which in this case would look something like:</p>

<p>(showing the words &lsquo;sailor&rsquo;, &lsquo;soldier&rsquo; and &lsquo;solder&rsquo;)</p>

<p><img class="center" src="http://farm6.staticflickr.com/5534/12005243014_69145160ae_o_d.jpg" width="400"></p>

<p>This is a sort of naive implementation, you could compress this by storing strings and only expanding out to character chains if needed, but I skipped that optimization here.</p>

<div><script src='https://gist.github.com/8422418.js'></script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;array&gt;
#include &lt;fstream&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;map&gt;
#include &lt;memory&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

static const array&lt;string,10&gt; kKeypadLetters {
  &quot;&quot;,
  &quot;&quot;,
  &quot;abc&quot;,
  &quot;def&quot;,
  &quot;ghi&quot;,
  &quot;jkl&quot;,
  &quot;mno&quot;,
  &quot;pqrs&quot;,
  &quot;tuv&quot;,
  &quot;wxyz&quot;
};

// Naive trie implementation
struct TrieNode {
  map&lt;char, unique_ptr&lt;TrieNode&gt;&gt; children;
  bool terminal_node = false;
};

class Trie {
public:
  Trie() {
    head_.reset(new TrieNode());
  }

  void Insert(const string&amp; str) {
    InsertHelper(str, head_.get());
  }

  bool Lookup(const string&amp; str) {
    return (LookupHelper(str, head_.get()) != nullptr);
  }

  void FindAllWithPrefix(const string&amp; str, vector&lt;string&gt;* matches) {
    const TrieNode* start_node = LookupHelper(str, head_.get());
    if (start_node == nullptr) { return; }
    FindAllHelper(str, start_node, matches);
  }

private:
  void InsertHelper(const string&amp; str, TrieNode* node) {
    if (str.empty()) {
      node-&gt;terminal_node = true;
      return;
    }
    assert(node != nullptr);
    char c = str.front();
    const auto&amp; it = node-&gt;children.find(c);
    if (it == node-&gt;children.end()) {
      node-&gt;children.insert(make_pair(c, unique_ptr&lt;TrieNode&gt;(new TrieNode)));
    }
    TrieNode* next_node = node-&gt;children.find(c)-&gt;second.get();
    InsertHelper(str.substr(1), next_node);
  }

  const TrieNode* LookupHelper(const string&amp; str, const TrieNode* node) {
    if (str.empty()) { return node; }
    assert(node != nullptr);
    const auto&amp; it = node-&gt;children.find(str.front());
    if (it == node-&gt;children.end()) {
      return nullptr;
    } else {
      return LookupHelper(str.substr(1), it-&gt;second.get());
    }
  }

  void FindAllHelper(
      const string&amp; current_str,
      const TrieNode* current_node,
      vector&lt;string&gt;* matches) {
    if (current_node-&gt;terminal_node) {
      matches-&gt;push_back(current_str);
    }
    for (const auto&amp; it : current_node-&gt;children) {
      FindAllHelper(current_str + it.first, it.second.get(), matches);
    }
  }

  unique_ptr&lt;TrieNode&gt; head_;
};

void PopulateTrie(const string&amp; fname, Trie* trie) {
  ifstream ifs;
  ifs.open(fname, ifstream::in);
  while (!ifs.eof()) {
    string word;
    getline(ifs, word);
    if (word.size()) {
      trie-&gt;Insert(word);
    }
  }
}

int main(int argc, char* argv[]) {
  // Read digiletters from stdin
  vector&lt;int&gt; digiletters;
  int digiletter;
  while (cin &gt;&gt; digiletter) {
    digiletters.push_back(digiletter);
  }

  // Read strings from file into Trie
  assert(argc == 2);
  Trie dict_trie;
  PopulateTrie(argv[1], &amp;dict_trie);

  // Get letter counts
  string keypad_str;
  for (int dl : digiletters) {
    int count = 0;
    const int letter = dl % 10;
    while (dl &gt; 0) {
      assert(dl % 10 == letter);
      dl /= 10;
      ++count;
    }
    const string&amp; keypad_letters = kKeypadLetters[letter];
    assert(count &lt;= keypad_letters.size());
    keypad_str.push_back(keypad_letters[count - 1]);
  }

  // Get matches
  vector&lt;string&gt; possible_matches;
  dict_trie.FindAllWithPrefix(keypad_str, &amp;possible_matches);

  // Print matches
  for (const string&amp; s : possible_matches) {
    cout &lt;&lt; s &lt;&lt; endl;
  }
}
</code></pre></noscript></div>


<p>There is a harder version of this problem:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Challenge++
</span><span class='line'>-----------
</span><span class='line'>If you want an extra challenge, accomplish the same challenge but without
</span><span class='line'>knowing the number of times a digit is pressed. For example "7653" could mean
</span><span class='line'>sold, or poke, or even solenoid! You must do this efficiently with regards to
</span><span class='line'>Big-O complexity.</span></code></pre></td></tr></table></div></figure>


<p>This would have been more inefficient with a vector of strings (you would sort the vector and then for each prefix, print out all subsequent ones until you encounter a string with a different prefix. So it&rsquo;s O(n log n) where n is the size of the dictionary).</p>

<p>With our trie, we can (once we have a list of all combinatorially possible prefixes) look them up <em>quickly</em> (O(k + n), where k is the length of the prefix; O(k) time for each lookup and O(n) time for creating the trie (or O(mn) where m is the length of the largest word, though I would consider that a constant here)).</p>

<p>(Note: there&rsquo;s some duplication of common code, especially in the <code>Trie</code> class; sorry about that!)</p>

<div><script src='https://gist.github.com/8460783.js'></script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;array&gt;
#include &lt;fstream&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;map&gt;
#include &lt;memory&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

static const array&lt;string,10&gt; kKeypadLetters {
  &quot;&quot;,
  &quot;&quot;,
  &quot;abc&quot;,
  &quot;def&quot;,
  &quot;ghi&quot;,
  &quot;jkl&quot;,
  &quot;mno&quot;,
  &quot;pqrs&quot;,
  &quot;tuv&quot;,
  &quot;wxyz&quot;
};

// Naive trie implementation
struct TrieNode {
  map&lt;char, unique_ptr&lt;TrieNode&gt;&gt; children;
  bool terminal_node = false;
};

class Trie {
public:
  Trie() {
    head_.reset(new TrieNode());
  }

  void Insert(const string&amp; str) {
    InsertHelper(str, head_.get());
  }

  bool Lookup(const string&amp; str) {
    return (LookupHelper(str, head_.get()) != nullptr);
  }

  void FindAllWithPrefix(const string&amp; str, vector&lt;string&gt;* matches) {
    const TrieNode* start_node = LookupHelper(str, head_.get());
    if (start_node == nullptr) { return; }
    FindAllHelper(str, start_node, matches);
  }

private:
  void InsertHelper(const string&amp; str, TrieNode* node) {
    if (str.empty()) {
      node-&gt;terminal_node = true;
      return;
    }
    assert(node != nullptr);
    char c = str.front();
    const auto&amp; it = node-&gt;children.find(c);
    if (it == node-&gt;children.end()) {
      node-&gt;children.insert(make_pair(c, unique_ptr&lt;TrieNode&gt;(new TrieNode)));
    }
    TrieNode* next_node = node-&gt;children.find(c)-&gt;second.get();
    InsertHelper(str.substr(1), next_node);
  }

  const TrieNode* LookupHelper(const string&amp; str, const TrieNode* node) {
    if (str.empty()) { return node; }
    assert(node != nullptr);
    const auto&amp; it = node-&gt;children.find(str.front());
    if (it == node-&gt;children.end()) {
      return nullptr;
    } else {
      return LookupHelper(str.substr(1), it-&gt;second.get());
    }
  }

  void FindAllHelper(
      const string&amp; current_str,
      const TrieNode* current_node,
      vector&lt;string&gt;* matches) {
    if (current_node-&gt;terminal_node) {
      matches-&gt;push_back(current_str);
    }
    for (const auto&amp; it : current_node-&gt;children) {
      FindAllHelper(current_str + it.first, it.second.get(), matches);
    }
  }

  unique_ptr&lt;TrieNode&gt; head_;
};

void PopulateTrie(const string&amp; fname, Trie* trie) {
  ifstream ifs;
  ifs.open(fname, ifstream::in);
  while (!ifs.eof()) {
    string word;
    getline(ifs, word);
    if (word.size()) {
      trie-&gt;Insert(word);
    }
  }
}

void GetPrefixesHelper(
    const vector&lt;int&gt;&amp; digiletters,
    int index,
    const string current_prefix,
    vector&lt;string&gt;* possible_prefixes) {
  if (index == digiletters.size()) {
    possible_prefixes-&gt;push_back(current_prefix);
    return;
  }
  const string candidates = kKeypadLetters[digiletters.at(index)];
  for (char c : candidates) {
    GetPrefixesHelper(
        digiletters,
        index + 1,
        current_prefix + c,
        possible_prefixes);
  }
}

void GetPrefixes(
    const vector&lt;int&gt;&amp; digiletters, vector&lt;string&gt;* possible_prefixes) {
  GetPrefixesHelper(digiletters, 0, &quot;&quot;, possible_prefixes);
}

int main(int argc, char* argv[]) {
  // Read the keypad input
  int keypad_input;
  cin &gt;&gt; keypad_input;

  // Read strings from file into Trie
  assert(argc == 2);
  Trie dict_trie;
  PopulateTrie(argv[1], &amp;dict_trie);

  // Get letter counts
  vector&lt;int&gt; digiletters;
  while (keypad_input) {
    digiletters.push_back(keypad_input % 10);
    keypad_input /= 10;
  }
  reverse(digiletters.begin(), digiletters.end());

  // First get the combinatorially possible prefixes
  vector&lt;string&gt; possible_prefixes;
  GetPrefixes(digiletters, &amp;possible_prefixes);

  // Use the prefixes to get complete matches.
  vector&lt;string&gt; possible_matches;
  for (const string&amp; prefix : possible_prefixes) {
    if (dict_trie.Lookup(prefix)) {
      dict_trie.FindAllWithPrefix(prefix, &amp;possible_matches);
    }
  }

  // Print matches
  for (const string&amp; s : possible_matches) {
    cout &lt;&lt; s &lt;&lt; endl;
  }
}
</code></pre></noscript></div>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-18T02:21:00+00:00" pubdate data-updated="true">Jan 18<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/alwaysbecoding/'>alwaysbecoding,</a>, <a class='category' href='/blog/categories/reddit/'>reddit</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/16/programming-technology-and-science/">
		
			Programming: Technology and Science</a>
	</h2>
	<div class="entry-content">
		<p>I liked this quote from the <a href="http://www.amazon.com/Concepts-Techniques-Models-Computer-Programming/dp/0262220695">&ldquo;Concepts, Techniques and Models of Computer Programming&rdquo;</a>:</p>

<blockquote><p>Programming as defined above has two essential parts: a technology and its scientific foundation.</p>

<p>The technology consists of tools, practical techniques, and
standards, allowing us to do programming.</p>

<p>The science consists of a broad and deep theory with predictive power, allowing us to understand programming. <em>Ideally, the science should explain the technology in a way that is as direct and useful as possible.</em></p>

<p>If either part is left out, we are no longer doing programming. <strong>Without the
technology, we are doing pure mathematics. Without the science, we are doing a
craft, i.e., we lack deep understanding</strong></p></blockquote>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-16T06:21:00+00:00" pubdate data-updated="true">Jan 16<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/foundation/'>foundation</a>, <a class='category' href='/blog/categories/programming/'>programming,</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/08/programming-fun-circle-area/">
		
			Programming Fun: Circle Area</a>
	</h2>
	<div class="entry-content">
		<p>Straightforward <em>math-only, no-algorithm</em> <a href="http://www.reddit.com/r/dailyprogrammer/comments/1s6484/120513_challenge_138_intermediate_overlapping/">problem</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>On standard input you will be given four floating-point space-delimited values:
</span><span class='line'>x y u w. x and y are the first circle's position in Cartesian coordinates. The
</span><span class='line'>second pair u and w are the second circle's position.
</span><span class='line'>
</span><span class='line'>Note that the given circles may not actually intersect. If this is the case,
</span><span class='line'>return the sum of both circles (which will always be Pi x 2 since our circles
</span><span class='line'>are unit-circles).
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>
</span><span class='line'>Print the summed volume of the two circles, up to an accuracy of 4 digits after the decimal place.</span></code></pre></td></tr></table></div></figure>


<p>This is just trigonometry, so I made some Post-It illustrations. This one shows the general problem we have to solve.</p>

<p><img class="center" src="/images/programming-fun/circle-area-1.jpg" width="300"></p>

<p>Given the centres of the two circles, and their radii, we know <em>d</em>, the distance between their centres and whether it leads to overlap at all.</p>

<p><img class="center" src="/images/programming-fun/circle-area-2.jpg" width="300"></p>

<p>Overlap only occurs when <em>d &lt; 2r</em>. When <em>d > 2r</em> the answer is just the sum of the areas.</p>

<p><img class="center" src="/images/programming-fun/circle-area-3.jpg" width="300"></p>

<p>From this figure, it should be clear that the overlapping area is the segment of the circle subtended by the chord that is common to both circles. We can find the length of this chord by considering the right triangle formed by half of it, the radius, and half the centre distance.</p>

<p>This then leads to the relationship between the area of the sector (<em>A</em>), the area of the triangle inside it (<em>A_1</em>) and the segment area (<em>A_2</em>)</p>

<p><img class="center" src="/images/programming-fun/circle-area-4.jpg" width="300"></p>

<p>Finally, we subtract the segment area from the area of the circle (and then double it, for two circles) to get our answer.</p>

<p><img class="center" src="/images/programming-fun/circle-area-5.jpg" width="300"></p>

<div><script src='https://gist.github.com/8323896.js'></script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

int main() {
  double x1, y1, x2, y2;
  cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;
  cout &lt;&lt; &quot;Got circle 1 as (&quot; &lt;&lt; x1 &lt;&lt; &quot;, &quot; &lt;&lt; y1 &lt;&lt; &quot;)\n&quot;;
  cout &lt;&lt; &quot;Got circle 2 as (&quot; &lt;&lt; x2 &lt;&lt; &quot;, &quot; &lt;&lt; y2 &lt;&lt; &quot;)\n&quot;;

  // Total area = 2 * (area of each circle) - 2 * (segment area of overlap)
  const double kPI = atan(1.0) * 4.0;
  const double kRadius = 1.0;
  const double circle_area = kPI * pow(kRadius, 2);

  const double centre_distance = sqrt(pow(x2 - x1, 2) + pow(y2 - y1, 2));
  if (centre_distance &gt; (2 * kRadius)) {
    // No overlap
    cout &lt;&lt; (2 * circle_area) &lt;&lt; endl;
    return 0;
  }

  const double segment_half_length = sqrt(pow(kRadius, 2) - pow(centre_distance/2.0, 2));
  const double theta = asin(segment_half_length / kRadius);
  const double sector_area = theta * pow(kRadius, 2);
  const double segment_area = sector_area - (centre_distance * segment_half_length / 2);

  cout.precision(5);
  cout &lt;&lt; (2 * circle_area) - (2 * segment_area) &lt;&lt; endl;
}
</code></pre></noscript></div>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-08T20:22:00+00:00" pubdate data-updated="true">Jan 8<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/alwaysbecoding/'>alwaysbecoding,</a>, <a class='category' href='/blog/categories/reddit/'>reddit</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/08/urbit-back-again/">
		
			Urbit: Back Again</a>
	</h2>
	<div class="entry-content">
		<p>Turns out I was affected by the last &ldquo;continuity breach&rdquo;.</p>

<p>So I had to delete everything and start over. In my case this meant</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>urbit
</span><span class='line'><span class="nv">$ </span>git pull origin master
</span><span class='line'><span class="nv">$ </span>make clean
</span><span class='line'><span class="nv">$ </span>make
</span><span class='line'><span class="nv">$ </span>rm -rf urb/*-*
</span><span class='line'><span class="nv">$ </span>rm -rf frogstar
</span><span class='line'><span class="nv">$ </span>vere -c frogstar
</span></code></pre></td></tr></table></div></figure>


<p>This time when I ran <code>:begin</code> it succeeded</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>generating 2048-bit RSA key...
</span><span class='line'><span class="p">;</span> ~doznec _Urban Republic_ is your neighbor
</span><span class='line'><span class="p">;</span> ~doznec _Urban Republic_ is your neighbor
</span><span class='line'>request approved
</span><span class='line'><span class="p">;</span> ~zod <span class="p">|</span>Tianming<span class="p">|</span> is your neighbor
</span><span class='line'><span class="p">;</span> ~zod <span class="p">|</span>Tianming<span class="p">|</span> is your neighbor
</span><span class='line'><span class="p">;</span> ~doznec _Urban Republic_ is your neighbor
</span><span class='line'><span class="p">;</span> ~doznec _Urban Republic_ is your neighbor
</span></code></pre></td></tr></table></div></figure>


<p>&hellip; and then more hoon files were downloaded, after which I got my new prompt:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~todbyt-nathes/try<span class="o">=</span>&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Next time I&rsquo;ll start exploring <em>Nock</em> and <em>Hoon</em> some more &hellip;</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-08T08:47:00+00:00" pubdate data-updated="true">Jan 8<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/urbit/'>urbit</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/07/programming-fun-braille/">
		
			Programming Fun: Braille</a>
	</h2>
	<div class="entry-content">
		<p>Here&rsquo;s a simple <a href="http://www.reddit.com/r/dailyprogrammer/comments/1s061q/120313_challenge_143_easy_braille/">one</a>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>Input will consistent of an array of 2x6 space-delimited Braille characters.
</span><span class='line'>This array is always on the same line, so regardless of how long the text is, it
</span><span class='line'>will always be on 3-rows of text. A lowered bump is a dot character '.', while a
</span><span class='line'>raised bump is an upper-case 'O' character.
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>
</span><span class='line'>Print the transcribed Braille.</span></code></pre></td></tr></table></div></figure>




<div><script src='https://gist.github.com/8308823.js'></script>
<noscript><pre><code>#include &lt;cassert&gt;
#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;unordered_map&gt;

using namespace std;

void InitializeBrailleData(unordered_map&lt;string, char&gt;* rep) {
  rep-&gt;insert(make_pair(&quot;O.....&quot;, 'A'));
  rep-&gt;insert(make_pair(&quot;O.O...&quot;, 'B'));
  rep-&gt;insert(make_pair(&quot;OO....&quot;, 'C'));
  rep-&gt;insert(make_pair(&quot;OO.O..&quot;, 'D'));
  rep-&gt;insert(make_pair(&quot;O..O..&quot;, 'E'));
  rep-&gt;insert(make_pair(&quot;OOO...&quot;, 'F'));
  rep-&gt;insert(make_pair(&quot;OOOO..&quot;, 'G'));
  rep-&gt;insert(make_pair(&quot;O.OO..&quot;, 'H'));
  rep-&gt;insert(make_pair(&quot;.OO...&quot;, 'I'));
  rep-&gt;insert(make_pair(&quot;.OOO..&quot;, 'J'));
  rep-&gt;insert(make_pair(&quot;O...O.&quot;, 'K'));
  rep-&gt;insert(make_pair(&quot;O.O.O.&quot;, 'L'));
  rep-&gt;insert(make_pair(&quot;OO..O.&quot;, 'M'));
  rep-&gt;insert(make_pair(&quot;OO.OO.&quot;, 'N'));
  rep-&gt;insert(make_pair(&quot;O..OO.&quot;, 'O'));
  rep-&gt;insert(make_pair(&quot;OOO.O.&quot;, 'P'));
  rep-&gt;insert(make_pair(&quot;OOOOO.&quot;, 'Q'));
  rep-&gt;insert(make_pair(&quot;O.OOO.&quot;, 'R'));
  rep-&gt;insert(make_pair(&quot;.OO.O.&quot;, 'S'));
  rep-&gt;insert(make_pair(&quot;.OOOO.&quot;, 'T'));
  rep-&gt;insert(make_pair(&quot;O...OO&quot;, 'U'));
  rep-&gt;insert(make_pair(&quot;O.O.OO&quot;, 'V'));
  rep-&gt;insert(make_pair(&quot;.OOO.O&quot;, 'W'));
  rep-&gt;insert(make_pair(&quot;OO..OO&quot;, 'X'));
  rep-&gt;insert(make_pair(&quot;OO.OOO&quot;, 'Y'));
  rep-&gt;insert(make_pair(&quot;O..OOO&quot;, 'Z'));
};

void AddRepresentation(const string&amp; line, vector&lt;string&gt;* representations) {
  for (int index = 0; index &lt; line.length(); index += 3) {
    (*representations)[index / 3].push_back(line[index]);
    (*representations)[index / 3].push_back(line[index + 1]);

    assert((line[index + 2] == ' ') || (index + 2 == line.length()));
  }
}

int main() {
  unordered_map&lt;string, char&gt; braille_representation;
  InitializeBrailleData(&amp;braille_representation);

  // Assume input is well formed.
  // This means we read three lines from standard input,
  // and each line's length is (3 * x - 1)
  string line1, line2, line3;
  getline(cin, line1);
  getline(cin, line2);
  getline(cin, line3);

  // Basic invariants
  assert(line1.length() == line2.length());
  assert(line2.length() == line3.length());
  assert((line1.length() + 1) % 3 == 0);

  // Get the input into our desired form
  vector&lt;string&gt; representations((line1.length() + 1) / 3);
  AddRepresentation(line1, &amp;representations);
  AddRepresentation(line2, &amp;representations);
  AddRepresentation(line3, &amp;representations);

  for (const string&amp; rep : representations) {
    cout &lt;&lt; braille_representation[rep];
  }
  cout &lt;&lt; endl;
}
</code></pre></noscript></div>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-07T23:31:00+00:00" pubdate data-updated="true">Jan 7<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/alwaysbecoding/'>alwaysbecoding,</a>, <a class='category' href='/blog/categories/reddit/'>reddit</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/07/urbit-hoon/">
		
			Urbit: Hoon</a>
	</h2>
	<div class="entry-content">
		<p>First off, just in case you closed your shell, terminal, screen session, whatever: you can easily resume your Arvo session</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>agam@myvm:~/urbit<span class="nv">$ </span>bin/vere frogstar
</span><span class='line'>vere: urbit home is /home/agam/urbit/urb
</span><span class='line'>loom: loaded 11MB
</span><span class='line'>init: gc: 2.361.752 bytes live
</span><span class='line'><span class="nb">time</span>: ~2014.1.7..09.04.14..a902
</span><span class='line'>ames: on localhost, UDP 57882.
</span><span class='line'>http: live on 8080
</span><span class='line'>rest: checkpoint to event 7.319
</span><span class='line'>rest: old 0v1i.p6o91, new 0v1k.b3ul0
</span><span class='line'>loaded passcode from /home/agam/.urbit/~fiddyn-lavpun.txt
</span><span class='line'>rest: replaying through event 7323
</span><span class='line'>---------------- playback starting----------------
</span><span class='line'>.....
</span><span class='line'>---------------- playback <span class="nb">complete</span>----------------
</span><span class='line'>save: gc: <span class="m">28</span> bytes shed<span class="p">;</span> 2.361.836 bytes live
</span><span class='line'>
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt;
</span></code></pre></td></tr></table></div></figure>


<p>(hmm &hellip; &ldquo;<em>playback complete</em>&rdquo; ?? Yeah apparently everything you ever do is known forever, but that makes my head hurt right now so I won&rsquo;t try too hard to understand it just yet)</p>

<p>Alright, continuing on &hellip;</p>

<h2>Fun at the REPL</h2>

<p>If you remember from <a href="http://agam.github.io/blog/2014/01/06/urbit/">earlier on</a>, we were dropped into a REPL.</p>

<p>Being a REPL means we can do stuff like</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>add <span class="m">4</span> 5<span class="o">)</span>
</span><span class='line'>9
</span></code></pre></td></tr></table></div></figure>


<p>and</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">=</span>a 17
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>add <span class="m">14</span> a<span class="o">)</span>
</span><span class='line'>31
</span></code></pre></td></tr></table></div></figure>


<p>and also</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>mul <span class="m">6</span> 7<span class="o">)</span>
</span><span class='line'>42
</span></code></pre></td></tr></table></div></figure>


<p>or</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; <span class="o">(</span>mul <span class="m">5</span> <span class="o">(</span>add <span class="m">4</span> 7<span class="o">))</span>
</span><span class='line'>55
</span></code></pre></td></tr></table></div></figure>


<p>If you look at some of the <code>hoon</code> files that were downloaded at the initial setup, you might intuit that they are executable-ish.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>+ /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try/1/bin/reverse/hoon
</span><span class='line'>...
</span><span class='line'>+ /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try/1/bin/fib/hoon
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>and more.</p>

<p>These can be run (&ldquo;evaluated&rdquo; !!) at the command line. E.g. for <code>fib/hoon</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 0
</span><span class='line'>1
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 1
</span><span class='line'>1
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 2
</span><span class='line'>2
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 3
</span><span class='line'>3
</span><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :fib 4
</span><span class='line'>5
</span></code></pre></td></tr></table></div></figure>


<p>Or for <code>zero/hoon</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :zero
</span><span class='line'><span class="m">0</span>                             ::  0, ~zod
</span><span class='line'><span class="m">0</span>                             ::  1, ~nec
</span><span class='line'><span class="m">0</span>                             ::  2, ~bud
</span><span class='line'><span class="m">0</span>                             ::  3, ~wes
</span><span class='line'><span class="m">0</span>                             ::  4, ~sev
</span><span class='line'><span class="m">0</span>                             ::  5, ~per
</span><span class='line'><span class="m">0</span>                             ::  6, ~sut
</span><span class='line'><span class="m">0</span>                             ::  7, ~let
</span><span class='line'><span class="m">0</span>                             ::  8, ~ful
</span><span class='line'>...
</span><span class='line'><span class="m">0</span>                             ::  252, ~pec
</span><span class='line'><span class="m">0</span>                             ::  253, ~nel
</span><span class='line'><span class="m">0</span>                             ::  254, ~nev
</span><span class='line'><span class="m">0</span>                             ::  255, ~fes
</span></code></pre></td></tr></table></div></figure>


<p>which is just 256 zeros &hellip; but you get the idea.</p>

<h2>Hoon files</h2>

<p>(More on what <code>hoon</code> really is and how to parse it later (it has to be later because I don&rsquo;t know WTF it is right now))</p>

<p>As another example, let&rsquo;s examine <code>cat/hoon</code> (which fulfills a purpose similar to the Unix <code>cat</code> you&rsquo;re familiar with)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :cat /<span class="o">=</span><span class="nv">main</span><span class="o">=</span>/toy/cat/hoon
</span><span class='line'>~ /cx/~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/~2014.1.7..09.24.24..4de6/toy/cat/hoon
</span></code></pre></td></tr></table></div></figure>


<p>The &ldquo;real&rdquo; file is at a location <em>and</em> a date! Yes, seriously. Running it again &hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :cat /<span class="o">=</span><span class="nv">main</span><span class="o">=</span>/toy/cat/hoon
</span><span class='line'>~ /cx/~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/~2014.1.7..09.25.22..9bed/toy/cat/hoon
</span></code></pre></td></tr></table></div></figure>


<p>&hellip; will give a different path.</p>

<p>So far so good. What does the file actually contain ?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :cat /<span class="o">=</span><span class="nv">main</span><span class="o">=</span>/bin/cat/hoon
</span><span class='line'><span class="s1">&#39;!:&#39;</span>
</span><span class='line'><span class="s1">&#39;::  /=main=/toy/cat/hoon&#39;</span>
</span><span class='line'><span class="s1">&#39;::&#39;</span>
</span><span class='line'><span class="s1">&#39;|=  *&#39;</span>
</span><span class='line'><span class="s1">&#39;|=  ape=(list path)&#39;</span>
</span><span class='line'><span class="s1">&#39;:_  ~&#39;</span>
</span><span class='line'><span class="s1">&#39;:_  ~&#39;</span>
</span><span class='line'><span class="s1">&#39;^-  gift&#39;</span>
</span><span class='line'><span class="s1">&#39;:+  %mu  [%atom %t]&#39;</span>
</span><span class='line'><span class="s1">&#39;=-  |-  ^-  (list ,@t)&#39;</span>
</span><span class='line'><span class="s1">&#39;    ?~(foz ~ (weld i.foz $(foz t.foz)))&#39;</span>
</span><span class='line'><span class="s1">&#39;^=  foz&#39;</span>
</span><span class='line'><span class="s1">&#39;=|  foz=(list (list ,@t))&#39;</span>
</span><span class='line'><span class="s1">&#39;|-  ^+  foz&#39;</span>
</span><span class='line'><span class="s1">&#39;?~  ape  ~&#39;</span>
</span><span class='line'><span class="s1">&#39;[(lore ((hard ,@) .^(%cx i.ape))) $(ape t.ape)]&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>&ldquo;Yikes&rdquo; is an appropriate response at this point.</p>

<p>BTW in case you were wondering: yes, right now Urbit <em>is</em> hosted on top of Unix (<strong>Arvo</strong> is written in <strong>Hoon</strong>, which is written in <strong>Nock</strong>, which is written in <strong>C</strong>), so you should see the exact same contents if you run</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>cat wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/bin/cat.hoon
</span></code></pre></td></tr></table></div></figure>


<h2>Setting up a destroyer</h2>

<p>So I asked the nice folks at <a href="mailto:urbit@urbit.org">urbit</a> nicely and they sent me a (nice?) pair of destroyers (which if nothing else, should shorten the prompt by 75% or so).</p>

<p>You&rsquo;ll receive a <em>ship</em> and its <em>ticket</em>, and then run</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt; :begin ~todbyt-nathes
</span><span class='line'>
</span><span class='line'>Launching ~todbyt-nathes, one of 4.278.124.800 Urbit destroyers...
</span><span class='line'>
</span><span class='line'>            If I did not build <span class="k">for</span> myself
</span><span class='line'>            <span class="k">for</span> whom should I build?
</span><span class='line'>
</span><span class='line'>                  -- Bunting, _Chomei at Toyama_
</span><span class='line'>
</span><span class='line'>Let<span class="s1">&#39;s configure your identity.  Warning - it&#39;</span>s nontrivial to
</span><span class='line'>change this data once you<span class="err">&#39;</span>ve sent it to the server.  If you enter
</span><span class='line'>something wrong, hit ^D to cancel, <span class="k">then</span> run the program again.
</span><span class='line'>
</span><span class='line'>Your ticket: &lt;Enter your ticket here&gt;
</span><span class='line'>
</span><span class='line'>Enter a passphrase or other unusual text.  You <span class="o">(</span>or your enemies<span class="o">)</span>
</span><span class='line'>can regenerate your ship from this entropy.
</span><span class='line'>
</span><span class='line'>Entropy: **********
</span><span class='line'>Entropy check: ~nildyl-hocmun
</span></code></pre></td></tr></table></div></figure>


<p>Customization follows. This would normally be boring boilerplate, but I&rsquo;ve chosen to reproduce it here since some if it is entertaining.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>What language would your ship rather speak?  Enter it as a
</span><span class='line'>two-letter <span class="o">(</span>ISO 639-1<span class="o">)</span> code, like <span class="s2">&quot;en&quot;</span> <span class="k">for</span> English.  Whatever
</span><span class='line'>language you pick, it<span class="s1">&#39;ll all be English now, but in future</span>
</span><span class='line'><span class="s1">we&#39;</span>ll be more sensitive to your needs.
</span><span class='line'>
</span><span class='line'>Language: en
</span><span class='line'>
</span><span class='line'>Okay, we<span class="err">&#39;</span>ll be speaking English.
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>Please <span class="k">select</span> one of the pre-chosen forms:
</span><span class='line'>
</span><span class='line'>  %lady   female-identified individual
</span><span class='line'>  %lord   male-identified individual
</span><span class='line'>  %punk   opaque handle
</span><span class='line'>  %anon   totally anonymous
</span><span class='line'>
</span><span class='line'>Form: %lord
</span><span class='line'>
</span><span class='line'>You<span class="s1">&#39;ve selected a personal identity.  For a %lord or a %lady,</span>
</span><span class='line'><span class="s1">please use your real name only.  If you&#39;</span>d prefer a fictitious
</span><span class='line'>handle, you can hit ^D and start over as a %punk.  Or you can
</span><span class='line'>use %anon and go by your ship name alone.
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>As a real person, we<span class="s1">&#39;re going to ask you for a little bit of</span>
</span><span class='line'><span class="s1">personal information - not enough to compromise your privacy,</span>
</span><span class='line'><span class="s1">just enough to make everyone on Urbit feel like a neighbor.</span>
</span><span class='line'>
</span><span class='line'><span class="s1">What we&#39;</span>re going to ask you <span class="k">for</span> is information that<span class="s1">&#39;s (a)</span>
</span><span class='line'><span class="s1">public (would be obvious, or at least easy to guess, for</span>
</span><span class='line'><span class="s1">someone who met you in person); (b) durable (doesn&#39;</span>t change
</span><span class='line'>often<span class="o">)</span><span class="p">;</span> and <span class="o">(</span>c<span class="o">)</span> relevant <span class="o">(</span>helps you connect with friends<span class="o">)</span>.
</span><span class='line'>
</span><span class='line'>For example, we<span class="s1">&#39;ll ask for the year (not day) you were born,</span>
</span><span class='line'><span class="s1">because your age is easy to guess in person, doesn&#39;</span>t change,
</span><span class='line'>and has a big effect on how people perceive you.
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>Year you were born: &lt;Enter your year of birth here&gt;
</span><span class='line'>
</span><span class='line'>Where are you?  This is totally optional, but we<span class="err">&#39;</span>d like to
</span><span class='line'>know your vague general location.  You can enter nothing at
</span><span class='line'>all, just a country code, or country and postal code.
</span><span class='line'>
</span><span class='line'>Location: us/&lt;Enter your zipcode here&gt;
</span><span class='line'>
</span><span class='line'>Please tell us your name - and please make it a real name.
</span><span class='line'>Pseudonyms are totally cool, but please use %punk.  Middle
</span><span class='line'>name and nickname are optional.  nicode is encouraged.
</span><span class='line'>
</span><span class='line'>First name: &lt;Enter your name here&gt;
</span><span class='line'>Middle name <span class="o">(</span>or blank<span class="o">)</span>:
</span><span class='line'>Nickname/handle <span class="o">(</span>or blank<span class="o">)</span>: agam
</span><span class='line'>Last name: &lt;Enter your name here&gt;
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>One basic human instinct is the urge to form political tribes.
</span><span class='line'>In a network that fights this need, these tribes form anyway and
</span><span class='line'>they form badly.  Urbit designs them into the infrastructure.
</span><span class='line'>Inspired by the Qing Dynasty, you<span class="s1">&#39;ll align yourself with one of</span>
</span><span class='line'><span class="s1">five colored &quot;banners&quot; - %red, %blue, %orange, %black or %white.</span>
</span><span class='line'>
</span><span class='line'><span class="s1">Political discourse across tribal boundaries is almost always an</span>
</span><span class='line'><span class="s1">antisocial act - less communication, than symbolic violence.  In</span>
</span><span class='line'><span class="s1">Urbit, messages marked political stay within your own banner;</span>
</span><span class='line'><span class="s1">your friends in other banners simply won&#39;</span>t see them.  Between
</span><span class='line'>banners, politics doesn<span class="s1">&#39;t erode apolitical relationships; inside</span>
</span><span class='line'><span class="s1">each banner, political discourse is harmonious and productive.</span>
</span><span class='line'>
</span><span class='line'><span class="s1">Pick a banner by the adjective you feel best describes you:</span>
</span><span class='line'>
</span><span class='line'><span class="s1">%red     far left: radical, anarchist</span>
</span><span class='line'><span class="s1">%blue    center-left: moderate, liberal</span>
</span><span class='line'><span class="s1">%orange  center-right: conservative, libertarian</span>
</span><span class='line'><span class="s1">%black   far right: traditionalist, reactionary</span>
</span><span class='line'>
</span><span class='line'><span class="s1">Or if digital agitation isn&#39;</span>t your cup of tea, choose %white, and
</span><span class='line'>your Urbit experience will remain politics-free.
</span><span class='line'>
</span><span class='line'>Banner: %white
</span></code></pre></td></tr></table></div></figure>


<p>At this point, it got stuck &hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>generating 2048-bit RSA key...
</span><span class='line'>ames: czar zod.urbit.org: ip .198.199.112.32
</span><span class='line'><span class="p">;</span> ~doznec ~doznec not responding still trying
</span><span class='line'>waiting on ~doznec/ta
</span></code></pre></td></tr></table></div></figure>


<p>&hellip; so I hit <code>Ctrl-D</code> and ran it again.</p>

<p>Still nothing. I guess I&rsquo;ll continue the next post once I get this working (!)</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-07T09:50:00+00:00" pubdate data-updated="true">Jan 7<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/hoon/'>hoon</a>, <a class='category' href='/blog/categories/urbit/'>urbit,</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/07/programming-fun-banquet-planning/">
		
			Programming Fun: Banquet Planning</a>
	</h2>
	<div class="entry-content">
		<p>Here&rsquo;s <a href="http://www.reddit.com/r/dailyprogrammer/comments/1rnrs2/112813_challenge_137_intermediate_hard_banquet/">another</a> daily programming problem:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>On standard console input, you will be given two space-delimited integers, N and M. N is the number of food items, while M is the number of food-relationships. Food-items are unique single-word lower-case names with optional underscores (the '_' character), while food-relationships are two food items that are space delimited. All food-items will be listed first on their own lines, then all food-relationships will be listed on their own lines afterwards. A food-relationship is where the first item must be served before the second item.
</span><span class='line'>Note that in the food-relationships list, some food-item names can use the wildcard-character '*'. You must support this by expanding the rule to fulfill any combination of strings that fit the wildcard. For example, using the items from Sample Input 2, the rule "turkey* *_pie" expands to the following four rules:
</span><span class='line'>turkey almond_pie
</span><span class='line'>turkey_stuffing almond_pie
</span><span class='line'>turkey pecan_pie
</span><span class='line'>turkey_stuffing pecan_pie
</span><span class='line'>A helpful way to think about the wildcard expansion is to use the phrase "any item A must be before any item B". An example would be the food-relationship "*pie coffee", which can be read as "any pie must be before coffee".
</span><span class='line'>Some orderings may be ambiguous: you might have two desserts before coffee, but the ordering of desserts may not be explicit. In such a case, group the items together.
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>
</span><span class='line'>Print the correct order of food-items with a preceding index, starting from 1. If there are ambiguous ordering for items, list them together on the same line as a comma-delimited array of food-items. Any items that do not have a relationship must be printed with a warning or error message.
</span></code></pre></td></tr></table></div></figure>


<p>The second sample input (to take an example) is as follows:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>8 5
</span><span class='line'>turkey
</span><span class='line'>pecan_pie
</span><span class='line'>salad
</span><span class='line'>crab_cakes
</span><span class='line'>almond_pie
</span><span class='line'>rice
</span><span class='line'>coffee
</span><span class='line'>turkey_stuffing
</span><span class='line'>turkey_stuffing turkey
</span><span class='line'>turkey* *_pie
</span><span class='line'>*pie coffee
</span><span class='line'>salad turkey*
</span><span class='line'>crab_cakes salad</span></code></pre></td></tr></table></div></figure>


<p>So this implies a graph that looks something like this:</p>

<p><img class="center" src="/images/programming-fun/graph-dependency-1.jpg" width="300"></p>

<p>Or, if you wish, with the arrows reversed, like this:</p>

<p><img class="center" src="/images/programming-fun/graph-dependency-2.jpg" width="300"></p>

<p>So it&rsquo;s possible to start from the first <code>root</code> node, labelling it as <code>0</code> and its neighbors as <code>1</code>. This process can be repeated, with its neighbors&#8217; neighbors being labelled as <code>2</code>, and so on, until there are no nodes left to label.</p>

<p><img class="center" src="/images/programming-fun/graph-dependency-3.jpg" width="300" title="" ></p>

<p>Once all nodes are labelled, the solution is just a pairing of these numbers and the corresponding nodes.</p>

<div><script src='https://gist.github.com/8293739.js'></script>
<noscript><pre><code>#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;

using namespace std;

struct GraphNode {
  vector&lt;GraphNode*&gt; neighbors;
  string label;
  int level = 0;

  GraphNode(const string&amp; l) : label(l) {}
};

void FindFoodItems(
    const string&amp; food_glob,
    const vector&lt;GraphNode*&gt;&amp; food_nodes,
    vector&lt;GraphNode*&gt;* results) {
  for (auto&amp; food_node : food_nodes) {
    // The only cases supported are:
    //   (1) Exact match
    //   (2) '*' at the beginning
    //   (3) '*' at the end
    if (food_glob.find_first_of('*') == string::npos) {
      if (food_glob == food_node-&gt;label) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
    if (food_glob.front() == '*') {
      const string matcher = food_glob.substr(1);
      if (food_node-&gt;label.substr(
            food_node-&gt;label.length() - matcher.length()) ==
          matcher) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
    if (food_glob.back() == '*') {
      const string matcher = food_glob.substr(0, food_glob.length() - 1);
      if (food_node-&gt;label.substr(0, matcher.length()) == matcher) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
  }
}

int main() {
  int num_food_items, num_food_relationships;
  cin &gt;&gt; num_food_items &gt;&gt; num_food_relationships;
  cout &lt;&lt; &quot;Will read in &quot; &lt;&lt; num_food_relationships &lt;&lt; &quot; relationships for &quot; &lt;&lt; num_food_items &lt;&lt; &quot; food items.&quot; &lt;&lt; endl;
  vector&lt;pair&lt;string, string&gt;&gt; food_relationships;
  vector&lt;GraphNode*&gt; food_nodes;
  for (int i = 0; i &lt; num_food_items; ++i) {
    string food_item;
    cin &gt;&gt; food_item;
    food_nodes.push_back(new GraphNode(food_item));
  }
  for (int i = 0; i &lt; num_food_relationships; ++i) {
    string food_item_1, food_item_2;
    cin &gt;&gt; food_item_1 &gt;&gt; food_item_2;
    // We are going to use regex matching whereas the input is in 'glob' format,
    // so make a small adjustment.
    food_relationships.push_back(make_pair(food_item_1, food_item_2));
  }

  // Sanity check what we got.
  cout  &lt;&lt; &quot;Read in the following food items :- \n&quot;;
  for (const auto&amp; food_item : food_nodes) {
    cout &lt;&lt; food_item-&gt;label &lt;&lt; endl;
  }
  cout &lt;&lt; &quot;Read in the following food relationships :- \n&quot;;
  for (const auto&amp; food_relationship : food_relationships) {
    cout &lt;&lt; food_relationship.first &lt;&lt; &quot; &lt; &quot; &lt;&lt; food_relationship.second &lt;&lt; endl;
  }

  // General approach:
  // 1. Create a graph which each node corresponding to a food item
  // 2. For every relationship, expand the regex to determine the nodes involved, and
  // then create a dependency link.
  // 3. Go through the dependency links and number the nodes
  //    - Increment the number of each of a node's dependencies
  //    - Repeat for each of the dependent nodes
  //    - Add the nodes into a numbered list.
  //    - Note: this will require adding and removing nodes from the list
  // 4. Once no more dependencies have to be processed, print out numbered list
  // 5. Go through graph and print out 'isolated' nodes
  //
  // Edge cases: Multiple origins, multiple nodes of the same number, isolated nodes

  // Step 2
  vector&lt;GraphNode*&gt; root_nodes = food_nodes;
  vector&lt;GraphNode*&gt; isolated_nodes = food_nodes;
  for (const auto&amp; food_relationship : food_relationships) {
    vector&lt;GraphNode*&gt; dependents, dependees;
    // Each relationship can potentially be many-&gt;many
    // Note: the c++ regex implementation isn't available in my standard library
    // right now, so I'm going to support a limited range of globs:
    //   only those where the '*' is either right at the beginning or at the end
    FindFoodItems(food_relationship.first, food_nodes, &amp;dependents);
    FindFoodItems(food_relationship.second, food_nodes, &amp;dependees);

    // Now create dependency links
    for (auto&amp; nodeA : dependents) {
      for (auto&amp; nodeB : dependees) {
        nodeA-&gt;neighbors.push_back(nodeB);
      }
    }

    // Also as part of this process weed out non-root nodes for the next step, as well as isolated nodes.
    for (auto&amp; node : dependees) {
      root_nodes.erase(
          remove(root_nodes.begin(), root_nodes.end(), node),
          root_nodes.end());
      isolated_nodes.erase(
          remove(isolated_nodes.begin(), isolated_nodes.end(), node),
          isolated_nodes.end());
    }
    for (auto&amp; node : dependents) {
      isolated_nodes.erase(
          remove(isolated_nodes.begin(), isolated_nodes.end(), node),
          isolated_nodes.end());
    }
  }

  // Step 3
  // Process all the nodes in the current 'frontier' until there are non left.
  // The first frontier is the set of root nodes
  queue&lt;GraphNode*&gt; frontier;
  for (auto&amp; node : root_nodes) {
    frontier.push(node);
  }
  while (!frontier.empty()) {
    GraphNode* current_node = frontier.front();
    for (auto&amp; neighbor : current_node-&gt;neighbors) {
      neighbor-&gt;level = current_node-&gt;level + 1;
      frontier.push(neighbor);
    }
    frontier.pop();
  }

  // Step 4
  vector&lt;vector&lt;GraphNode*&gt;&gt; levels(food_nodes.size());
  for (const auto&amp; node : food_nodes) {
    if (find(isolated_nodes.begin(), isolated_nodes.end(), node) ==
        isolated_nodes.end()) {
      levels[node-&gt;level].push_back(node);
    }
  }

  for (int i = 0; i &lt; levels.size() &amp;&amp; !levels[i].empty(); ++i) {
    cout &lt;&lt; i + 1 &lt;&lt; &quot; : &quot;;
    for (const auto&amp; node : levels[i]) {
      cout &lt;&lt; node-&gt;label &lt;&lt; &quot;  &quot;;
    }
    cout &lt;&lt; endl;
  }
  cout &lt;&lt; endl;

  // Step 5
  // Finally, print out the nodes without dependees
  for (const auto&amp; node : isolated_nodes) {
    cout &lt;&lt; &quot;Warning: &quot; &lt;&lt; node-&gt;label &lt;&lt; &quot; does not have any ordering.&quot; &lt;&lt; endl;
  }

  for (auto&amp; node : food_nodes) {                                                                          
    delete node;                                                                                           
  }                                                                                                        
}
</code></pre></noscript></div>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-07T02:27:00+00:00" pubdate data-updated="true">Jan 7<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/alwaysbecoding/'>alwaysbecoding,</a>, <a class='category' href='/blog/categories/reddit/'>reddit</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        
            <a href="/posts/11" class="prev">Prev</a>
        
    
    
        <a href="/posts/13" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    Agam

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'agamamp';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-16612682-4']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
